         like. A selected check box contains
                     an X.

List box             Select one from the list of choices.
                     You can use the scroll bars to see
                     choices that aren't visible.

Option button        Select one from the group of small
                     round buttons. You can only select
                     one option at a time. The selected
                     option button contains a dot.

Text box             Type text in a box with a cursor in it.

After you supply the information, you choose the OK button to carry out the command.

To close a dialog box without carrying out the command:
 - Press ESC or choose the Cancel button.

You can also get Help on the dialog box by choosing the Help button.

Related Procedures
   " Using Dialog Box Options "~I143~
   " Scrolling Through Lists "~I138~
   " Choosing Command Buttons "~I109~

Next topic:
   " File List and Program List "~$114~@@

!$114!@
File List and Program List

MS-DOS Shell provides two basic kinds of lists:

  * A list of directories and files

  * A list of program items and groups

MS-DOS Shell also offers you several ways to view these lists by using commands on the View menu, as follows:

To view                  Choose
-------                  ------
Only directories and     Single File List
files on a disk

Directories and files    Dual File Lists
on two disks

Files in a selected      All Files
drive and file
information

Only groups and          Program List
program items

Groups, program          Program/File Lists
items, directories,
and files

To view a particular list, choose it from the View menu. Here are some suggestions for when to view each list:

Use                      To
---                      --
Single File List         Find a file in a directory.

Dual File Lists          Copy or move a file from one
                         directory or disk to another.

All Files                Compare information about files.

Program List             Start a program and an
                         associated file.

Program/File Lists       Create a new program item
                         by copying information from the
                         file list.

Next topic:
   " File List Overview "~1N~@@

!1N!!2N!!YN!@
File List Overview

The file list provides a convenient way to display and work with your disk drives, directories, and files. The file list displays a list of directories (called the Directory Tree) for a selected disk drive, and a list of files for a selected directory. Select a different disk drive to view its directory tree; select a different directory to view its files.

The menus at the top of the file list window contain commands you use when working with disks, directories, and files. You can use the file list to move, copy, delete, open, print, rename, change the attributes of, and view the contents of files. You can also create, delete, and rename directories. The command prompt is available from the file list as well.


The following topics teach you the basics of using the file list:

   " Disk Drives "~$116~
   " Directories "~$117~
   " File Selection "~$118~
   " File Information "~$119~

Related Procedures

   " Copying Files "~I113~
   " Deleting Files "~I117~
   " Moving Files "~I129~
   " Printing Files "~I134~
   " Renaming Files and Directories "~I136~
   " Searching for Files "~I139~
   " Viewing File Contents "~I149~
   " Viewing File, Directory, and Drive Information "~I120~


Next topic:
   " Disk Drives "~$116~@@

!$116!@
Disk Drives

When you start MS-DOS Shell, the file list displays the directories and files on the disk that contains the command files for MS-DOS Shell. To work with other directories and files on another drive, you need to select the drive letter. If there are several directories on the new drive, MS-DOS Shell displays a "Reading Disk Information" message.

Related Procedure
   " Selecting Drives "~I145~

Next topic:
   " Directories "~$117~@@

!$117!@
Directories

In the file list, you display directories to work with the files they contain.

Selecting Directories
---------------------
The current directory is the selected directory in the Directory Tree. You can select only one directory at a time in each Directory Tree window.

Expanding Directories
---------------------
When you start MS-DOS Shell, the Directory Tree displays only the first level of directories on the current drive.

A plus sign (+) to the left of a directory name indicates that one or more subdirectories exists for that directory. If you select a directory icon that includes a plus sign, MS-DOS Shell displays its subdirectories. This is called "expanding" the directory. When you expand a directory, the plus sign changes to a minus sign (-).

You can also use the commands on the Tree menu to control the amount of directory information displayed. You can expand an entire branch (all subdirectories in the selected directory), a single level of the branch, or all directories in the tree.

Collapsing Directories
----------------------
You can "collapse" the directory to hide any currently displayed subdirectories. The minus sign (-) changes to a plus sign (+). When you start MS-DOS Shell, it displays the directories in the root directory.

Related Procedures
   " Selecting Directories "~I144~
   " Expanding Directories "~I127~
   " Collapsing Directories "~I112~

Next topic: " File Selection "~$118~@@


!$118!@
File Selection

Before you can work with a file in the file list, you must select it. MS-DOS Shell indicates that a file is selected by highlighting its name in the list.

Within a directory, you can select more than one file at a time. This is called "extending" the selection. For example, you can select several files and copy them to another directory. You can select files that are:

  * In consecutive order

  * Scattered throughout the directory

  * In more than one directory

You can always cancel a selection or all selections.

Related Topic
   " Searching for Files "~I139~

Related Procedures
   " Selecting Files "~I146~
   " Selecting Across Directories "~I140~
   " Selecting All Files in a Directory "~I141~

Next topic: " File Information "~$119~@@

!$119!@
File Information

You can control how MS-DOS Shell displays information about files by using the File Display Options command on the Options menu. When you start MS-DOS Shell, the file list displays all the files in the current directory except hidden and system files. The files are listed alphabetically by name from A to Z. You can do the following:

  * Change the type of file displayed; for example, you
    can display only files that end with .TXT.

  * Display hidden and system files.

  * Sort alphabetically by filename or by extension,
    by date, by size, or by the order the files are
    placed on the disk.

  * Reverse the alphabetical or numerical order that 
    MS-DOS Shell uses to sort by filename and extension 
    or by date.

Related Procedure
   " Viewing File, Directory, and Drive Information "~I120~

Next topic:
   " Program List Overview "~I099~@@

!I099!@
Program List Overview

The program list provides a convenient way to display and group program items so they're easy to locate and start. The list that MS-DOS Shell displays when you first use the program list is called the "Main" group. The program list also comes with a group called "Disk Utilities" that contains an assortment of program items that run MS-DOS commands.

The menus at the top of the program list window contain commands for working with program items and groups. You can add, delete, organize, and modify groups and programs in the list by using commands on the File menu.

Related Procedures
   " Displaying the Program List "~I162~
   " Opening Program Groups "~I123~

Next topic:
   " Program Groups and Program Items "~$140~@@

!TN!@
Active Task List Overview

When task swapping is turned on, the Active Task List displays a list of the programs you started. You use the Active Task List to move from one program to another. For example, you can go from your database program to your spreadsheet, and then to your text editor, without having to quit one program and start another.

When you quit a program, it is deleted from the Active Task List.

CAUTION: You should not run 3270 emulator programs with Task Swapper turned on. Using them with Task Swapper may disconnect you from your mainframe and cause data to be lost.

Related Procedures
   " Using Task Swapping and the Active Task List "~I152~
   " Switching Between Programs "~I148~@@

!$140!@
Program Groups and Program Items

A "group" is a name given to a collection of program items. Groups can also contain other program groups.

A "program item" contains startup instructions for a program. It's not the program file.

Groups can be distinguished from program items by either a different icon (to the left of the group name in graphics mode) or by brackets (surrounding the group name in text mode).

You can add groups and program items to and delete them from the program list, as well as change their properties. You can also copy program items to groups.

The program list comes with the following program items organized by group.

MAIN GROUP

Choose this
program item        To
------------        --
Command Prompt      Use the MS-DOS command prompt.

Editor              Edit files such as batch programs.

MS-DOS QBasic       To create, modify or run your own
                    programs.

DISK UTILITIES GROUP

Choose this
program item        To
------------        --
Disk Copy           Copy the files on a disk to another
                    disk.

Backup Fixed Disk   Make backup copies of files on your hard
                    drive.

Restore Fixed Disk  Restore files that were backed up.

Quick Format        Format a disk to accept MS-DOS files.

Format              Format a disk to accept MS-DOS files.

Undelete            Restore deleted files.

Related Procedures:
   " Backing Up Files "~I165~
   " Copying Files "~I113~
   " Formatting Floppy Disks "~I164~
   " Restoring Backed Up Files "~I166~
   " Restoring Deleted Files "~I155~
   " Using the Command Prompt "~I124~

For more information on MS-DOS Editor, see the online MS-DOS Editor Help. For more information about MS-DOS QBasic, see the online MS-DOS QBasic Help.

Next topic:
   " How to Start Programs "~$121~@@

!$121!@
How to Start Programs

MS-DOS Shell offers several ways to start a program:

  * From the file list, choose a program file or a file
    associated with it. You can also select the program file
    and, from the File menu, choose Open. When you quit the
    program, you will return to MS-DOS Shell.

  * From the File menu, choose Run. You type the name of
    the program file and any parameters and switches in the
    dialog box, and then press ENTER. When you quit the
    program, you will return to MS-DOS Shell.

  * From the program list, choose a program item. This is
    the easiest way to start programs you use frequently or
    programs in different directories. When you quit the
    program, you will return to MS-DOS Shell.

  * From the Main group, choose Command Prompt. You type the
    name of the program file and any parameters and switches
    on the command line, and then press ENTER. When you quit
    the program, you must type EXIT to return to MS-DOS
    Shell.

If you                             Start it by using
------                             -----------------
Use the program frequently         The program list

Know the path                      The Run command or the
                                   file list

Do not know the path               The file list

Want to temporarily leave          The Command Prompt
MS-DOS Shell                       program item in the
                                   Main group


Related Procedure
   " Starting Programs "~I147~

Next topic:
   " How to Use More than One Program "~$122~@@

!$122!@
How to Use More than One Program

You can start several programs and move from one to another. For example, you can go from your database program to your spreadsheet, and then to your text editor, without having to quit one program and start another.

When you choose the Enable Task Swapper command, each program you start is added to the Active Task List. You use the Active Task List to move from one program to another.

When you quit a program, it is deleted from the Active Task List.

CAUTION: You should not run 3270 emulator programs with Task Swapper turned on. Using them with Task Swapper may disconnect you from your mainframe and cause data to be lost.

Related Procedures
   " Using Task Swapping and the Active Task List "~I152~
   " Switching Between Programs "~I148~

Next topic:
   " Associated Files "~$123~@@

!$123!@
Associated Files

If you have a set of files that you often use with a particular program, you can save time by associating files with the program. Then, when you choose a file, the program starts and automatically loads the file.

For example, you could associate all .TXT files with your text editor. Then, whenever you opened any .TXT file, MS-DOS Shell would automatically start your text editor and load the .TXT file.

You can also associate files without an extension with a program file. Note that every file without an extension will be associated with the selected program file.

When associating multiple extensions, you can type up to 79 characters in the dialog box. However, you can only associate an extension with one program at a time. For example, you can't associate the extension .TXT with two different text editors at the same time.

You can also cancel the association between a file and a program.

There may be times when you need to use an already associated file with a different program. You can use the Run command to do this.

Related Procedures
   " Associating Files with a Program "~I105~
   " Starting Programs "~I147~

Next topic:
   " How to Leave MS-DOS Shell "~$125~@@

!$125!@
How to Leave MS-DOS Shell

There are two ways to leave MS-DOS Shell and move to the MS-DOS command prompt. You can do the following:

  * Leave MS-DOS Shell temporarily, work on the MS-DOS
    command line while MS-DOS Shell is still running
    in memory, and return to MS-DOS Shell when you are
    finished.

  * Quit MS-DOS Shell and remove it from memory.

Related Procedures
   " Using the Command Prompt "~I124~
   " Quitting MS-DOS Shell "~I126~

That's it for the MS-DOS Shell Basics. Choose Using Help from the Help menu to learn more about the Help system.@@

!R100!@
Basic Procedures

Using the Mouse
   " Working with a Mouse "~I150~

Moving
   " Selecting Windows "~I128~

Using Menus and Commands
   " Selecting and Canceling Menus "~I142~
   " Choosing Commands "~I110~
   " Using Dialog Box Options "~I143~
   " Scrolling Through Lists "~I138~
   " Choosing Command Buttons "~I109~@@

!R101!@
File List Procedures

The following are procedures you use when working in the file list:

Displaying File Lists
---------------------
   " Displaying a List of Files in a Directory "~I119~
   " Displaying Two File Lists "~I121~
   " Displaying a List of All Files "~I118~
   " Displaying the File List and the Program List "~I125~
   " Selecting Windows "~I128~
   " Updating the Lists "~I161~

Working with the Directory Tree
-------------------------------
   " Selecting Drives "~I145~
   " Viewing File, Directory, and Drive Information "~I120~
   " Selecting Directories "~I144~
   " Expanding Directories "~I127~
   " Collapsing Directories "~I112~
   " Changing the File Display Order "~I132~
   " Selecting Files "~I146~
   " Selecting Files Across Directories "~I140~
   " Selecting All Files in a Directory "~I141~
   " Searching for Files "~I139~

Working with Files and Directories
----------------------------------
   " Creating Directories "~I115~
   " Copying Files "~I113~
   " Moving Files "~I129~
   " Deleting Files and Directories "~I117~
   " Restoring Deleted Files "~I155~
   " Renaming Files and Directories "~I136~
   " Viewing File Contents "~I149~
   " Viewing File, Directory, and Drive Information "~I120~
   " Changing File Attributes "~I107~
   " Printing Files "~I134~
   " Associating Files with a Program "~I105~
   " Opening Files "~I131~@@

!R102!@
Program List Procedures

The following are procedures you use when working in the program list:

Displaying the Program List
---------------------------
   " Displaying the Program List "~I162~
   " Displaying the File List and the Program List "~I125~
   " Selecting Windows "~I128~

Creating and Deleting Groups
----------------------------
   " Opening Program Groups "~I123~
   " Adding and Changing Program Groups "~I100~
   " Deleting Program Items and Program Groups "~I116~

Changing the Contents of a Group
--------------------------------
   " Adding Program Items to Program Groups "~I102~
   " Copying Program Items "~I114~
   " Deleting Program Items and Program Groups "~I116~
   " Changing Program Item Properties "~I104~
   " Reordering Program Items in a Program Group "~I133~

Using More than One Program
---------------------------
   " Using Task Swapping and the Active Task List "~I152~
   " Switching Between Programs"~I148~@@

!R103!@
Running Programs

The following are procedures you use when working with programs:

   " Starting Programs "~I147~
   " Using Task Swapping and the Active Task List "~I152~
   " Switching Between Programs "~I148~@@

!R104!@
Other MS-DOS Shell Procedures

The following are some additional procedures you use with MS-DOS Shell:

   " Using the Command Prompt "~I124~
   " Leaving MS-DOS Shell "~I160~
   " Changing Colors "~I106~
   " Changing the Screen Display "~I154~
   " Repainting the Screen Display "~I135~
   " Changing Confirmation Messages "~I108~
   " Quitting MS-DOS Shell "~I126~@@

!Q!@
Commands Help

Choose a topic to learn about the commands on that menu.

FILE LIST MENUS
   " File Menu "~I205~
   " Options Menu "~I202~
   " View Menu "~I203~
   " Tree Menu "~I204~
   " Help Menu "~I210~

PROGRAM LIST MENUS
   " File Menu "~I201~
   " Options Menu "~I202~
   " View Menu "~I209~
   " Help Menu "~I210~

VIEW SCREEN MENUS
   " Display Menu "~I207~
   " View Menu "~I208~
   " Help Menu "~I210~@@

!I201!@
File Menu Commands

Choose a topic to learn about that command.

   " New Command "~PMAA~
   " Open Command "~PMAB~
   " Copy Command "~PMAC~
   " Delete Command "~PMAD~
   " Properties Command "~PMAE~
   " Reorder Command "~PMAF~
   " Run Command "~PMAH~
   " Exit Command "~PMAJ~@@

!I202!@
Options Menu Commands

Choose a topic to learn about that command.

   " Confirmation Command "~YMDD~
   " File Display Options Command "~YMDE~
   " Select Across Directories Command "~YMDF~
   " Show Information Command "~YMDG~
   " Enable Task Swapper Command "~YMDH~
   " Display Command "~YMDI~
   " Colors Command "~YMDJ~@@

!I203!@
View Menu Commands

Choose a topic to learn about that command.

   " Single File List Command "~YMDK~
   " Dual File Lists Command "~YMDL~
   " All Files Command "~YMDM~
   " Program/File Lists Command "~YMDN~
   " Program List Command "~YMDO~
   " Repaint Screen Command "~YMEA~
   " Refresh Command "~YMEB~@@

Program List's !I209!@
View Menu Commands

Choose a topic to learn about that command.

   " Single File List Command "~YMDK~
   " Dual File Lists Command "~YMDL~
   " All Files Command "~YMDM~
   " Program/File Lists Command "~YMDN~
   " Program List Command "~YMDO~
   " Repaint Screen Command "~YMEA~@@

!I204!@
Tree Menu Commands

Choose a topic to learn about that command.

   " Expand One Level Command "~YMEC~
   " Expand Branch Command "~YMED~
   " Expand All Command "~YMEE~
   " Collapse Branch Command "~YMEF~@@

File List's !I205!@
File Menu Commands

Choose a topic to learn about that command.

   " Open Command "~1MCA~
   " Run Command "~1MCB~
   " Print Command "~1MCC~
   " Associate Command "~1MCD~
   " Search Command "~1MCE~
   " View File Contents Command "~1MCF~
   " Move Command "~1MCH~
   " Copy Command "~1MCI~
   " Delete Command "~1MCJ~
   " Rename Command "~1MCK~
   " Change Attributes Command "~1MCL~
   " Create Directory Command "~1MCN~
   " Select All Command "~1MCP~
   " Deselect All Command "~1MDA~
   " Exit Command "~1MDC~@@

!I207!@
Display Menu Commands

Choose a topic to learn about that command.

   " ASCII Command "~VMEO~
   " Hex Command "~VMEP~@@

View Screen's
!I208!@
View Menu Commands

Choose a topic to learn about that command.

   " Repaint Screen Command "~YMEA~
   " Restore View Command "~VMFB~@@

!I210!@
Help Menu

Choose a topic to learn about that command.

   " Index Command "~PMBI~
   " Keyboard Command "~PMBJ~
   " Shell Basics Command "~PMBK~
   " Commands Command "~PMBL~
   " Procedures Command "~PMBM~
   " Using Help Command "~PMBN~
   " About Shell Command "~PMBP~@@

!H106!!U!!PDZV!!1DZV!!2DZV!!YDZV!!VSZV!@
Using Help

MS-DOS Shell Help provides a quick way to get information about basic MS-DOS Shell skills, menus, commands, dialog boxes and options, and procedures. You can get quick Help for most items displayed in MS-DOS Shell by pressing the F1 key. Use the Help menu to get additional information about topics such as MS-DOS Shell procedures.

In the Help window, MS-DOS Shell displays the topics you can choose in a different color.

To choose a Help topic:

- Double-click the topic.

Or

1. Press TAB until the topic you want is selected.
2. Press ENTER.

For more information about Help, choose one of the following topics below:

   " Requesting Help Directly "~H100~
   " Using Help Buttons "~H102~
   " Using Help Menu Commands "~H103~
   " How to Learn About MS-DOS Shell "~H104~

Next topic:
   " Requesting Help Directly "~H100~@@

!H100!@
Requesting Help Directly

You can get Help on items MS-DOS Shell displays by pressing F1.

To get Help on a menu, command, or dialog box option:

1. Select the item you want Help on.
2. Press F1.
   Help displays a window with information about
   the item you selected.

To get a description of a dialog box:

 - In the dialog box, choose the Help button.

Or

1. Select the Help button.
2. Press F1 or ENTER.

Next topic:
   " Using Help Buttons "~H102~@@

!H102!@
Using Help Buttons

Help displays a row of command buttons at the bottom of each Help window.

To                             Choose this button
--                             ------------------
Close the current              Close
Help window

Return to the previous topic   Back

See a list of MS-DOS Shell     Index
Help topics

See a list of MS-DOS Shell     Keys
shortcut keys

Get Help on using Help         Help


Next topic: " Using Help Menu Commands "~H103~@@

!H103!@
Using Help Menu Commands

The following list describes commands on the Help menu:

Index
-----
Provides a list of MS-DOS Shell topics.

Keyboard
--------
Lists keys, key combinations and shortcut keys you use with MS-DOS Shell.

Commands
--------
Explains all MS-DOS Shell commands. This information is organized according to the menus in which the commands appear. (You can get the same information by selecting a command and pressing F1).

Procedures
----------
Provides step-by-step instructions for performing tasks in MS-DOS Shell.

Shell Basics
------------
Provides an introduction to using MS-DOS Shell.

Using Help
----------
Provides an introduction to MS-DOS Shell Help. This is the information you are using right now.

About Shell
-----------
Displays copyright and version information about MS-DOS Shell.

Next topic: " How to Learn About MS-DOS Shell "~H104~@@

!H104!@
How to Learn About MS-DOS Shell

Following are several ways to learn more about MS-DOS Shell:

If you want                        Use
-----------                        ---
Instant Help                       The F1 key

An introduction to MS-DOS Shell    The Shell Basics command
                                   on the Help menu

Step-by-step instructions          The Procedures command
                                   on the Help menu@@

More information -- x-refs from program item and group F1 Help

!$129!@
More on Command Prompt

You can start a program by typing the exact program filename and then pressing ENTER. If the file is not in the current directory, you must precede the filename with its complete path. You can use the MS-DOS directory wildcards (.. and .) to specify paths.

Type any parameters for the program after the program name. For example, to automatically open a file when you start your text editor, type the name of your text editor's program file followed by the name of your text file.

For more information on MS-DOS commands, type HELP at the command prompt. For more information about wildcards, see "MS-DOS Basics" in the User's Guide.@@

!$130!@
More on Editor

When you quit Editor, you will return to MS-DOS Shell.

You can specify the following parameter and switches:

[[drive:][path[filename]] [/B] [/G] [/H] [/NOHI]

/B       Allows the use of monochrome screen with a
         color graphics card.
/G       Provides the fastest update of a CGA screen.
/H       Displays the maximum number of lines possible
         for your screen.
/NOHI    Allows the use of a screen without high-intensity
         support.

For information about using MS-DOS Editor, see the online MS-DOS Editor Help.@@

!$131!@
More on MS-DOS QBasic

When you quit MS-DOS QBasic, you will return to MS-DOS Shell.

You can specify the following parameter and switches:

[/B] [/EDITOR] [/G] [/H] [MBF] [/NOHI] [[/RUN]
    [drive:][path]filename


/B                Allows the use of monochrome screen with a
                  color graphics card.
/EDITOR           Starts MS-DOS Editor.
/G                Provides the fastest update of a CGA
                  screen.
/H                Displays the maximum number of lines
                  possible for your screen.
/MBF              Converts the built-in functions MK$$,
                  MKD$, CVS, and CVD to MKSMBF$, MKDMBF$,
                  CVSMBF, and CDVMBF, respectively.
/NOHI             Allows the use of a screen with high-
                  intensity support.
/RUN              Runs a program file in QBasic before
                  displaying it.
[drive:][path]filename
                  Specifies the program file to load or run.

For information about using MS-DOS QBasic, see the online MS-DOS QBasic Help.@@

!$132!@
More on Disk Copy

You can specify the following parameters and switches:

[drive1: [drive2:]] [/1] [/V]

drive1:   Specifies the drive containing the source disk.
drive2:   Specifies the drive containing the destination disk.
/1        Copies only the first side of the disk.
/V        Verifies that the information is copied correctly.

The two disks must be the same type.
You may specify the same drive for drive1 and drive2.

Related Procedure
   " Copying Files "~I113~

For more information about the DISKCOPY command, type HELP DISKCOPY at the command prompt.

!$133!@
More on MS Backup

You can specify the following parameters and switches:

[filename] [/BW] [/LCD] [/MDA]

filename            Specifies the name of the MS Backup setup file to be loaded.
                    You do not need to include the .SET extension.
/BW                 Specifies a VGA monochrome display.
/LCD                Specifies a laptop LCD display.
/MDA                Specifies an IBM monochrome (or compatible) display.

Related Procedures
   " Backing Up Files "~I165~
   " Restoring Backed Up Files "~I166~

For more information about the parameters and switches, type HELP MSBACKUP at the command prompt.@@

!$134!@
More on MS Anti-Virus

You can specify the following parameters and switches:

[[drive:] [drive:] [drive:] | [path]] [/S] [/C] [/R] [/A] [/L] [/N] [/P] [/F] [/VIDEO]

drive:           Specifies the drive(s) on which to check for viruses.
path[filename]   Specifies the location and/or file(s) you want to scan.
/S               Scans for viruses.
/C               Scans for viruses and cleans up viruses that are detected.
/R               Displays a summary of the results after the check for
                 viruses is complete.
/A               Scans all disk drives except A and B.
/L               Scans all local disk drives except A and B.
/N               Supresses full-screen interface and results; stores 
                 results, if any viruses are detected, in a file called
                 MSAV.TXT.
/P               Supresses full-screen interface, but displays results
                 when scanning is complete.
/F               Supresses the names of files scanned. This switch is
                 valid only when used with the /N or /P switch.
/VIDEO           Displays a list of additional switches that affect how 
                 MS Anti-Virus is displayed.

For more information about MS Anti-Virus, type HELP MSAV at the command prompt.@@

!$135!@
More on Format Disk

You can specify the following parameters and switches:

drive: [/V[:label]] [/Q] [/U] [/F:size] [/B | /S]
drive: [/V[:label]] [/Q] [/U] [/T:tracks /N:sectors]
   [/B | /S]
drive: [/V[:label]] [/Q] [/U] [/1] [/4] [/B | /S]
drive: [/Q] [/U] [/1] [/4] [/8] [/B | /S]

/V[:label]  Specifies the volume label.
/Q          Performs a quick format.
/U          Performs an unconditional format.
/F:size     Specifies the size of the floppy disk to format,
            in kilobytes (such as 360, 720, 1.2, 1.44).
/B          Allocates space on the formatted disk for system
            files.
/S          Copies system files to the formatted disk.
/T:tracks   Specifies the number of tracks per disk side.
/N:sectors  Specifies the number of sectors per track.
/1          Formats a single side of a floppy disk.
/4          Formats a 5.25-inch 360K floppy disk in a
            high-density drive.
/8          Formats eight sectors per track.

Related Procedure
   " Formatting Floppy Disks "~I164~

For more information about the FORMAT command, type HELP FORMAT at the command prompt.@@

!$136!@
More on Quick Format

If the disk has already been formatted and needs to be formatted again, Quick Format is much faster than Format.

You can specify the following parameters and switches:

drive: [/V[:label]] [/U] [/B | /S]

/V[:label]  Labels the disk as specified.
/U          Performs an unconditional format.
/B          Allocates space on the formatted disk for system
            files.
/S          Copies system files to the formatted disk.

Related Procedure
   " Formatting Floppy Disks "~I164~

For more information about the FORMAT command, type HELP FORMAT at the command prompt.@@

!$137!@
More on Undelete

You can specify the following parameters and switches:

[[drive:][path]filename] [/DT | /DS | /DOS]

[/LIST|/ALL|/PURGE[:drive] | /STATUS | /LOAD | /UNLOAD | /S[:drive] | /Tdrive[-entries]]

[drive:][path]filename
                  Specifies the location and/or name(s) of 
                  the files you want to recover.
/DT               Recovers only files listed in the 
                  deletion-tracking file.
/DS               Recovers only those files listed in the
                  SENTRY directory.
/DOS              Recovers only those files that are internally
                  listed as deleted by MS-DOS.
/LIST             Lists the deleted files that are available
                  to be recovered.
/ALL              Recovers deleted files without prompting
                  for confirmation on each file.
/PURGE[:drive]    Purges contents of the delete-sentry directory.
/STATUS           Displays the type of delete protection in effect
                  for each drive.
/LOAD             Loads Undelete using the UNDELETE.INI options.
/UNLOAD           Unloads Undelete from memory.
/S[:drive]        Enables delete-sentry method of protection, and
                  loads Undelete in memory.
/Tdrive[-entries] Enables delete-tracking method of protection,
                  and loads Undelete in memory.

Related Procedure
   " Restoring Deleted Files "~I155~

For more information about the parameters and switches, type HELP UNDELETE at the command prompt.

For more information about the TMP variable, see "Configuring Your System," in the User's Guide.

UNDELETE (c) Copyright 1987-1991, Central Point Software, Inc.@@

           2h
  DRVSPACESYS           2Y  DRVSPACETXT           2(  MSD     EXE           2 VFINTD  386           2*  DRIVER  SYS           2-  EDIT    HLP           20E  FASTHELPEXE           29,  FASTOPENEXE           2?2/  FC      EXE           2EH  FIND    EXE           2Or  GRAPHICSCOM           2SM  GRAPHICSPRO           2]R  HELP    COM           2h  HELP    HLP           2i8 MZD%     A    [                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          T           x      @    ~DOS  
 N    MS-DOS TASK SWITCHER SUPPORT    N    Your program cannot be swapped out to disk. There is not enough space on      your  disk.  The suspended program will be restarted. You must free disk      space  to  switch  out  from this  application, or else you must end the      program before trying to go back to the Shell.'   N    press any key to restart the program....(    N $       VWUu6s8  мR:s  ( >  t PP6Xs 63P6s !R/  Ps	2mL   s
t&$ % $ N +   >L  t3 kAtP6 ( P3Pd3$ % >1  tQJ /t= w@>$  t91 F
1 FWJ /&ǅc  &ǅe  &ǅg  _6$ 6% q L!]_^tbL P6( s;( tuPS sP( PX[X[[Xs	* ( @P _&XtP3% 0 $ +/  3P+ s s$ 0 본P R T 'V L UVW$ T~t _^] UVW$ ?=  &  7 & _^]U
+sr  ^vVPr^F3 vPPSsVF3vPPPbF 3vPSQur(3vvvP?vnrvr	vv]$ <Vz
rP VU^QR^^ZY  ^^ F33 F33^F؎vHPˋ]   & &3&P R T &&& &x&&V & 3 5 t+&1 &-,&-&-5 3 &-&-ڻX ڋw
ڻX ڋw
À>* u  ÿ V (   ÿ T (   ؊  .TMP2P	 X$ 0<9vw
uO
uO9 UVF=!s] U^ӋN<!s] U^ӴA!s] UNV^
FB!s] ?@ UfN^~Nvt.+@u;s)QWP֋Ȋf!H  3X_Y+ȃ uw֊f!$ 1WQֹf! 3Y_ r;rô>!f]
 U^>!]  =U^VC2!]  $ <u =  &  7 & &   && <r 6 F	, 2$ && P<
s<cuXP$ 	X$  ËָC3!A! UVW8  F> t2 J /qJ /u :F t3P3 v =F t8tJ /&Ew@ tT&Ezu0 D&]|=uP3&FA
uI SPQvF F t
isFu PX_^] UQVWF u F u J/< 18 3F u:;:v8ظJ	 /_^Y] VWJ /v2&uƌ_^UVWv rJ /_^] UVWJ /2&u㍵v 3&Dz;Ft2&Dy㍵vBڌ_^] UJ /2&u㍵v F  &Dw u~ t&Dz;Ft&Dw@ u2&Dy㍵vF^tJ /] UWJ /fF&m_] UVWv~ t" 3@ &J @ȷ  	 FH=L vL FL +Q Q 	 \Y р\
\ ~
NQ&G	 ´YY
 	 \2 _^]
 SRVW@  &t&?t2&$?2_^Z[F		%! &&	%! UF  F ~ t3vvPr{F3 vPQPvvr_VN+7 F^ v6 vvvH r/  FV~ t~W3 _ 3vWRQxF~ uVF杋] UF  F  ^
 	F  F  NV FFu  ~ uNN33TAPSເ r;vË[Xr&= t
++͋QW_Yur~3N^ )N^ NV NV  RA] R~V ~)~^  NV8 VF  FV~ tC~WFFFF_ 3vWRQ(s 3v6 Pvvs FFu ~ u A  FFu  ~ uSF^;vt[~ tF3~uW+~)~^ _W~_F  uN넃+^)^^ ,׃ F  F  NV# ~ uVF]
 U$  V VPsFF3ɻ vPQSs3vvvPs~3 vWPSsF5 F3 F]Uvv[ vvP4r`FF3ɻ vPQSrI3vvvPUvr23 vPQP?+? 6? 67 Pv:r	v	 F] U~ 3WvWPQ_r7&&Et-&M&  &M&U3v6 PQRr] 2R3һ 㒋ZÀ>u
< NgÀ>u<NgUF F  3PPPgFV>  t3 5 FVNVD 6H QRE rU NVF q6 QR# rCVS6( r[&\|^]U6V@!3u
;Vu;F]  ִA!2
	!2 !U ;Fu	3P ] WJ /&i_UWJ /F&i_]  ! 3!32!ø3! U= ~ t3 vPPQ'r+? 3ɺ ] U3=  vPPQ] UVW3 5 vQRp _^] UVW 3 vWPSr@~3 vWPSr*NV5 3 t>  t3vvvPk_^] U 3ɾ vVQPPs> 3ɍvvVQP9s'vvu>  u= &  ZF+? 7 &v1 &L3&L&L&L
&LN&LHNFNNV;v r;v &&DPS^[Xu PSQRV&&L&DvPQRV^ZY[XrgPSQRV~W3 _ 3vWRQQ^ZY[Xr<+ȋt&\&Dox~W3 _ 3vWRQ] Uvvu F+? 7 v1 &L
3&L&L&L&LN&LHNFNNV;wgr;wa&&D~t-PSQR+? 6? 67 P ZY[XPSQRVv
.^ZY[Xr1PS^[Xt+ȋt&\&D땋] Ë1 FˇQR1 FZYUF] 26? 67 6g 3 5 PXt
SRPSáP @V >UR L >]L N   UFH& 3ҋ] UQW^^ËF+F3t 3J 3_Y] ӱ3QR
ZYË1 tF
FL!     \  O \  J
  "           @   U  ; 

@1e?mD 
&s˸J /%H& +&  ' J!E)&, &U. ! !3!tP  2 K!&P32!X.>u+H@ !.*Ћ$&I.*!P> t,e!  !I P! J!H&   P!Xr3.?t..>%s.  .u	. f..P.u%3`&ttPR ZXs
X...XSQW u<W3ۋ: ">;uU:7t[E__Y[3  @ >3۹ 2&u⍵v2&Du&DvtƇ &DtƇ&Dz;u672&Dy&:ut⍵vÀu. ..> t3=u. PS;[Xr...P2.<Xt.>tt u..U.&n.:f u.v]..]Ϝ.F~U.  .  ~]^~
tȈEhP2X
ttttt.=	t{FU. . ]F<u" tYr.  t.] 2PSȌ;u[X˴![X˜U9F]t.ϝ...
stt&t...=Ft=t=t=Kt..3....&..uPXu36g3r
s&t....    ..    ..    ..    ..    ..    ..    ..    ..    ..    ..    ..    ..    ..    ..    ..    .P.
XuZ.?tL.4. u.&6.f&8ir) . u.4.&6.4.f&8. . uPSQRUVW
ff`" 3.32..;t.vqs(b.M3.y. .> t!' .&. .8&0 .:. P!.. u.&.f&..&3.$?3.>u.u.2.-.ˎ.. u..&..f&&.> t%\Ae !L1..){3.Z. u_^]ZY[X
fafø X!.5X!.6
tX3!/!.. Q!.WFV4 .v.>u NgUS$5!^F$%!G v!!PV^$%!X[] US$5!^F$%!V!;V!V^$%![] 2.WPRø P.!..8&. .:&0 X2.5!X2.6!..!n ~    .>uNgt<4&<3ع2 t
3<$<32 ù 3۸ DoªCù 3۬2DWC@ ػ GG@ & &
 & c  ƫث4ƫثt<t4ƫث&5t&&.6"S.&5Ȍ;t.[. t32  . t.t   a.$
a! !@ @!$~ !.
t. ttP.&.Xù ~5!D
\%!<rp5!	%!.>t	5!F		%!. 5!h
%!5!
%!!5!
!%!#%!$5!$%!'5!'%!/5!/%!
5!q5!> u6*5!t*%!\5!th\%!!  !.> u".> t rrt
B. SP!$u3   
u'.&? u.&? uu
. X[.> u.>PVSPQ3[&64 & <u& O.&t&*Gs&G_t	.u&G u& COu&"N u.
 . 2[^Xô4!..K..R!..ô.G F)U!. + .. l2.PR.> u.> u. .3&* .;u'&( .;u&.;u&.;u....>u.uA<v<t)U@ &6 s* *Ip-] !Paaa  X.RSPQVWf.6._^YX[Z].6.> th=2 s	=+ r+ ø2 ø PUn;w s]XSPQW3.&_&O&= u@= s.>&u_YX[.0  C/<u.0SC/.3.1[.>0u.1.1S.&? u([.> tPS 2[X.> tPS ·[XPQC3BBaa $3BB 4aYXl # DMVY\USVW &  &E &E &E2&E% &E
8-&E&EWK3ǋ/tF~  ^ǌ_&E&]
 & &E &E  &E &E> u  ;ut_^[]PQRK3ێú/ZYXPSR H u,.> t  F;ut  t 3Q3 Y. Z[XUPSQRW...PXt,SPQR&_F^.^Z#YX[u&_ZY[X]= wS.[3SQRVW3I  3 s   r/1.>3 s   s	 3 _^ZY[.3.&333QV..> ul3PXt/SP&_t&t&9Ot  sX[&
 r^YPtD&;GrwD&;Grw
D&;GsX;u;ø R. ø 3ҹ ?. ø 3ҹ ,. ø 3. 8 D >r turwrPr'X#P['ãPI['ã6PXP$<Xu`@>   rR<@ P68X'V     u   :@'s8:3  Sr+GL8:3 y -à$<t	  ] à$<t	  J P$<Xt 8 ú  =!r+33ҸB!<33Ҹ B!3ҋ<6?!>!6>6.>      SQRVWK3ێÌɺ/t)S&_t&&Ot&G [&_  _^ZY[33&5&u&E ޹ 6t2Vtt Lt V^VL4^^t3> t+63<LtL&FGÈ       @M;S<>=?KRAA ""!"""W"("M"-"-"">u` \R6 u'WQ . N    Y_
tȢ <u&<u
<
u
'36 Z+ËPXË2
u 3ۊ:v&8t3ۊSQR ZY[V>  t    <
u<t< tA<u <u <tI<
tk<tm:sGx>  u:sF뿋ðpW   _. O_ƾ>  tQXð3
.n\#^PSQ3Ɋ  Y[X/
tT < s<	tJ >  t/
u(N"WOΰ S:v=	t	O* *ˀ[_t O      *6   :t:t&Gb :tF  < u *tItWG_u*]s@( _W^ \|<	t< s	P^ X@UPSQRWF V>  t#>
 &F$B& @F&
 @_ZY[X]À>  t Q] tÀ>  t
   2/.. t. . 
u& À>  tô~Pw
XÁ  %% >#u  3À>#u 3U VWU3& .#.#t&?u3#~LtS.# u+3۸ o3PHu9 o uǱࣝ#2#.#.###%#%  33 t##q%#v%#vB 33 t#%#%#X#&LOu(1.&9G't&9G(u&##%.#%$#  M 3&=Cou#0&#9&##~#@tt ]_^]VW#$.tt3TÃ.#.#33_^VW#$ttQ##tt35_^ø 33 33øP R 33ø 3 .# 3333 3  3! 3  3Ü3 .6#PWVWZ .6#3PRVWP 3X333ظ .6#PWVWZ .6#3PRVW.# Ì.# 3333 333.#  0 n  0   0 N 
  < 
      UUn9]] UVW P .&~tv3.&~= 6j& DFQ4ttPY~l~" ~nP q&(nP `&)*_^] UVW~&(nP'&)nP~" ~^6j& &DFQ&4&t&tPcY.&v43 _^] .tt3N . &< % &E nP &}nP &}.&&G&
 .tt3N &+ < &E!  &}nP?&}nP/.&&G&
 VW t* P 	* P_^UVW t8v* P W _t* P * P_^]UVW^
.&_v~N+_^] UVW.&^
&G~vN+_^]  &> HPt oPHt3ouo.&*3@r  tt3PP@r.>tuEUo.&ot.&&oo.>&&ouo ].>tu"U&.&@t( o.&]À>t tu3PrÀ>t tu3PÀ>t tw3PSÀ>t tw3P.> tPVWU thU ]_^X.>tu.&&>j 3&> r3&> .> tPtUh ]Xo 
HL 
   MS-DOS TASK SWITCHER'S POP-UP PROGRAM SUPPORT-   
 L 
  Your pop-up program has been loaded and you may activate it as you would  
  normally.  When you have finished using this pop-up program, exit it and  
  press Ctrl+C to return to the Shell.  & 
 L  Press any key to return to MS-DOS Shell  MS-DOS Shell Task Switcher  0 U*] 2:*uֺ !t<uÄ     f000	0
0	11'1@1R1k1r1 0-1WQ->-+/>/Y_-1-3--2-- U.&+00.:f u.v]..-]33PSR uZ[XكtPSR uZ[XPSu	u[X몃
]PSeu	u[X댃PStu
u[XtvP|uXbdPSu
u[XIK3D3=V33Ҿ-		<t< uT;DsD^VWQ= t1-		<t< u9Tr@ Ӹ 2-# 33Y_^PR	3-u3ZXPR
-ZX9Tu,> W|L DT+	  |L_D DPSR3һ Z[XVWQ 	=tA	WVQ	 Y^_		Y_^VW- r| uS3ۇ^[3  2-
33_^þ-t<t9t	-	=t< t	= uED VWQ		 =uY_^WVQR/ /PDtr//DT-DD
tr//DT-D
X-ZY^_V9r|tD\T 
33^Vr| tL 
33^Vr |T 3^VQRP--XZY^UVs.| t+;\uw<VWPSQ9D+É\|L	  L|DD Y[X_^ VWPSQR	=tJ= uEDE;w;t*\+Ë]+؉E|L|LZY[X_^ \bZY[X_^}SRV^DF	Ӛ0tZVvT
D  D  D  D  F TV&T0V
0V^Z[Z[3 2
33^]VzrDT+--^SPQVW13---&tu=&w&G&u)&u"3Ţ- ؉-&&E0&M _^YX[Ã>-u>-t(S&--&&G&G--[EMMXXXX0MS-DOS Task Swapper.

This program is used internally by the MS-DOS Shell and should not be run
from the command line.
$ <u= t5	!Ug5!
 5 u~t x)!u)!a P ~ u ] 3  	  t- @7 ;v
$   %  % 53 5 u- b!? K= & 7 &   ?   =  w   =w +? ? BA Ã>  u3   5   ^$ >C ts; 9 ֊2u$ > t; sB =t; v» 5 3 WC   C/<t C C/HFJ /&ct1 &e9 &g; IFt>t9Pд	FXt+1  39 ; &e&g1 &cF_H& rw' r   _  V 9&G
u&<\t\
uVWw$ߢH $ߢ _^<t
 tN2N
< t<=t<,t
<;t<	t<
U] U VW/!F^|! u>  u?F/t6H Q N!r(YQq v
uC3!A!O!rYV^!_^]5 t  $0<9v*.* "ÃGRB*.* "ÿ" u Ú UJ /v 3&Dw u&|z u@= r&ǅk  &  v2&u&Dn	 &Dp &Dr ; s  2&o
u@ û &@. &qI &sJ &rK &E.&E.&p. t.. u.. t.. . &Dw$.% .& t.. t.. t.  .WV 4 ^_WVu  ^_&D|* &Dz  u&&k @&k&  &u &DzV  R ^V w: ^V. ^&_D &aF >  u
>  uN]&FG
u&.FG
u  V          RB    OP4 PˌÌH؎  GH +s+ڋ+s+¬NF$<u<um¨t2 3ҭÎt& t ܌@&HË> 6
  - ؎  ֋./@  ʎں!L!Packed file is corrupt! ` j t 			
 p'_QQQTeTlTqTxT}TUU)W/W9Y                              COMPCOM           2)  DISKCOPYCOM           24  DISPLAY SYS           2"=  DOSHELP HLP           2*  DOSKEY  COM           2-  DRVSPACEEXE           20P ۉ633;t0.;s..;v..;s..;v.AA.;rC.;r.>u..&=W 3..+..+2....+.6C.;r[&..&g&G..&g&G                BJBJÊ@ >&t &=s= w
t3V ^ˀ>&td &= w
t3       U o&X ]ðC3BBaa $3BB 4aPS o3PHu[X                    >EMM386  EXE           2^ ISO     CPI           2Z  KEYBRD2 SYS           2|  MSCDEX  EXE           2c  ANSI    SYS           2i#  APPEND  EXE           2*  CHKSTATESYS           2  CHOICE  COM           2  DBLWIN  HLP           2   DELTREE EXE           2g+  DISKCOMPCOM           2&)  DISKCOPYCOM           224  DISPLAY SYS           2@=  DOSHELP HLP           2P  DOSKEY  COM           2V  DRVSPACEEXE           2\P DRVSPACEHLP           25g DRVSPACEINF           2hh
  DRVSPACESYS           2lY  DRVSPACETXT           2(  MSD     EXE           2 VFINTD  386           2P  DRIVER  SYS           2V  EDIT    HLP           2\E  FASTHELPEXE           2n,  FASTOPENEXE           2z2/  FC      EXE           2H  FIND    EXE           2r  GRAPHICSCOM           2M  GRAPHICSPRO           2R  HELP    COM           2  HELP    HLP           28 $   Mw    	       VWQR.2 .>4 ).0 ;w+QQWs_Y״@!;YsZY_^VWQR.2 .64 5.0 ;w+Qִ?!;rVs^YYZY_^P$׆׉DX$׆׉SQRVWU&U&u&]&}ub3:u:u6&m t  &=tPÀ 63ZX]_^ZY[u&Et.uX ޸  QV3s3^Yþ 3u@^Y        QR." ..ZY&&Eu& 3ۉ633;t0.;s..;v..;s..;v.AA.;rC.;r.>u..&=W 3..+..+2....+.6C.;r[&..&g&G..&g&G                BJBJÊ@ >&t &=s= w
t3V ^ˀ>&td &= w
t3       U o&X ]ðC3BBaa $3BB 4aPS o3PHu[X                    >tSRsZ[áu
yQWVȎ &r3ێ4ރ#3ɱ2&'C@ 

y^_YZ[tSR
yQȎ33ɱ3C@ 

yYZ[..V^uËWVʴ F
t	<tĪ
^u܃3_+&E  PS 	 CC[X        SP.>th
u4.}...<t	<w9.}1u+< s'$<w!<t.}...X[..G3.C.E3@ .G.IK@ B 3.C.G@ .IB  0123456789ABCDEFP3ؠ$<	t<tXú
.
yutú
.
yR Zú
.
yR2Z6&4@wR@t~>@~>@t6@`t@t"@tw	Us2À>	tù QR,!»ZY=!r
ش>!ù  <!PW2AA_X32P

yXB쪊J32B쪊J32&%@GS3۹ [S3۹ [UPSQW3ێû&&Gt/s&NV~WW Ft ^&_&}_Y[X] @ P       @ P                      @ P    @ P     P     ^      @ P       P      ^P      ^P      P      P      @ @      PQRVW3ؾI.r<v .u ..`.wF$.y.Ȏ؎
ysu rr QQъ&XZ& >rr^_^ZYXȎ.r2. 2w
ysQuH t5<?w-Q؋ȎY~GRB.>{.	           WSȎ
 
33۹ .
@C3۱."
@C[_SWȎ3 
3۱.
@C_[WȎ3 } tGiWV6{*^_rXb   ؃~- ~  Pr;uGs
.} tm>!c>!ȎغA!_WȎ
 3}<uGrW
u>
tW=!_r:
ǃ~-   ~   r	;u.>
u>!A!_WȎ3}
t<uGrS[_WBJBQ6{so>rt4 H2>PQRZr3;u/YX..;u;u
>!YX>!A!YBJB_VȎذ=!r[R>ru؋/ظ26PQRZYX>!ZA!^                                                                 PR-/.0ZXHsN2 PWQ >4 +0 Y_XYs*z ;tz u;ss ts r6 3ؾI 󥾄 󥾨.>u3 .u..6.>zu3 @WȎؿ .
y .+.,	 "" - AA_ێÎ؋r6 3D#&.ts#3I 󥿄 󥿨.>u~3 .u..>.>zu3 @eȎ- AAV .
y 2&+ &,
.
y   "	 " 3ɱ3'C@J _=tRP.-...0./XZ˺   S[  ú  S[ ú 	 S[ ú  S[ ú  ú(                                                                                     `	                    
@!@.}...PP=2 s
=+ r0X XPS= v=+ s3 [XOMPCOM           2)  DISKCOPYCOM           24  DISPLAY SYS           2"=  DOSHELP HLP           2*  DOSKEY  COM           2-  DRVSPACEEXE           20P t.
***********************************************
[savestate]
screenmode = text
resolution = low
startup = filemanager
filemanagermode = shared
sortkey = name
pause = disabled
explicitselection = disabled
swapmouse = disabled
tasklist = disabled
switching = disabled
[programstarter]
currentcolor = Ocean
filemanager = enabled
command = enabled
group = 
{
	program = 
	{
	command = COMMAND
	title = Command Prompt
	help = Starts the MS-DOS command prompt where you can type any MS-DOS comHIMEM   SYS           2	q  INTERLNKEXE           2
-C  INTERSVREXE           2&
2  LABEL   EXE           2L
$  LOADFIX COM           2V
k  MEMMAKEREXE           2X
 MEMMAKERHLP           2
UC  MEMMAKERINF           2
_  MODE    COM           2
\  MONOUMB 386           2
O"  MORE    COM           2	  MOVE    EXE           2
G  MSBACKUPEXE           2  MSBCONFGHLP           2"Բ  MSBCONFGOVL           2Pj  MSTOOLS DLL           206  MWBACKR DLL           2  POWER   EXE           2t  PRINT   EXE           2(=  QBASIC  HLP           2A RAMDRIVESYS           2  SETVER  EXE           2.  SHARE   EXE           2*  SIZER   EXE           2  SMARTDRVEXE           2Y  SMARTMONEXE           2 p  SMARTMONHLP           2)  SORT    EXE           2  SUBST   EXE           2^H  TREE    COM           2,!  UNFORMATCOM           241  MSBACKUPHLP           2L| о Wn1mC'Շr.;sk.b6tN* +7^_]+V+ʋs++22QRS2%<ZY2=Pt+. #%
u    a+GF? r+# Q!P7$zD %k 
^8)fcgc%3aD)dwd%Ce|ʇe%Sff%Wgg%[%%_t0 5橕EީU֩yeΩk`Ʃ]9#aO3lbACuc𽮩3Sd%Weo6[f	.t5럩?>***Qȸ YᖈCHuys	釠+񃔩=SA\(бp򋯨RS	=y҄ 
<u<P mٗ扔ZPQW!C+%  ÃX!5 E(F +Bq ¹_YX+ۈ?و XÆ _
us	C6a2	2 H^ WWB!WB! "$B&(*!,.0B2468:<>@Jya~p>E @0`]                  K      [ N
 S+ P.. ډ= v )))ÎڎñHH	u11 JuŲs1JuŲr"JuŲJuŲAA رtAA&리t4<tA  - ؎r*FAB*X[1t ǋǃ&	u= uڋË> 6  - ؎1֋./  Rar! ϐs         {t 1 	     - 3     OCAML\CHANGES.TXTzK&W.B8   8+P쬹wV!x \pAPB^H~̾X,s̈́g/q\6N&r@XҞ5QTϳ$>ޓ`q.fL8 |:fX|tˆEHl:e52^շ05'}ެD5`DNGf{ 3Z)YV.JwjcN+sKEJBJ8d( 6H$J$mP`K4G)%HYBpš02ժWWM ڟi3G,ɾň\oZT!wL{*bՃ|SN)s1ަ3g@89-A`RNȵ+JYhOB	^},iZx٧-cL4 D#2կ\"%0-qJYOӷc&vLmqp{ěҚ N!HHK<9eCPY5 ΙeFDKa^!{]!I!G}*l>m]BRX)VDJϲUF{jD(#1t
&1̝ĥcAmr
ɧv[Sjr"4V@"@< ^ 4ވ-Ȍ`XwL(O-,b!AdHpׄ}H`-ewTxgNg0X^!IU-q/x HB[v=E:?ؚV(uaNX;nVMhJ#5߱є$uT.|,ZMm,1>;Dz'	3S"w.8aK6"[x,Q`|6Hx/!1hoRBXQ<^:Ʒ9Z>͕>C<y^z]BJC"a(	
3>WF̦0RJpl	ohC}wY_Ӵr,\;9!!	]QuۖV)׽TK")k]X៙GxxX8\̓ -,,}T:8*l-ˋY8\ {ۀNU_D(䃘@IC84#2n 17@%HMDG)80Y |.g/&  UɅ(L"ބ&g-I7,TB0QK~ݨGOm'B35f"Yڻ`
m[,K|BW7?Tjmxp9WA{,0RUЫC6\!~"
oz֙MqWb:|}ַH+,4քSGțSc	r%~`N8^fe	YVXju$Ӈpk:|~ۊi:ݻMuj)XdD2b38c]!o=v~1DrҔaz4%o07-

)d6)pT;V%K^k.SѢ耛E.8Uꤻ|	lr.I{3_<?02rG_n.(;uo=YŁgt8vOHo*`h0	dy(2F=]P[RIi6؛;dCEٱ H!{(rd륎ɣW!
8\
FXbB*2f`%b/_VӺ礭چ*Ff .ʿ5OO!6ݙfuõ@F1*HSKWR\)+E+&Ldj+o
gn)v]S݀9}l.iлE_>j~KWt!R:8˧}/mЬ =	0w, iGyrZ	zgOy;&><4
N,tyA|`ܴB"S~HVu->؅؇礹qK	="7|o8LU6+wNC3+,1JyIa؇
R`̊y1&O&~+#s\Pwx2]p:3\r;Eh#@0b}ɨK9v^"nʓ K7/;|#RE;;XE\2lS p]R("R 84QNJ!*
20Z<'#rdpM49EL( ͑޸UepրܠXVrkUfh{H*S2tco?Cpl7Q<UHW =Ȁ}_vaTHI(+Ȉ-Zt 1   u
   ' ^ 3     OCAML\LICENSE.TXTx`8'齧7=^j@N\8`E@Ij`=ȶ
'CLIÇ( $IǯUA K 9PI)}:v FcBJoU@g58L܎M`pc\d!p6r+q̸MZ        ~          #     1 1 w w    ?  ?   0   @ ` p x | ~  | l F                                   `      RZt3Ɉs8
P<)XP$0)/)0)XP  )XP0)/)0)>)X P<)XP$0)/)0)XP  )XP0)/)0)>)X 3۸ P<)XP$0)/)0)XP  )XP0)/)0)>)XøP<)XP$0)/)0)XP  )XP0)/)0)>)X øP<)XP$0)/)0)XP  )XP0)/)0)>)X` F혊FNF혊FNf a˺ %!6Tָ` ָB H!$ !! ! JJM !ò @t,t6	#  
ǘ 2$

.2%332¢:It	It //4uz43,È.     ٨z4% 3m g 
ȡ 4,t   3 23۰    fu#" t  >   6  fÅtpy؋R = wƀs"= r   Ċ    N    ;} ; "Z  s x  
ȡ @ @tt
=Ot    <r< sP X.\` 0.dl3.8 ud.\.h@. . tu rG.;>bu:W7 _.8. t. Ǌ.>b&.`.#Z .3\ .^.>bGt.)>b.\O@u ^&;u.+^ .+`  PCXrƓ3}ؒ..;|+VZ.b@t  u	.;4uSRWH _ZS [.>a.4.61+RS...;rX.#Z}+ $C,S.}.>bP   YXPQSVW.6}.b .  _^[YX.36CCHuػll  OVW<֜.    P.>t
.>eu.<u R.  ZX.6^u  +5  Kua _^À>u$s&2NuV  BuRt&"2Ī &&-G[NuRP    XZRPB.JB.JB.JB.XZ3ǋ>et$  sP3ҎH&J&NQ~3;}-   ~";}; ;6 ~; ; ~YYþ F FN +  V3ءc. IP	<s%<r`t<s$<	t<uX <rI<r<u3&t@&J_þP <t7r4 3<w;t<r5>t<r^~<r AJ^`6& >.Z>\6e^H O>  3󫒻   FFOu.@ ]ɸ35!;u!+u@\%!FF  v3Ɇ5!\^L%!N]3 ࠒ  3  & F3C t33҃wۇ HPV
NFÓ33҇  FMW  3޸ ܡV X @A33ؠbآ H *t? td3 ;|     .grxOgtþ^ ;u3u
 t^   h빇
ʴ: u;Z u;\ t Z \ ˋF;|  ;|  뭋N V R^N V 될 F F
 F   Åt
N P Ó3 H=d sV ІԿR A


j
'


Bt
11
11
5
;

11
	D
u<!w`2a<#tX<$u <&u    JI <'uZ \ 33҇  <1u   <2ud333<Mu<mu<*u ^ ٺ CuteMouse 2.1 35!   ؈ Cutjs$	tPUXr>u	"tLseuiLt% Sz v3%!X Pso<r	uA)Q1  >!KyXZ! <u,<w t   t@t4;u:u=Hr	
>t0h
	~It!It<tuâ\M5! XPvP3˿5 s3 t+dP3u@PXP6XsyXÅt.Tu&B@t!JJP-uJJBB$Xs}TP3JJBBְ`֠d3&&l&:&lt4uT&&lTu&:&ltu<t<Mu <Zu<3uuǍTXptP<)XP$0)/)0)XP  )XP0)/)0)>)XruP<)XP$0)/)0)XP  )XP0)/)0)>)Xr`u\P<)XP$0)/)0)XP  )XP0)/)0)>)Xr!utt tt	tP<)XP$0)/)0)XP  )XP0)/)0)>)Xru3ێøP<)XP$0)/)0)XP  )XP0)/)0)>)Xt rnd rgP r`P<)XP$0)/)0)XP  )XP0)/)0)>)Xr#utt ttt{y 3ۀultePSP<)XP$0)/)0)XP  )XP0)/)0)>)Xru rd rP
 r[X[XPt$HdtHPtH<tH(tHtH
t SP<)XP$0)/)0)XP  )XP0)/)0)>)Xru[X[XPW0,3&/P$<
i/Xs_X$08,0MࢀТy3M ;u Ë   û< r{- sû 	$ r sP
件 X
仸 ,0:w:s	<
rGNË !3@uE@t< v</u"$߿9:uG	Wڃr   G 
 L!!Gu~u<u  Ӹ3%!  뫋, I!K ص1;tHJ إB& L&  ø X!hX!pû  X!  X!Su;؀s4 X!AX!sX![SH!rs´I![ôI!  
Error: Invalid option No VGA? Use older CTMOUSE if you need EGA RIL support
  argument 
Enter /? on command line for help Mouse services already present Error: device not found CuteMouse driver is not installed! Driver unload failed: some interrupts intercepted...  Driver successfully unloaded... Resident part reset to  Installed at  PS/2 port COM  (0000h/IRQ ) in  Mouse Systems mode Microsoft mode Logitech mode  (wheel present)
 
CuteMouse v2.1 beta4 [FreeDOS]
  
Options:
  /V	   - reverse search: find PS/2 after serial mouse
  /P	   - force PS/2 mouse mode, do not probe serial ports
  /S[c[i]] - force serial mouse mode at COM port c (1-4) with IRQ i (1-7)
  /3	   - force 3-button mode if Microsoft or PS/2 mouse found
  /O       - enable PS2 and BIOS USB wheel detection (might hang)
  /M	   - assume any non-PnP serial mouse is *old* Mouse Systems

  /R[h[v]] - horizontal / vertical resolution: h,v = 1-9, or 0 for auto
	     (no value = use default: auto for h, or "as h" for v)
  /L	   - swap left and right button

  /B	   - cancel run if mouse services are already present
  /N	   - load CuteMouse as new TSR, even if CuteMouse is already loaded
	     (useful for batch files which unload CuteMouse at end)
  /W	   - do not allow CuteMouse to move itself into UMB
  /U	   - uninstall driver, remove TSR from memory
  /?	   - show this help ?aRP vO vS  V v vR  8L@ vB  wN vW vU    Y  vM  v                                                                                                 tlebar = green
		scrollbar = black
		borders = black
		drivebox = brightwhite
		driveicon = brightwhite
		cursor = brightcyan
	}
	}
	selection = 
	{
	title = Turquoise
	foreground = 
	{
		base = black
		highlight = brightwhite
		selection = brightwhite
		alert = brightred
		menubar = brightwhite
		menu = black
		disabled = white
		accelerator = white
		dialog = black
		button = black
		elevator = white
		titlebar = black
		scrollbar = brightwhite
		borders = black
		drivebox = blaMSBACKUPOVL           20 MSAV    EXE           2 MSAV    HLP           2S]  MSAVHELPOVL           2t  MSAVIRUSLST           2  MSBACKDBOVL           2  MSBACKDROVL           2H	 MSBACKFBOVL           2 MSBACKFROVL           2 MWAV    EXE           20- MWAV    HLP           2+`  MWAVABSIDLL           20  MWAVDLG DLL           2  MWAVDOSLDLL           2  MWAVDRVLDLL           2D@  MWAVMGR DLL           2LT  MWAVSCANDLL           2bP MWAVSOS DLL           2  MWAVTSR EXE           2 C  MWBACKF DLL           28  MWBACKUPEXE           2 MWBACKUPHLP           2" MWGRAFICDLL           2P  MWUNDEL EXE           2P MWUNDEL HLP           2  UNDELETEEXE           20g  VSAFE   COM           2p  WNTOOLS GRP           2  COMMAND COM           2u  DOSSHELLINI           |Yb$@  OAKCDROMSYS           'L?V  ADOS    OVL           2tg "         a	F	")ylx?k@ P       @ P+       @ P2       @ P       @ P+       @ P2       @ P     @ P     @ P"     @ P+      @ P<      @ P     @ P     @ P"     @ P+      @ P<                      UFW.>  F^
F u8gtF _.GEE.GE2.G	F.G:Fu.G t}u.G t?E
@t93&&0.t.t&8&t&&}tS3[.>l uxE
|trS [<u3&.l&.nE
 u. EtE
@uHS[3&.p&.rE
`t S[3&.t&.vFE
@t.+uȈFS0[S2.G[~t SW 3~_[<uF<t:FuS[.:G  tx.G&.G uEE
t<.t5.>l t"S2۷ U.l.n3][S2U][.tv.wE
tiE EnE  .u.	t2C.u>."u2۲""U]'.+u2+.<3t <ظ#U]0UEm]NMu.>l t`.lE.nEPu$.p].rEE  &~t.E 'u".t].vEE  &~tE ^
_.G tg_] UNvFt 3 t,tLLlL3LLLLLLDtLLLLlLDt&	L	LL	LL	L@t,,,llllllttLtDDtDt3 utrt5DD	DDDDDDDDDDDDTT_D	D
DD	DDDDDDDDDDDTT'tDDDDDDDDDDDDDDD
DDDT	T
TT DDDDDDDDDDDD	DDDDDT	T
TTT u tIDDD
DDDDD
DD	DDDDDDDDDTTTBDDD	DDD
DD	DDDDDDDDDDTTTt֊F@t,llllllldttLtDDtD t 3 uKtDDDDDDTTYDDDDDD
DDDDD	T
TTt(DDD
DDD
DDDDDTt ֊F@t,lllld
ddddttLtDDtDt$fF~ t~u
FNF]ÊE
et0U@д3tʀP XEtEE
e] U4VW.> t..>  FEFފE
F݊EF܋EFڋEF؋EF֋EF̋FԊGFӊGFϋGFF u5 EM8ut:fu
:FrЊvVvw_3.Twv3FP 3ɊN3ɊN
֋vfF~uptt 
tpfQVЉ~N2v؎^Ў~Nڎ؍v~ t9F t2_WF&U
t#< ut~PSF֋^ذf&[XfNڀ~u~puV6F^NڊF:FuQVNކ2N*2F^Y~tv:vu SvF݀tjЎ^  fĹ PĴ6O^66O H~&&^6 X2Ԁ6g6G  < ~߱2 H~&&32Ԁ[Nڸ ~O ~GF^YIt^~t*~ t$F݀tЎ^    . _^]
 UVW.>  MFGFE
FQP؊NNÊNNYF
FN:NrwN:NrHP NI~t%Ft2 ^ ؎NƋߋ2NʋP ;rހ~tFt~  _^] UVW~
2M.p.rt.l.nu.t.vt0U]MFڌЎ~_^] UVW. .>  GFE
FFfeurr
P^u3 VFMPN
NM ؎F~FFF~tHFFt2 ^ ~t!Ft~ϳ f̰VNދ2NʋP^Nu~tFt~  VF_^] UVW. .>  GFE
FMQPNNYvF
FF~tsFFt;  ^Ў^^3FFFF~t(FtNɻ NɴW Nߋ2NʋP_Nu~t,Ft~ Ў^ _^] U3vvP`] VW.>  ^Pt[@  3.:Du.t.|t

t.:dt	Bߺ_^3 UVW.>  Fvs @ ~W 3_.TF.t
.dt   tPt@u.T.tUVUF.TU eU.TU
.T
U.TUU.DEu_^]  .  G
t3؋ce eUVW^ ;vȉ.6  t_^] UVW^ ;vȉ.>  }w_^] U] }
t@ & S[23Ҩ#u@@tPX@ 
t.  G
t3؋c&ee2UW.>  2vV
 uC3Ɏ&&& ~ tMF t2E
t+u&&SUF t2U3ɊvV
UGVU
Ut! vv
RPQvv
RPQH
H_] UVW.>  } t@=^
:]s3N@t*2v05 2~ƫū3t v_^] SZ߹
t
2UVW.>  1=^
:]raN@u4t+3
t!&<wr	s  ( !MǋNQ{^4lL_^] UVW3vs" `~..TUFE_^] U]
 3U3] U3] U] U] U]   u%G           HFb  $  ^    ru;D  +1X4D%      <<==  ||  ||=  <<=  	
640 x 480, 16 color 640 x 350, 16 color 640 x 480, monochrome 640 x 350, monochrome UVW^
%=t3 WGg2=^~֊G. F Ȏ^.  F jf 󥍿  󤍿  󤾖 u&G&G&G&Gj  &G "u u &G^&G Ȏ؍  . E 6D . ۸  u	
߸ 1  3 _^] U. & u,FF
 F&8D u`mFFPj  F& ]U. F&>E u#t & ] UVW. Ȏ؋v&6 &D tƀ 3 Ў_^] UVW. F N
  
 ;	|;ʉ  +Ë؋+3+ȉ . t7Fj Pj  u8FtaPPhh_" . SQ. $Y[U;   C  6 .ŀ. &>1  t  u&>  u& &6  &>  t uC2s
rIt,+}&6  PG2It+}&6  P
=2s
rIt(+}&6  PG2It+}&6  P u;2s
rIt+}&6  
P
O2It+}&6  P2s
rIt+}&6  PO2It+}&6  P˃trv&
rhIt:Gtu
Gˀt*u	(   C 6 D u
 .,͡ . &>1  t  uV&>  uNu^	у +ơAP f& &6  &>  u*usItP+}&6  ȃ (usItP+}&6   ]. w. t j jhh_"j  _^] UVW. ~>  ui6
 6 &@
 &U &EHPR &EHP&EHP
 &5&EHP &5&u 
 . t5Fj Pj  u8FtfPPhh_" . . P &E&3*. / &E&+E( &]&+$ tӈ0 &} >1  t U.$ . 2/ ;w"0  +(  WV"#u)&P^_GvSIً.( VWu&GXWPMtWu&G_PMu_^0 (  #"ău&P]. c. t j jhh_"j  _^] UVW. . 6 6
 . t=Fj Pj  u8FtwPPhh_"" >~ . t1%9^t)81 t : > 
& 8. t j jhh_". ~u.ȎFF~FF
. .
 F P  
 3" * *. / &E&+E( &E&+
 أ$ tӈ0 V
N& &E&i+ * *+ - , >" ^. tj j hh_" . UVW&.$ &, 2&/ &. 2&- t2Ȋ2
Ŋ;w&"0 X"&>1  t & &G+v!M2
Ŋ
uc&GMu. &0 2
"&>1  t 8& &G_^P. &6& &( t3]. . t
>~ t)9^t9&81 t &>: "t j jhh_"j  &
 & _^] UVW. tFj Pj  u8FtJv. F >E uFF F;FrwF;Fr	wF. P F^~ tF
H^K3dSQP F^~ tF
H^K3DӊY[FV$+V ؎~ t +:rw3Հ*р**͊QNN*̀YF~ tFVWF
F~ tvVVWsF"& =&GJttNJu"& &_^NtPP_^Nt뒀~ t :rw3Հ*ц̀*͊*͊QNYF~ tFVWF
F~ tvVVWDsNȆ"& =&%OJt%tDN&%OJu"& &_^NtPP_^Nt닀~ t. tj  _^] U. FF>F "tFXF>F +t63PP3 PiF  Fvv;vvlFNu]RZЊˀӳù &8.1 t@2  & = u &O; &&O   &C & 2 u @ù &8.1 t2  &>C  ú3@PS [XSQ. >1  t@  : ؎2  ; 3GGG Y[USQ. >1  t"~ϳ Nɷ f̰NɴY[] . >1  t >:  ؎2      0          UUUU""""            f3f33f̙3fA""Aϟ?~0`?~`0        UUUU""""            f3f33f̙3f̈A""Aϟ?~0`?~`0                >>>   >>>>>  >>  **   """   >""">  "A"            U. F&
 F& ] U. F& ] U. F& ] U]
 U]
 DRV0   B$  DRV0   2	  DBLWIN  HLP           2
   DELTREE EXE           2g+  DISKCOMPCOM           2)  DISKCOPYCOM           24  DISPLAY SYS           2"=  DOSHELP HLP           2*  DOSKEY  COM           2-  DRVSPACEEXE           20P                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 MZ                        1 1 w w    ?  ?   0   @ ` p x | ~  | l F                                   `      RZt3Ɉs 	  3۸ ø ø` F혊FNF혊FNf a˺ %!6Tָ` ָB H!$ !! ! JJ5 !ò @t,t6	#  
ǘ 2$

.2%332¢:It	It 4uz4È.     ٨z4% 3m g 
ȡ 4,t   3 z23۰    fu#" t  >   6  fÅtpy؋R = wƀs"= r   Ċ    N    ;} ; "Z  s x  
ȡ @ @tt
=Ot    <r< sP X.D` 0.dl3.8 ud.\.h@. . tu rG.;>bu:W7 _.8. t. Ǌ.>b&.`.#Z .3\ .^.>bGt.)>b.\O@u ^&;u.+^ .+`  PCXrƓ3}ؒ..;|+VZ.b@t  u	.;uSRWH _ZS [.>I..6+RS.k.m.;rX.#Z}+ $C,S.e.>bP   YXPQSVW.6e.b .  _^[YX.36pCCHuػll  OVW<֜.n    P.>kt
.>eu.v<u R. ZX.6^u  +5  Kua _^À>ku$s&2NuV  BuRt&"2Ī &&-G[NuRP    XZRPB.JB.JB.JB.XZ3ǋ>et$  sP3ҎkH&J&NQ~3;}-   ~";}; ;6 ~; ; ~YYþ F FN +  V3ءc. IP	<s%<r`t<s$<	t<uX <rI<r<u3&t@&J_þP <t7r4 3<w;t<r5>t<r^~<r AJ^`6p& >k.mZ>\6e^H O>  3󫒻   FFu.z@ ]ɸ35!;u!+u@D%!FF  v3Ɇ5!DF4%!Nu3 z  3  & zF3C t33҃wۇ HPV
NFÓ33҇  FMW  3޸ ܡV X @A33ؠbآ H *t? td3 ;|     .grxOgtþ^ ;u3u
 t^   h빇
ʴ: u;Z u;\ t Z \ ˋF;|  ;|  뭋N V R^N V 될 F F
 F   Åt
N P Ó3 H=d sV ІԿR )			R	
g	l			*
\
	


	
	

	#	
		,	u<!w`a<#tX<$u <&uk    JI <'uZ \ 33҇  <1u   <2ud333<Mu <mu<*u ^ ٺ CuteMouse 2.1 35!   ؈ utjs$	tPUXr>u	"tLsu!Lt% S ^3%!X9 PYs<r	uAQ=QW50  >!KyXZ! <u,<w t   t@t4#u:u%Hr		&t0P	~It! It<tuâD55! XP^P3˿ s3 t+LP3u@PXP6XsyXÅt.Tu&B@t!JJP-uJJBB$Xs}TP3JJBBְ`֠L3&&l&:&lt4uT&&lTu&:&ltu<t<Mu <Zu<3uuǍTX trur(u$r!utt tt	t ru3ێøt} r6dv r/Po r(r#utt tttCA 3ۀu4t- PSru rd rP
 r[X[XPt$HdtHPtH<tH(tHtH
t Sru[X[XPW0T3&WP$<
i/Xs_X$0`,05hТa3M  ;u Ë   û< r{- sû 	$ r sP
件 }X
仸 r,0:w:s	<
>rGNË !3@um@t< v</u"$߿_:uG	Wڃr=&  HG 
 L!!Guu<u  Ӹ3%!   뫋, I!K ص1;tHJ إB& L&  ø X!X!û  X!  X!Su;؀s4 X!AX!sX![SH!rs´I![ôI!  No VGA? Use older CTMOUSE if you need EGA RIL support
 
Error: Invalid option  argument 
Enter /? on command line for help Mouse services already present Error: device not found CuteMouse driver is not installed! Driver unload failed: some interrupts intercepted...  Driver successfully unloaded... Resident part reset to  Installed at  PS/2 port COM  (0000h/IRQ ) in  Mouse Systems mode Microsoft mode Logitech mode  (wheel present)
 
CuteMouse v2.1 beta4 [FreeDOS]
  
Options:
  /V	   - reverse search: find PS/2 after serial mouse
  /P	   - force PS/2 mouse mode, do not probe serial ports
  /S[c[i]] - force serial mouse mode at COM port c (1-4) with IRQ i (1-7)
  /3	   - force 3-button mode if Microsoft or PS/2 mouse found
  /O       - enable PS2 and BIOS USB wheel detection (might hang)
  /M       - try *old* Mouse Systems / Genius for non-PnP mice

  /R[h[v]] - horizontal / vertical resolution: h,v = 1-9, or 0 for auto
	     (no value = use default: auto for h, or "as h" for v)
  /L	   - swap left and right button

  /B	   - cancel run if mouse services are already present
  /N	   - load CuteMouse as new TSR, even if CuteMouse is already loaded
	     (useful for batch files which unload CuteMouse at end)
  /W	   - do not allow CuteMouse to move itself into UMB
  /U	   - uninstall driver, remove TSR from memory
  /?	   - show this help GgzP O S HV  R  `L@ B  N W U    Y  M  ovlda
  /?	   - zobraz nvod na pouitie wP O S HV  R  `L@ B  N W U    Y  M                                                                                                                                                                                                  1 3=MWu  t ..? .A	y
%.A t t<u1ɸ 3 	G! L!<su 3<hu 3<0r<7w,0 q<ru  3=t` <wu 3 3e<xu /! 3+  3G<yu<zu<ar
<gw,a$ 3.A.C.E.A ˺ =.? t2.? t t.A t	.A t .A t .C	-x .C	y./.E	-x w.E	y 
/b.A	-x P.A	y  r 111
0Āuŉ?  w 	 GI 9u1FK 9u1 r    ÷ 1.C<
r CKt  @ >J @ 1> 	u@SQRW111
 	1	tr쿙_ZY[Æt  Æ  Æ PQ1PQ0R±09vP8t!X$09v!ZYXPS [X        Mousetst 2007 by Eric Auer, License GPL2
$s show, h hide, r reset, w window,x/y/z fonts, ESC exit, 0..7/a..g modes	Wheel n/aWheel:offYES-l-LEFT-m-MID -r-RIGHT ADOS    COM           2ny  ADOS    CFG           2=   ADOS    TXT           2 AREADME TXT           2bz  FAKEMOUSCOM           23  DVORAK  SYS           2I  DVORAK  TXT           2!  KBDBUF  SYS           2t  ISO     TXT           2
  DRVBOOT BAT           2x  AM      EXE           2  ASSIGN  COM           2  BACKUP  EXE           2,  COMP    EXE           23  CV      COM           2  EDLIN   EXE           21  JOIN    EXE           2 E  4201    CPI           22  4208    CPI           2:  5202    CPI           2<  LCD     CPI           2>*  GORILLA BAS           2Jr  MONEY   BAS           2h  NIBBLES BAS           2'^  REMLINE BAS           20  EXE2BIN EXE           2   GRAFTABLCOM           2+  MIRROR  COM           2G  MSHERC  COM           2  PRINTER SYS           2tI  PRINTFIXCOM           2    COMMANDSTXT           2d/  , r"`H<w r r& rS
 rv ;r	< v,0rø z 6Q  5!M%! u9;`tr'C  @<r  L  %!3PS35![Xt33ێÊ& Q@$Т'! !T3JJÍTT!$ !àS$ & | Tָ` ְ3&&l&:&lt4uB  &&lTu&:&lt-Ku +τtG  tuϿ;slG}ub GCiG;sTE,  =)uOOG ;u>8  C!#  ;sC\t!`rں	!ñ<
i/<
i/PRS  RZsr.C.`  [ZXDump data stream from working mouse. Press ESC to exit...
1200 bps, 5 data bits, 1 stop bit.
Reset:$
      $   $ Wrong PnP data...

$Manufacturer: $  Product ID: $    Serial #: $       Class: $   Driver ID: $   User name: $COM port not found!
$Syntax: protocol <COM (1-4)> [<bytes in event (3-5)> [<COM LCR value (2-3)>]]
$                                                          NET     1XE           2N6*  SETNAME EXE           2Z   NETBEUI DOS           2`w  NETWKSTA1XE           2~  NETWKSTA2XE           2 REDIR   1XE           2 m  REDIR   2XE           2<o  NET     TXT           2X0  DOSSHELLCOM           2f  DOSSHELLEXE           2lZ DOSSHELLHLP           2T+v DOSSWAP EXE           2DI  DOSSHELLGRB           2E  DOSSHELLVID           2$   OSSHELLVID           2$   OSSHELLVID           2$   OSSHELLVID           2$   OSSHELLVID           2$   OSSHELLVID           2$   OSSHELLVID           2$   OSSHELLVID           2$   OSSHELLVID           2$   OSSHELLVID           2$   OSSHELLVID           2$                                                                                                                                                                                                                                                                  
)Pjx<v ,q]me5QcӠv<g㾞*/_Uv/0WJK8%X<mcf=~Ov`PRpӘpv9=OUY[PRL c X

~KUȓ҆ ~gBe6GV7ٚ~j"[8?ڍ(VV:7dzKr4$D|QfX=0-SEd(>GPZ"|+)-XrԹ>q!4F Y`q8PKJGFԋ*}uFP"L$Pg9KQ5k# aS'S}^lth(j8&3(
 ~叇 #{LK<27\J|\ŦY	o5"dIE4,-[? 	 _hP0,;*ݝ,a T\2QFhS&[b-d?*,FX<ۂ5L
X$:M͹~,
dwL.J# a)r0R!U&0PWExu/kW<\Pc&+].0
/J1 DJm@-^1 ,lKW3`8!	~ʽ;^	pRS*pw1ar$M"Nl!ŉ434$UbcrUɞ%*5fq:IZ ̩AJ("ܺStHV!`̳((AOjrd\i<xaYrIDQR͔+d0K!hؒ1Xe[	SRFbu
KX5P.wd&rZh	qUT}@pwN(H/j\.Rt.
:rX<e紬&ݥq$5GNq"Rؾ(lRұ!ɪ5juN;=PEr"8^8Zbh?	*a+
ݓ"}~)c
Œ	u Y*]t 0 B  n   /<5,b 3     OCAML\README.DOSy/KC/]	%=@|>L=3f{"q>/TF~S# \ p'*VtP9_/J?
f[ a>ىq7Tr8,[Ĳ%$:ˮP??vcOۧdɳg$[5j(V*ʞ?  ?BXs˽r38}9Vi|K5ϊ2 s:W1-"6^*v@	H/mp_[:,S*kڀfxu_yGK[߄*^*Lڔ<Zh?~Qbw &<%'Y/
$4&b<Ȑiy)e1ҕډ4:S>e^R{UQMFKz`"7Cjk:Ɇw4z,ѦiJj~5غ֎.S"h%-Τϴℒ!*ƿrA9	
emÄe(kXܚݘjM`]2Zѓ1t 	3Hf$87)!89PEWRNN%<Mԡ=!H-){j5fUl` ⴻ`U
RD	u$K@ְ+WpbYP-V-(%:hg 'z1*M(r]̯㗙d03A{@B4wW 튓Ģ=%/,Yu7u_p#RwTy7)O0rk%}e  +yoK&YP닎AOO6颮9GP2ϬIv-xD5AсW-`mb 4}rRG!f#E0ϰ>jD*n>)C}x`}N5"Ibl:?}=I,x$7	9g1H8g}\{yŽiN M@U"?t:x	zP1wL*\.L

,5y4كArd=RUH5ʊɥ9޴g\?!x{ 3[?87= <"wqUS[,SM6}]"w'N- ;)I%nA!H0l>	S_sgy($>1rCcnP.f(Es1oذLdO;oc:\y?nuFumռ9.:-p4HbEJJjB.?Wٓ fFφ)FbAx3{
fY\s[=j5(:,8?]`v` Saicjp-F2u!g$ˌIE	ixӚB329h1[[KҡC]\-vX;C6yK7W K\	z6O'{e8z@JUE"/!{Hn(cc&@:5R( ɘr.M?~ΆȬ:eP22`U,q CyPP2cgÍ曫+wJ8(Eaq=ʂqݦE)DLH^)u$$_*iHտKLf96jkdh78ަKK}WE޲1ec_NtJ[/w)J;t)(&;xejdXB
a]Ĺp}
ۆbQX$ۍdL
cM\@*b=9Ս_܈ĩjncݥ8IiVc<m T!-h(7ZP4mKZvZj"soajPn!I+-'ZZdAػ͒(B(=sgv3U	?W;6qҀ1M=x@iڽI10Ҹz2k]DJ.P r4>=
j6<6"(UON#J$+Kپx0hmn1uLja_`F@ZOȆ
cYn]_"]z48i̮E>b){|_Ig4Da=Vb;[yB.@ȈmU)Ӄ&~(AAWa}?i9ܻ5*F:,xFtStx	!TcQB#1!2K (p(i qL1ʍj$(nWPf߄X_ BT5>i
](ʆWϔz'jb=Pu?!-*&㢸)ypƿT)I [
MMlSl8Xp[1Dh/mx 7~1HplmA)+TB"z1}٘Veh
&қ擟]yP;:~KB>TYh'!EIt`*u$6rǂ֫p$iH~ڐhT)xkKP,gHΰ0ۊRgrBRb|+-o җ)2PlE0Ĉ{DL^HtA/4]GpdU*AAhP 0v$iZ9RzS}!k8((K=#'؁@E IEd*Ob ng*D<5F;DR1_Zq8q{zgjA'xwj+ICuteMouse driver v2.0. Copyright (c) 1997-2002 Nagy Daniel
Release date: 2002/10/01


License:
--------

CuteMouse is released under the terms of the GNU General Public License
(GPL). For further information please read the file COPYING.


Description:
------------

CuteMouse is a mouse driver which supports many protocols of serial and
PS/2 mice. It can search for a serial mouse at all COM ports or only at
a specified port.

CuteMouse supports a new Wheel API. This means that you can write your
applications which use the mouse wheel. For programming details see
WHEELAPI.TXT.

An important CuteMouse feature is its small memory footprint: the resident
part (TSR) occupies less than 3.5K. CuteMouse can also install itself in
upper memory, when available, without requiring external utilities such
as the DOS 'lh' (loadhigh) command.

CuteMouse supports cursor drawing in all standard graphics and text modes
with any screen size. These are automatically detected whenever the video
mode or the screen size is changed or reset functions are called.

You can subscribe to the CuteMouse discussion group at the official
homepage http://cutemouse.sourceforge.net or by sending an empty
email to <cutemouse-subscribe@yahoogroups.com>.

CuteMouse is part of the FreeDOS project at http://www.freedos.org


Details:
--------

CTMOUSE supports standard Mouse Systems, Microsoft and Logitech serial
and PS/2 protocols. Also supported are mice with wheel. By default, when
searching for a connected mouse, the PS/2 port is checked first, then all
COM ports are scanned.

Option /S, whose syntax is described in the help screen, disables PS/2
support and can specify the COM port to be checked for a mouse connection
and its IRQ line; option /P disables serial protocols. If option /S is
present in the command line, but PS/2 support is also required, then
option /P must also be present.

If a COM port number is not specified with the /S option, then CTMOUSE
searches all COM ports. If an IRQ line is not specified with the /S
option, then the default IRQ line value is IRQ4 for COM1/3 and IRQ3
for COM2/4. In the future IRQ autodetection will be added.

Option /V reverses default search order, causing CTMOUSE to look for a
serial mouse before checking for the PS/2 device. This can be useful, for
example, on notebooks which have a built-in PS/2 pointing device to enable
use of a serial mouse, when attached. Using option /Y (see below) may also
be required along with /V. Note: option /V enables both serial and PS/2
protocols, so using options /P and /S without arguments along with /V
in the command line is meaningless.

For serial mice, CTMOUSE searches all COM ports (or at the port specified
by option /S) for an attached mouse with Microsoft or Logitech protocol.
If no such mouse is found then CTMOUSE installs at the first existing
(or specified) COM port in Mouse Systems mode, whether a mouse is there
or not. (This is because the Mouse Systems protocol defines no detection
sequence). Option /Y in the command line disables Mouse Systems protocol
support and prevents driver installation if no mouse with Microsoft or
Logitech protocol is found. Note: option /Y forces serial mouse search,
but, unlike option /S, doesn't disable PS/2 support.

Both PS/2 and plain Microsoft protocols assume a two button mouse but
option /3 in the command line can be used to enable the middle button
if one is present.

WARNING: when the middle button of a plain Microsoft mouse is enabled,
pressing left or right button along with the middle button can cause
"middle button state triggering" - i.e. when the middle button is pressed
the driver thinks it is released and vice-versa. This is a peculiarity of
the Microsoft protocol and can't be changed. If button triggering occurs
simply press the left or right button along with the middle button once
again to clear the problem.

Option /R, whose syntax is described in the help screen, allows the
preferred sensitivity to be specified for each axis of mouse movements.
These define the relationship between cursor and mouse movement - the
higher the sensitivity, the further the cursor moves for a given mouse
movement. For sensitivity 0 coefficient 1/3 is used, for sensitivity 9
coefficient 3.0 is used.

If installing from low memory, CTMOUSE attempts to move itself into upper
memory (UMB) if there is a suitable free UMB block and option /W is not
used. With option /W any external utility can be used to install CTMOUSE
at a specific location. Subsequent CTMOUSE runs simply reset the resident
part to the new command line options, unless the mouse is not found or
option /B or /N is used.

When installing, CTMOUSE ignores and hides any present mouse services
unless option /B is used. Option /U in command line can be used to
unload the resident part of CTMOUSE unless driver interrupts have been
intercepted by another program. After successful unloading, CTMOUSE
restores mouse services that were present at installation time.

Option /B in the command line cancels CTMOUSE execution if any (including
CTMOUSE itself) mouse services are already present. With option /B CTMOUSE
will not install itself above loaded mouse drivers and will not reset the
resident part to new command line options.

In contrast, option /N forces the loading of a new TSR even if CTMOUSE is
already loaded - without this option CTMOUSE will only reset the loaded
resident part. In cases where mouse services are provided by any other
driver or are not present at all, CTMOUSE loads a new TSR even without
option /N - see table below:

options		no services	other driver	CTMOUSE loaded
-------		-----------	------------	--------------
/B		load CTMOUSE	do nothing	do nothing
<default>	load CTMOUSE	load CTMOUSE	update resident part
/N		load CTMOUSE	load CTMOUSE	load new CTMOUSE

Option /N is useful for batch files, which load CTMOUSE before some
actions and unload it after.

For each event CTMOUSE returns an appropriate exit code which can be used
in "if errorlevel" statements in batch files:

	0  PS/2, Microsoft or Logitech mouse found and CTMOUSE installed;
	   Unload successful;
	   /? option used.
	1  CTMOUSE installed in Mouse Systems mode;
	   Unload failed because CTMOUSE was not loaded.
	2  Resident part switched to PS/2, Microsoft or Logitech mode;
	   Unload failed because driver interrupts were intercepted.
	3  Resident part switched to Mouse Systems mode.
	4  Mouse services already present (returned for option /B only).
	5  Mouse not found;
	   Invalid option used.

Together with options /B and /N, this enables creation of complex and
intelligent batch files. For example, the following batch file can be
used to run a program that requires mouse services to be present:

	ctmouse/n/y>nul
	if errorlevel 5 echo Mouse not found!
	if errorlevel 5 goto end
	<program> %1 %2 %3 %4 %5 %6 %7 %8 %9
	ctmouse/u>nul
	:end

In the previous example, CTMOUSE is loaded before <program> and unloaded
afterwards regardless of whether or not mouse services are already present
(e.g., another mouse driver was loaded). This may not be suitable if every
free byte of memory is important or if CTMOUSE does not support a mouse
that is currently in use. In the following example, CTMOUSE will be
loaded and unloaded only if no mouse services are present:

	if "%1"=="@" goto driverloaded
	ctmouse/b/y>nul
	if errorlevel 5 echo Mouse not found!
	if errorlevel 5 goto end
	if errorlevel 2 goto run

	call %0 @ %1 %2 %3 %4 %5 %6 %7 %8 %9
	ctmouse/u>nul
	goto end

	:driverloaded
	shift
	:run
	<program> %1 %2 %3 %4 %5 %6 %7 %8 %9
	:end

Option /B can also be used to manually specify a mouse search sequence.
In the following example, CTMOUSE is installed by the first command that
finds a mouse and the following commands won't affect the resident part:

	ctmouse/b/s4/y>nul
	ctmouse/b/p/y>nul
	ctmouse/b/s2/y>nul

Use the /? command line option to obtain a help screen with all option
descriptions.

The CuteMouse package also includes a utility to detect COM ports
(COMTEST) and a serial protocol analyzer (PROTOCOL). PROTOCOL shows how
mice work and what they send to the computer for each action. PROTOCOL can
even decipher information sent by PnP mice. All output goes through DOS
functions and can be redirected to a file for subsequent analysis or
sending to someone else.


Compiling:
----------

To assemble the English version of the driver use TASM (or any compatible
assembler) and any linker that can produce a COM file from OBJ files:

	copy ctm-en.msg ctmouse.msg
	tasm /m @asmlib.cfg ctmouse.asm
	tlink /t /x ctmouse.obj,ctmouse.exe
	com2exe -s512 ctmouse.exe ctmouse.exe

To assemble the serial protocol analyzer:

	tasm /m @..\asmlib.cfg protocol.asm
	tlink /t /x protocol.obj

To compile or delete temporary files, the MAKE utility also can be used
(see makefile).


Known problems:
---------------

Symptom: if the mouse is moved when Works 2.0 for DOS or Word 5.5 for DOS
	are redrawing a screen in graphics mode then some parts of screen
	are corrupted.
Cause: these programs don't hide the mouse cursor while drawing on the
	screen and/or don't use the EGA RIL API when changing video
	adapter registers.
Solution: correct the code of these programs; don't move the mouse while
	the screen is being redrawn; future versions of CTMOUSE will
	probably read the VGA adapter registers directly.

Symptom: under Windows 3.1 after a mouse reset (INT 33/0000), the graphics
	mouse cursor is shifted by one pixel right/down.
Cause: Windows traps INT 33 calls and for the reset function additionally
	calls the text and graphics cursor define functions with [-1,-1]
	hot spot.
Solution: use 'PUSHF/CALL FAR' sequence instead of 'INT' instruction to
	call INT 33 handler; there probably are some Windows APIs, which
	can be used in CTMOUSE to interact with Windows directly.

Symptom: sometimes, under Windows 3.1, the graphics cursor has a black box
	shape. This may also happen after switching between windows.
Cause: probably due to a Windows bug when Windows incorrectly redefines
	the cursor after video mode changes or switching between windows.
Solution: restart the graphics application or switch back and forth
	between windows again; there probably are some Windows APIs,
	which can be used in CTMOUSE to interact with Windows directly.

Symptom: unlike Microsoft Mouse driver 8.2, the mouse doesn't work in
	a windowed DOS box of Windows 3.1 with CTMOUSE installed.
Cause: the Microsoft Mouse driver most probably uses an unpublished API to
	interact with Windows.
Solution: currently unknown.

Symptom: CTMOUSE fails to detect PS/2 mice under Windows 9x/ME.
Cause: Windows seems unwilling to let a DOS application have access to the
	PS/2 device services.
Solution: currently unknown.


Credits:
--------

(Some names are mentioned in HISTORY).

Ralf Brown <ralf@pobox.com>: author of Interrupt List (a great collection
  of system specific information).
Joergen Ibsen / Jibz <jibz@hotmail.com>: author of aPACK (an excellent
  executable packing program); advice about managing executables.

Arkady V.Belousov <ark@mos.ru>: bugfixes, optimizations and features.
Matthias Paul <Matthias.Paul@post.rwth-aachen.de>: many ideas and
  advice about interfacing with OS.
Jason Burgon <jason@jayman.demon.co.uk>: bugfixes, features, advice
  about interrupts handling consistency.
NetDave <david@prog.cz>: wheel support idea.
Alain Mouette <alainm@pobox.com>: many ideas and message files.
Robert Riebisch <riebisch@bercom-berlin.de>: mode 13h bugfix.
Fernando Papa Budzyn: automatic loadhigh capability.
Martin <nocash@work.de>: optimizations.
Paul Schubert: much faster PS/2 code.
All who helped with ideas and code.


Contacts:
---------

mailto:nagyd@users.sourceforge.net
http://cutemouse.sourceforge.net
 Extension list
--------------

Below are listed possible extensions and additional features for CuteMouse
in different categories. Not all of them will be implemented, but they may
give hints for other ideas. Please, express your opinion about this list -
this may help in CuteMouse's further development and enhancement.


Mice support:
-------------

- Support for Bus, InPort and other mouse types. Currently there is not
  enough information and no available hardware/mice for testing.
- Mouse reset and/or switching between serial mouse modes on the fly if
  the received mouse data flow has errors.
  [proposed by Alain Mouette]
- API to access wheel rotation information.
- API to send mouse-like information to driver. Useful for emulating a
  mouse for nonstandard hardware.
  [proposed by Matthias Paul]


Video support:
--------------

- Support of all possible text modes, including VESA. Currently only
  standard modes 0-3 and 7 are supported, although with any screen size.
- Direct video adapter register reading in the EGA RIL API for VGA and
  newer adapters.
- Scaling cursor movement according to current screen resolution (mouse
  movement should move the cursor the same distance on the screen rather
  than the same distance in pixels regardless of the current resolution).
  [proposed by Jason Burgon]


Hardware handling:
------------------

- IRQ8-15 support. Currently only IRQ1-7 are supported.
- Auto detect IRQ assigned to a COM port. Currently IRQ is determined by
  COM port number only.


Command line:
-------------

- Hyphen as the switch char in the command line. Currently only the slash
  is accepted for this.
- Option to specify UART base address.
- Option to reorder all mouse buttons.
- Option to specify movement orientation (with 90 or 180 degrees step).
- Option to reverse wheel orientation.
  [proposed by Matthias Paul]


Miscellaneous:
--------------

- Remove code for all unused handlers from resident part.
- Completely reuse the PSP area in resident memory block.
- Use DPMS and HMA to further reduce conventional memory footprint.
  [proposed by Matthias Paul]
- COUNTRY settings may determine displayed messages coding.


Utilities:
----------

- Utility to install a handler for secondary mouse. This would be
  especially useful for notebooks with both built-in and external mice.
                                                                                                                                                       < uFPj j j HtF
& vvFP pt^& TFPt^& <FPuF
& FPvv!FPtF
& F
&< tF,AP uF
&3^
   WV~w   	y=  uE j	FFFF$F~ t ~ u	  L  ~ u  : ؃^% F~ t    F8Fr       ^_  t  WV~F&EP!
uF&EPj(F F&E,A&^
&F&EP_t	3^_ F&EPZptF&EPMQF z
zF<s%j j F&EPv.                    hY?    ..                   hY
    LICENSE TXT           $P #  COMMIT  EXE           k UVe  DEFS    CON           k ʟp  DEMO1   DMO           k R  DEMO2   DMO           k %  DEMO3   DMO           k   DN3DHELPEXE           k z DUKE    RTS           k F DUKE3D  EXE           k  S DUKE3D  GRP           k d GAME    CON           k 7 MODEM   PCK           k 2  README  DOC           k 8
  SETMAIN EXE           k <s SETUP   EXE           k j  ULTRAMIDINI           k   USER    CON           k `  DUKE3D  CFG           kYHt   AUNCH  TMP           kY%:!                                                                                                                                                                                                                                                                                                                                                                   
Note: for regular work only ctmouse.exe (or the other appropriate ctm-*.exe)
      is required. For legal purposes file COPYING also may be preserved.
      All other files are documentation, utilities and sources and may be
      safely removed.

Contents
--------

BIN\
ctmouse.exe  - CuteMouse driver executable with English	messages
ctmdebug.exe - CuteMouse driver which shows PS/2 debug messages
ctm-*.exe    - CuteMouse driver executables in other languages
comtest.com  - utility to detect COM ports, executable
mousetst.com - mouse test example executable
protocol.com - protocol analyzer executable

doc\ctmouse\
ctmouse.txt  - main documentation for CuteMouse
history.txt  - detailed version history
extend.txt   - list of possible extensions for CuteMouse
technote.txt - technical notes for advanced users
wheelapi.txt - wheel API documentation and list of wheel using DOS apps
protocol.txt - description of some low level mouse protocols
int10.lst    - excerpt from RBIL 61 for INT 10/04 and INT 10/Fx functions
int33.lst    - excerpt from RBIL 61 for INT 33 mouse functions
files.lst    - this file
jwasm.txt    - information about the port from TASM to MASM / JWASM
uartnote.txt - short overview of UART I/O port access in ctmouse 2.1

source\ctmouse\
makefile     - MAKE's script file for rebuilding CTMOUSE.EXE
alllang.bat  - batch file to compile all language versions of CuteMouse
asmlib.cfg   - configuration file for makefile and batch files
ctmouse.asm  - CuteMouse source code
ctm-en.msg   - CuteMouse source file with messages in English
ctm-*.msg    - messages in other languages
ctmouse.msg  - copy of the message file which is used as default
com2exe.exe  - .COM to .EXE file converter executable
copying      - GNU license file
ctmouse.map  - information about code / data segment sizes (optional)

source\ctmouse\tasmmasm\
jw-tasm.dif  - udiff between TASM and MASM/JWASM version of 2.1beta4
jw-tasm.txt  - only the 800 old / 1550 new code lines from jw-tasm.dif
*.com        - utility binaries made with TASM, for comparison
ctmouse.exe  - CuteMouse ctmdebug binary made with TASM, for comparison

source\ctmouse\ASMLIB\
*.def	     - assembler source library files
*.mac	     - assembler source library files
lgpl         - GNU license file

source\ctmouse\UTILITY\
makefile     - MAKE's script file for rebuilding utilities
comtest.asm  - utility to detect COM ports, source
mousetst.asm - mouse test example source (now NASM, wheel supported)
display.asm  - text output helpers include file for mousetst.asm
protocol.asm - protocol analyzer source

                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               History
-------

2.1beta4 by Eric Auer 7/2008

- intermediate release, prints PS/2 debugging output during
  mouse init and when mouse is activated / stopped later
- Dell Inspiron 1501 touchpad has no int 15.c204 ident in
  BIOS, so we use PS/2 even without ident (as ctmouse 1.9)
- option /O changed from disable to enable wheel detection
  (only few DOS apps use wheels, and wheel is less compatible)
- option /M (disable old MouseSystems / Genius) is now the
  default, so there is a new option /Y to enable MouseSystems.
- lots of changes in the source code to let it compile with
  the MASM-ized JWASM of Japheth.de (based on OpenWatcom WASM)
  instead of the commercial TASM. Disabled many macros.
- this version comes with TASM and JWASMD binaries so you can
  compare them: ctmouse binaries are byte identical with the
  exception of protocol.com where I had to fix a bug :-p.


2.1beta3 by Eric Auer 6/2007

- new mousetst binary with sources written in NASM Assembly
  language. Supports wheel testing, so removed wheeltst.
  The old BC3.1 mousetst was very un-portable to another C.
  Updated makefile mousetst section. New mousetst is 1kB :-).
- directory structure changed to something more elaborate, with
  bin/, doc/ctmouse/ and source/ctmouse/ with subdirectories.
  This also allows easy installation in FreeDOS, just unzip.
- dropped packed / unpacked distinction, but feel free to aPack
  binaries yourself (upx somehow refuses to compress ctmouse?).
  

2.1beta2 by Eric Auer

- new /O option to suppress wheel detection: Might improve PnP for
  serial mice, but main use is for PS/2. USB BIOS support usually
  does not support the "enable wheel protocol" handshake, and if
  you hotplug a mouse (NOT recommended for PS/2), it will boot in
  non-wheel mode. The TSR cannot detect and fix that mode change.
- made E_needvga message translateable. The message tells that this
  CuteMouse version does not support non-VGA plain EGA hardware.
- improved the English help message :-)
- TODO: also update the other message files for other languages!
- TODO: Find sources of com2exe and include them...
- TODO: compile and include translated binaries
- other TODO / BUGS as in 2.1beta

2.1beta	by Eric Auer <eric*coli.uni-sb.de>

- removed RIL interface: non-RIL apps caused graphics corruption
- reading VGA registers: no RIL needed but VGA hardware needed
- backup/restore VGA registers in copysprite
- replaced hardware PS/2 by BIOS PS/2 handling again for better
  compatibility, based on public domain source fragment by Konstantin Koll
- removed PS/2 IRQ handler by BIOS callback handler. Wheel data
  protocol processing again based on code from Konstantion.
- removed "XMS UMB" allocate / free: only DOS UMB worked anyway
- do not disablePS2 right before enablePS2 (IRQ/settings)
- store only CRTC port (3d4/3b4), not full videoregs structure
- explicitly set "blit mode" for EGA/VGA (not for CGA/MCGA)
- introduce a handfull nop to mark interesting places in the code
- enabledriver_20 explicitly sets int10 handler to CS:...
- show error message if pre-VGA, old version only tuned videoregs if EGA

- TODO?: command line options for resolution / rate, VESA cursor,
- TODO?: disabledrv_1F/enable/reset could / should set resolution / rate
- TODO??: support USB wheel mice - BIOS PS2 interface wheel handshake
  fails if mouse is not at PS2. Mouse on USB works, wheel does not.
  8042 handshake had the same problem, 8042 is virtual / BIOS if USB.
- BUG?: mode 10h cursor has rectangular hole around it, ONLY in dosemu


2.0	by Nagy Daniel <nagyd@users.sourceforge.net>

- Hardware PS/2 handling reintroduced (tests and comments by Hubert Sack
  <Hsack2002@aol.com> and Bernd Krueger-Knauber <bkk@infratec-plus.de>).
- Added new wheel API.
- Added wheel tester utility.

	by Jason Burgon <jason@jayman.demon.co.uk>

- Implemented INT 33/0028; the DX argument is ignored.
- Reimplemented functions INT 33/001A and 001B to mimic MS Mouse behavior.
- Changed semantics of the /R command line option: its arguments multiplied
  by 10 and passed to 001A function.

	by Arkady V.Belousov <ark@mos.ru>

- Cleaned and optimized source code and fixed many bugs.


1.9.1	by Arkady V.Belousov <ark@mos.ru>

	by Maurizio Spagni <flurmy@freemail.it>

- Fixed bug in INT 33/0017; under Turbo Pascal IDE this bug caused crash
  in some cases.

	by Nagy Daniel <nagyd@users.sourceforge.net>

- INT 33/0005 and 0006 functions now return zero values in case of wrong
  button number in BX; this makes game Patrician happy.


1.9	by Arkady V.Belousov <ark@mos.ru> (documentation proofreading by
	Frank Markopoulos <fm666@t-online.de>, Wrm <w0rm101@yahoo.com>,
	Wolf Bergenheim <dog@users.sf.net>, Jim Lemon and Graeme England)

- Heavy source cleaning and optimization.
- INT 33/001A and 001B functions are temporarily disabled because their
  descriptions in RBIL 61 don't correspond with MS Mouse behavior and this
  causes cursor slowdown in some applications (for example, SimCity 2000).
- For the /Sn/P option combination INT 33/0024 now returns the proper IRQ#.
- INT 33/001F function now retains DTR and RTS UART lines active.
- Removed flush of mouse data stream when detecting mouse type
  (this also prevents infinite loops in some cases under Windows).
- Small mouse movements are now also doubled in auto resolution mode.
- Cursor drawing routines now recall themselves if interrupt handlers try
  to call them while drawing routines work; this should avoid differences
  between seen and real cursor status in some rare cases.
- LCR and MCR now preserved in UARTs for which no mouse is detected.
- Added additional check for PS/2 device presence (this prevents big
  delay at startup in some cases under Windows).
- Added support for 286 and 386 CPUs.
- Added external assembler library.
- Added Dutch, French, Latvian, Polish, Slovak and Spanish message files.
- Added /N command line option to force load of CuteMouse as a new TSR.
- COMTEST utility improved (and may be used to integrate IRQ auto
  detection into CuteMouse).

	by Donald G.Davis <dgdavis@nyx.net)

- Added closing of all local file handles before exit (this prevents leakage
  from system handles pool when CTMOUSE is called with redirected output and
  stays TSR).

	by Jason Burgon <jason@jayman.demon.co.uk>

- INT 33/0024 and 006D now report driver version 7.05 instead of 6.26.
- Implemented function INT 33/0031.
- CTMOUSE now handles INT 10/4F02 and some INT 10/11 video functions and
  correctly recalculates screen size when, for example, the screen is
  switched to 43/50 lines text mode.


1.8	by Arkady V.Belousov <ark@mos.ru> (some ideas by Alain Mouette
	<alainm@pobox.com>, documentation proofreading by Mike Millen
	<mikemillen@ukgateway.net> and Frank Markopoulos <fm666@t-online.de>)

- Bugfixes, heavy optimizations, some features.
- PS/2 pointing devices were not found on some machines.
- Serial mouse reset reinforced (previously mouse froze in some cases).
- Serial and PS/2 modules combined into one executable.
- For Mouse Systems protocol, CTMOUSE now installs at first existing
  COM port, not at COM1 which may be absent.
- Added support for serial Microsoft wheel protocol, wheel interpreted
  as third button.
- Auto resolution behavior corrected and is now default resolution.
- INT 33/001F now doesn't restore interrupts (and CTMOUSE doesn't unload
  resident part) if INT 33 or INT 10 are intercepted by another program.
- Cursor drawing much enhanced and bugfixed: finished INT 33/0010
  support and video page change detection for graphics drawing; single
  video registers handled in RIL more accurately; cursor is drawn only
  when cursor shape is inside screen ranges.
- Some ill-behaved applications (like Norton Commander or Klondike
  by Eduardo Martins) call INT 33/0001, 0009 and 000A in loops; to
  prevent cursor flickering, the cursor is now redrawn only if its
  position or pattern is changed.
- Added workarounds for Pentium and PS/2 BIOS, Logitech MouseWare
  Windows driver, Turbo Pascal IDE and Nicemouse utility peculiarities.
- Messages for English extracted into separate message file.
- Added Brazilian, Portugese, German, Italian and Hungarian message files.
- Ordered errorlevels returned for each event.
- Added /B command line option to cancel run if mouse services are
  already present.


1.73	by Arkady V.Belousov <ark@mos.ru> (many ideas by Alain Mouette
	<alainm@pobox.com>)

- Serial mouse detection routine is now CPU speed independent and also
  accepts PnP mice.
- Changed command line interface.
- Added mouse autosearch through all COM ports.
- Added support for Microsoft and PS/2 mice with 3 buttons.
- Added /W command line option to prevent loading TSR into UMB.
- Part of driver's PSP used for placing some driver data.
- Memory handling routines heavily optimized and debugged.
- Bugfixed and extended protocol analyzer possibilities.


1.72	by Arkady V.Belousov <ark@mos.ru>

- Bugfixes, optimizations, some features.
- Commented out video retrace waiting.
- Returned handling of PS/2 pointing device through BIOS
  (thanks to Martin Eckel <martin.eckel@topmail.de>).
- Reimplemented function INT 33/0010.
- Added autodetection for nonstandard screen sizes.
- Implemented functions INT 33/0023, 0027, 002A and 0032.


1.71	by Arkady V.Belousov <ark@mos.ru>

- Many bugfixes, huge optimizations, some features.
- Direct hardware handling for PS/2 pointing device events.


1.6

- Positioning bugfix for videomode 13h.
- Added protocol analyzer (debugging purposes only).

1.5	by Arkady V.Belousov <ark@mos.ru>

- Many bugfixes, huge optimizations.
- Fixed memory allocation bugs.

1.4

- Added automatic loadhigh capability.
- Horizontal and vertical speed can be different (good for some games...).
- Implemented functions INT 33/001A and 001B.
- Fixed some small bugs and a BIG bug.

1.3

- Fixed some small bugs and added CTMOUSEP.COM for PS/2 pointing devices.

1.2a

- Fixed a bug in the Driver Disable function (1Fh).

1.2

- Added command line option to force IRQ number of COM port.

1.1

- Added command line options to force a specific mode.
- Rewritten Mouse Systems initalization routine, now more Genius mice
  with 3 buttons will work.

1.0

- First public release.
                                                                                                                                                                                                                                                                   
^&G.  PFG PFG v*& BP*&6 6
+& & `^&G;&W97+& & \^&G?&W=^+& &i ^&GE^&GC  &GA  ~+& &z^&G/^3P&w+& &&h^&W3&G1+& +&6 &&&+  ^&G7&W5^3P&w^&w7&w5^&W7&G5,& &G$^&G`N,& &$ u
^&Ga^&Ga^&G	 # ^&Gbs,& & &   ^&Gf&Wd&& &&^&Gj&Wh _^] U
,؋N^&GNFF
.                    ZYO    ..                   ZY    FILE_ID DIZ!          #%r-   HPLUS   EXE!          #%r{  HPLUS   NFO!          #%Nr                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  --------V-1004-------------------------------
INT 10 - VIDEO - READ LIGHT PEN POSITION (except VGA)
	AH = 04h
Return: AH = light pen trigger flag
	    00h not down/triggered
	    01h down/triggered
		DH,DL = row,column of character light pen is on
		CH = pixel row (graphics modes 04h-06h)
		CX = pixel row (graphics modes with >200 rows)
		BX = pixel column
Desc:	determine the current position and status of the light pen (if
	  present)
Notes:	on a CGA, returned column numbers are always multiples of 2 (320-
	  column modes) or 4 (640-column modes)
	returned row numbers are only accurate to two lines
--------V-10F0-------------------------------
INT 10 - EGA Register Interface Library - READ ONE REGISTER
	AH = F0h
	BL = register number
	BH = 00h
	DX = group index (see #00223)
Return: BL = data
Note:	the RIL is provided by EGA.SYS, the Microsoft Mouse driver, the OS/2
	  compatibility box, and others; it is used for software virtualization
	  of write-only registers on an EGA video adapter, so that multiple
	  programs may peacefully coexist without clobbering each other's
	  display settings
SeeAlso: AH=F1h"EGA",AH=F2h"EGA",AH=FAh"EGA",INT 2F/AX=BC00h

(Table 00223)
Values for group index:
 Pointer/data chips
 00h	CRT Controller (25 reg) 3B4h mono modes, 3D4h color modes
 08h	Sequencer (5 registers) 3C4h
 10h	Graphics Controller (9 registers) 3CEh
 18h	Attribute Controller (20 registers) 3C0h
 Single registers
 20h	Miscellaneous Output register 3C2h
 28h	Feature Control register (3BAh mono modes, 3DAh color modes)
 30h	Graphics 1 Position register 3CCh
 38h	Graphics 2 Position register 3CAh
--------V-10F1-------------------------------
INT 10 - EGA Register Interface Library - WRITE ONE REGISTER
	AH = F1h
	DX = group index (see #00223)
	    if single register:
		BL = value to write
	    otherwise
		BL = register number
		BH = value to write
Return: BL = data
Note:	the RIL is provided by EGA.SYS, the Microsoft Mouse driver, the OS/2
	  compatibility box, and others
SeeAlso: AX=7F05h,AH=F0h"EGA",AH=F3h"EGA",AH=FAh"EGA"
--------V-10F2-------------------------------
INT 10 - EGA Register Interface Library - READ REGISTER RANGE
	AH = F2h
	CH = starting register number
	CL = number of registers (>1)
	DX = group index (00h,08h,10h,18h) (see #00223)
	ES:BX -> buffer, CL bytes
Return: nothing
Note:	the RIL is provided by EGA.SYS, the Microsoft Mouse driver, the OS/2
	  compatibility box, and others
SeeAlso: AH=F0h"EGA",AH=F3h"EGA",AH=FAh"EGA"
--------V-10F3-------------------------------
INT 10 - EGA Register Interface Library - WRITE REGISTER RANGE
	AH = F3h
	CH = starting register
	CL = number of registers (>1)
	DX = group index (00h,08h,10h,18h) (see #00223)
	ES:BX -> buffer, CL bytes
Return: nothing
Note:	the RIL is provided by EGA.SYS, the Microsoft Mouse driver, the OS/2
	  compatibility box, and others
SeeAlso: AX=7F05h,AH=F1h"EGA",AH=F2h"EGA",AH=F4h"EGA"
--------V-10F4-------------------------------
INT 10 - EGA Register Interface Library - READ REGISTER SET
	AH = F4h
	CX = number of registers to read (>1)
	ES:BX -> table of register records (see #00224)
Return: register values in table filled in
Note:	the RIL is provided by EGA.SYS, the Microsoft Mouse driver, the OS/2
	  compatibility box, and others
SeeAlso: AH=F0h"EGA",AH=F2h"EGA",AH=F5h"EGA"

Format of EGA RIL entries in table of register records:
Offset	Size	Description	(Table 00224)
 00h	WORD	group index
		Pointer/data chips
		   00h CRTC (3B4h mono modes, 3D4h color modes)
		   08h Sequencer 3C4h
		   10h Graphics Controller 3CEh
		   18h Attribute Controller 3C0h
		Single registers
		   20h Miscellaneous Output register 3C2h
		   28h Feature Control register (3BAh mono modes, 3DAh color)
		   30h Graphics 1 Position register 3CCh
		   38h Graphics 2 Position register 3CAh
 02h	BYTE	register number (0 for single registers)
 03h	BYTE	register value
--------V-10F5-------------------------------
INT 10 - EGA Register Interface Library - WRITE REGISTER SET
	AH = F5h
	CX = number of registers to write (>1)
	ES:BX -> table of records (see #00224)
Return: nothing
Note:	the RIL is provided by EGA.SYS, the Microsoft Mouse driver, the OS/2
	  compatibility box, and others
SeeAlso: AX=7F05h,AH=F1h"EGA",AH=F3h"EGA",AH=F4h"EGA"
--------V-10F6-------------------------------
INT 10 - EGA Register Interface Library - REVERT TO DEFAULT REGISTERS
	AH = F6h
Return: nothing
Note:	provided by the Microsoft Mouse driver, OS/2 compatibility box, and
	  others
SeeAlso: AH=F5h"EGA",AH=F7h"EGA"
--------V-10F7-------------------------------
INT 10 - EGA Register Interface Library - DEFINE DEFAULT REGISTER TABLE
	AH = F7h
	DX = port number
	   Pointer/data chips
	      00h CRTC (3B4h mono modes, 3D4h color modes)
	      08h Sequencer 3C4h
	      10h Graphics Controller 3CEh
	      18h Attribute Controller 3C0h
	   Single registers
	      20h Miscellaneous Output register 3C2h
	      28h Feature Control register (3BAh mono modes, 3DAh color modes)
	      30h Graphics 1 Position register 3CCh
	      38h Graphics 2 Position register 3CAh
	ES:BX -> table of one-byte entries, one byte to be written to each
		 register
Return: nothing
Note:	the RIL is provided by EGA.SYS, the Microsoft Mouse driver, the OS/2
	  compatibility box, and others
SeeAlso: AH=F0h"EGA",AH=F6h"EGA"
--------V-10FA--BX0000-----------------------
INT 10 - EGA Register Interface Library - INTERROGATE DRIVER
	AH = FAh
	BX = 0000h
Return: BX = 0000h if RIL driver not present
	ES:BX -> EGA Register Interface version number, if present:
	    byte 0 = major release number
	    byte 1 = minor release number
Note:	the RIL is provided by EGA.SYS, the Microsoft Mouse driver, the OS/2
	  compatibility box, and others
SeeAlso: AH=F0h"EGA",AH=F6h"EGA",INT 2F/AX=BC00h
                                                                                                                                                                                                                                               --------M-330000-----------------------------
INT 33 - MS MOUSE - RESET DRIVER AND READ STATUS
	AX = 0000h
Return: AX = status
	    0000h hardware/driver not installed
	    FFFFh hardware/driver installed
	BX = number of buttons
	    0000h other than two
	    0002h two buttons (many drivers)
	    0003h Mouse Systems/Logitech three-button mouse
	    FFFFh two buttons
Notes:	since INT 33 might be uninitialized on old machines, the caller
	  should first check that INT 33 is neither 0000h:0000h nor points at
	  an IRET instruction (BYTE CFh) before calling this API
	to use mouse on a Hercules-compatible monographics card in graphics
	  mode, you must first set 0040h:0049h to 6 for page 0 or 5 for page 1,
	  and then call this function.	Logitech drivers v5.01 and v6.00
	  reportedly do not correctly use Hercules graphics in dual-monitor
	  systems, while version 4.10 does.
	the Logitech mouse driver contains the signature string "LOGITECH"
	  three bytes past the interrupt handler; many of the Logitech mouse
	  utilities check for this signature.
	Logitech MouseWare v6.30 reportedly does not support CGA video modes
	  if no CGA is present when it is started and the video board is
	  later switched into CGA emulation
SeeAlso: AX=0011h,AX=0021h,AX=002Fh,INT 62/AX=007Ah,INT 74
--------M-330001-----------------------------
INT 33 - MS MOUSE v1.0+ - SHOW MOUSE CURSOR
	AX = 0001h
SeeAlso: AX=0002h,INT 16/AX=FFFEh,INT 62/AX=007Bh,INT 6F/AH=06h"F_TRACK_ON"
--------M-330002-----------------------------
INT 33 - MS MOUSE v1.0+ - HIDE MOUSE CURSOR
	AX = 0002h
Note:	multiple calls to hide the cursor will require multiple calls to
	  function 01h to unhide it.
SeeAlso: AX=0001h,AX=0010h,INT 16/AX=FFFFh,INT 62/AX=007Bh
SeeAlso: INT 6F/AH=08h"F_TRACK_OFF"
--------M-330003-----------------------------
INT 33 - MS MOUSE v1.0+ - RETURN POSITION AND BUTTON STATUS
	AX = 0003h
Return: BX = button status (see #03168)
	CX = column
	DX = row
Note:	in text modes, all coordinates are specified as multiples of the cell
	  size, typically 8x8 pixels
SeeAlso: AX=0004h,AX=000Bh,INT 2F/AX=D000h"ZWmous"

Bitfields for mouse button status:
Bit(s)	Description	(Table 03168)
 0	left button pressed if 1
 1	right button pressed if 1
 2	middle button pressed if 1 (Mouse Systems/Logitech/Genius)
--------M-330004-----------------------------
INT 33 - MS MOUSE v1.0+ - POSITION MOUSE CURSOR
	AX = 0004h
	CX = column
	DX = row
Note:	the row and column are truncated to the next lower multiple of the cell
	  size (typically 8x8 in text modes); however, some versions of the
	  Microsoft documentation incorrectly state that the coordinates are
	  rounded
SeeAlso: AX=0003h,INT 62/AX=0081h,INT 6F/AH=10h"F_PUT_SPRITE"
--------M-330005-----------------------------
INT 33 - MS MOUSE v1.0+ - RETURN BUTTON PRESS DATA
	AX = 0005h
	BX = button number (see #03169)
Return: AX = button states (see #03168)
	BX = number of times specified button has been pressed since last call
	CX = column at time specified button was last pressed
	DX = row at time specified button was last pressed
Note:	at least for the Genius mouse driver, the number of button presses
	  returned is limited to 7FFFh
SeeAlso: AX=0006h,INT 62/AX=007Ch

(Table 03169)
Values for mouse button number:
 0000h	left
 0001h	right
 0002h	middle (Mouse Systems/Logitech/Genius mouse)
--------M-330006-----------------------------
INT 33 - MS MOUSE v1.0+ - RETURN BUTTON RELEASE DATA
	AX = 0006h
	BX = button number (see #03169)
Return: AX = button states (see #03168)
	BX = number of times specified button has been released since last call
	CX = column at time specified button was last released
	DX = row at time specified button was last released
Note:	at least for the Genius mouse driver, the number of button releases
	  returned is limited to 7FFFh
SeeAlso: AX=0005h,INT 62/AX=007Ch
--------M-330007-----------------------------
INT 33 - MS MOUSE v1.0+ - DEFINE HORIZONTAL CURSOR RANGE
	AX = 0007h
	CX = minimum column
	DX = maximum column
Note:	in text modes, the minimum and maximum columns are truncated to the
	  next lower multiple of the cell size, typically 8x8 pixels
SeeAlso: AX=0008h,AX=0010h,AX=0031h,INT 62/AX=0080h
SeeAlso: INT 6F/AH=0Ch"F_SET_LIMITS_X"
--------M-330008-----------------------------
INT 33 - MS MOUSE v1.0+ - DEFINE VERTICAL CURSOR RANGE
	AX = 0008h
	CX = minimum row
	DX = maximum row
Note:	in text modes, the minimum and maximum rows are truncated to the
	  next lower multiple of the cell size, typically 8x8 pixels
SeeAlso: AX=0007h,AX=0010h,AX=0031h,INT 62/AX=0080h
SeeAlso: INT 6F/AH=0Eh"F_SET_LIMITS_Y"
--------M-330009-----------------------------
INT 33 - MS MOUSE v3.0+ - DEFINE GRAPHICS CURSOR
	AX = 0009h
	BX = column of cursor hot spot in bitmap (-16 to 16)
	CX = row of cursor hot spot (-16 to 16)
	ES:DX -> mask bitmap (see #03170)
Notes:	in graphics modes, the screen contents around the current mouse cursor
	  position are ANDed with the screen mask and then XORed with the
	  cursor mask
	the Microsoft mouse driver v7.04 and v8.20 uses only BL and CL, so the
	  hot spot row/column should be limited to -128..127
	Microsoft KnowledgeBase article Q19850 states that the high bit is
	  right-most, but that statement is contradicted by all other available
	  documentation
SeeAlso: AX=000Ah,AX=0012h,AX=002Ah,INT 62/AX=007Fh,INT 6F/AH=0Ah"F_DEF_MASKS"

Format of mouse mask bitmap:
Offset	Size	Description	(Table 03170)
 00h 16 WORDs	screen mask
 10h 16 WORDs	cursor mask
Note:	each word defines the sixteen pixels of a row, low bit rightmost
--------M-33000A-----------------------------
INT 33 - MS MOUSE v3.0+ - DEFINE TEXT CURSOR
	AX = 000Ah
	BX = hardware/software text cursor
	    0000h software
		CX = screen mask
		DX = cursor mask
	    0001h hardware
		CX = start scan line
		DX = end scan line
Note:	when the software cursor is selected, the character/attribute data at
	  the current screen position is ANDed with the screen mask and then
	  XORed with the cursor mask
SeeAlso: AX=0009h,INT 62/AX=007Eh
--------M-33000B-----------------------------
INT 33 - MS MOUSE v1.0+ - READ MOTION COUNTERS
	AX = 000Bh
Return: CX = number of mickeys mouse moved horizontally since last call
	DX = number of mickeys mouse moved vertically
Notes:	a mickey is the smallest increment the mouse can sense
	positive values indicate down/right
SeeAlso: AX=0003h,AX=001Bh,AX=0027h
--------M-33000C-----------------------------
INT 33 - MS MOUSE v1.0+ - DEFINE INTERRUPT SUBROUTINE PARAMETERS
	AX = 000Ch
	CX = call mask (see #03171)
	ES:DX -> FAR routine (see #03172)
SeeAlso: AX=0018h

Bitfields for mouse call mask:
Bit(s)	Description	(Table 03171)
 0	call if mouse moves
 1	call if left button pressed
 2	call if left button released
 3	call if right button pressed
 4	call if right button released
 5	call if middle button pressed (Mouse Systems/Logitech/Genius mouse)
 6	call if middle button released (Mouse Systems/Logitech/Genius mouse)
 7-15	unused
Note:	some versions of the Microsoft documentation incorrectly state that CX
	  bit 0 means call if mouse cursor moves

(Table 03172)
Values interrupt routine is called with:
	AX = condition mask (same bit assignments as call mask)
	BX = button state
	CX = cursor column
	DX = cursor row
	SI = horizontal mickey count
	DI = vertical mickey count
Notes:	some versions of the Microsoft documentation erroneously swap the
	  meanings of SI and DI
	in text modes, the row and column will be reported as a multiple of
	  the character cell size, typically 8x8 pixels
--------M-33000D-----------------------------
INT 33 - MS MOUSE v1.0+ - LIGHT PEN EMULATION ON
	AX = 000Dh
SeeAlso: AX=000Eh,INT 10/AH=04h
--------M-33000E-----------------------------
INT 33 - MS MOUSE v1.0+ - LIGHT PEN EMULATION OFF
	AX = 000Eh
SeeAlso: AX=000Dh
--------M-33000F-----------------------------
INT 33 - MS MOUSE v1.0+ - DEFINE MICKEY/PIXEL RATIO
	AX = 000Fh
	CX = number of mickeys per 8 pixels horizontally (default 8)
	DX = number of mickeys per 8 pixels vertically (default 16)
SeeAlso: AX=0013h,AX=001Ah,INT 62/AX=0082h
--------M-330010-----------------------------
INT 33 - MS MOUSE v1.0+ - DEFINE SCREEN REGION FOR UPDATING
	AX = 0010h
	CX,DX = X,Y coordinates of upper left corner
	SI,DI = X,Y coordinates of lower right corner
Note:	mouse cursor is hidden in the specified region, and needs to be
	  explicitly turned on again
SeeAlso: AX=0001h,AX=0002h,AX=0007h,AX=0010h"Genius MOUSE",AX=0031h
--------M-330012-----------------------------
INT 33 - MS MOUSE - SET LARGE GRAPHICS CURSOR BLOCK
	AX = 0012h
	BH = cursor width in words
	CH = rows in cursor
	BL = horizontal hot spot (-16 to 16)
	CL = vertical hot spot (-16 to 16)
	ES:DX -> bit map of screen and cursor maps
Return: AX = FFFFh if successful
SeeAlso: AX=0009h,AX=002Ah,AX=0035h
--------M-330013-----------------------------
INT 33 - MS MOUSE v5.0+ - DEFINE DOUBLE-SPEED THRESHOLD
	AX = 0013h
	DX = threshold speed in mickeys/second, 0000h = default of 64/second
Note:	if speed exceeds threshold, the cursor's on-screen motion is doubled
SeeAlso: AX=000Fh,AX=001Bh,AX=002Ch
--------M-330014-----------------------------
INT 33 - MS MOUSE v3.0+ - EXCHANGE INTERRUPT SUBROUTINES
	AX = 0014h
	CX = call mask (see #03171)
	ES:DX -> FAR routine
Return: CX = call mask of previous interrupt routine
	ES:DX = FAR address of previous interrupt routine
SeeAlso: AX=000Ch,AX=0018h
--------M-330015-----------------------------
INT 33 - MS MOUSE v6.0+ - RETURN DRIVER STORAGE REQUIREMENTS
	AX = 0015h
Return: BX = size of buffer needed to store driver state
SeeAlso: AX=0016h,AX=0017h,AX=0042h
--------M-330016-----------------------------
INT 33 - MS MOUSE v6.0+ - SAVE DRIVER STATE
	AX = 0016h
	BX = size of buffer (see AX=0015h)
	ES:DX -> buffer for driver state
Note:	although not documented (since the Microsoft driver does not use it),
	  many drivers appear to require BX on input
SeeAlso: AX=0015h,AX=0017h
--------M-330017-----------------------------
INT 33 - MS MOUSE v6.0+ - RESTORE DRIVER STATE
	AX = 0017h
	BX = size of buffer (see AX=0015h)
	ES:DX -> buffer containing saved state
Notes:	although not documented (since the Microsoft driver does not use it),
	  many drivers appear to require BX on input
	some mouse drivers range-check the values in the saved state based on
	  the current video mode; thus, the video mode should be restored
	  before the mouse driver's state is restored
SeeAlso: AX=0015h,AX=0016h
--------M-330018-----------------------------
INT 33 - MS MOUSE v6.0+ - SET ALTERNATE MOUSE USER HANDLER
	AX = 0018h
	CX = call mask (see #03174)
	ES:DX -> FAR routine to be invoked on mouse events (see #03175)
Return: AX = status
	    0018h if successful
	    FFFFh on error
Notes:	up to three handlers can be defined by separate calls to this function,
	  each with a different combination of shift states in the call mask;
	  calling this function again with a call mask of 0000h undefines the
	  specified handler (official documentation); specifying the same
	  call mask and an address of 0000h:0000h undefines the handler (real
	  life)
	some versions of the documentation erroneously reverse the order of
	  the bits in the call mask
SeeAlso: AX=000Ch,AX=0014h,AX=0019h

Bitfields for mouse call mask:
Bit(s)	Description	(Table 03174)
 0	call if mouse moves
 1	call if left button pressed
 2	call if left button released
 3	call if right button pressed
 4	call if right button released
 5	call if shift button pressed during event
 6	call if ctrl key pressed during event
 7	call if alt key pressed during event
Note:	at least one of 5-7 must be set

(Table 03175)
Values user handler is called with:
	AX = condition mask (same bit assignments as call mask)
	BX = button state
	CX = cursor column
	DX = cursor row
	SI = horizontal mickey count
	DI = vertical mickey count
Return: registers preserved
Note:	in text modes, the row and column will be reported as a multiple of
	  the cell size, typically 8x8 pixels
--------M-330019-----------------------------
INT 33 - MS MOUSE v6.0+ - RETURN USER ALTERNATE INTERRUPT VECTOR
	AX = 0019h
	CX = call mask (see #03174)
Return: BX:DX = user interrupt vector
	CX = call mask (0000h if not found)
Note:	attempts to find a user event handler (defined by function 18h)
	  whose call mask matches CX
SeeAlso: AX=0018h
--------M-33001A-----------------------------
INT 33 - MS MOUSE v6.0+ - SET MOUSE SENSITIVITY
	AX = 001Ah
	BX = horizontal speed \
	CX = vertical speed   / (see AX=000Fh)
	DX = double speed threshold (see AX=0013h)
SeeAlso: AX=0013h,AX=001Bh,INT 62/AX=0082h
--------M-33001B-----------------------------
INT 33 - MS MOUSE v6.0+ - RETURN MOUSE SENSITIVITY
	AX = 001Bh
Return: BX = horizontal speed
	CX = vertical speed
	DX = double speed threshold
SeeAlso: AX=000Bh,AX=001Ah
--------M-33001C-----------------------------
INT 33 - MS MOUSE v6.0+ - SET INTERRUPT RATE
	AX = 001Ch
	BX = rate (see #03176)
Notes:	only available on InPort mouse
	values greater than 4 may cause unpredictable driver behavior

(Table 03176)
Values for mouse interrupt rate:
 00h	no interrupts allowed
 01h	30 per second
 02h	50 per second
 03h	100 per second
 04h	200 per second
--------M-33001D-----------------------------
INT 33 - MS MOUSE v6.0+ - DEFINE DISPLAY PAGE NUMBER
	AX = 001Dh
	BX = display page number
Note:	the cursor will be displayed on the specified page
SeeAlso: AX=001Eh
--------M-33001E-----------------------------
INT 33 - MS MOUSE v6.0+ - RETURN DISPLAY PAGE NUMBER
	AX = 001Eh
Return: BX = display page number
SeeAlso: AX=001Dh
--------M-33001F-----------------------------
INT 33 - MS MOUSE v6.0+ - DISABLE MOUSE DRIVER
	AX = 001Fh
Return: AX = status
	    001Fh successful
		ES:BX = INT 33 vector before mouse driver was first installed
	    FFFFh unsuccessful
Notes:	restores vectors for INT 10 and INT 71 (8086) or INT 74 (286/386)
	if you restore INT 33 to ES:BX, driver will be completely disabled
	many drivers return AX=001Fh even though the driver has been disabled
SeeAlso: AX=0020h
--------M-330020-----------------------------
INT 33 - MS MOUSE v6.0+ - ENABLE MOUSE DRIVER
	AX = 0020h
Return: AX = status
	    0020h successful
	    FFFFh unsuccessful
Notes:	restores vectors for INT 10h and INT 71h (8086) or INT 74h (286/386)
	  which were removed by function 1Fh
	Microsoft's documentation states that no value is returned
SeeAlso: AX=001Fh
--------M-330021-----------------------------
INT 33 - MS MOUSE v6.0+ - SOFTWARE RESET
	AX = 0021h
Return: AX = status
	    FFFFh if mouse driver installed
		BX = number of buttons (FFFFh = two buttons)
	    0021h if mouse driver not installed
Note:	this call is identical to funtion 00h, but does not reset the mouse
SeeAlso: AX=0000h
--------M-330022-----------------------------
INT 33 - MS MOUSE v6.0+ - SET LANGUAGE FOR MESSAGES
	AX = 0022h
	BX = language (see #03177)
Note:	only available on international versions of the driver; US versions
	  ignore this call
SeeAlso: AX=0023h

(Table 03177)
Values for mouse driver language:
 00h	English
 01h	French
 02h	Dutch
 03h	German
 04h	Swedish
 05h	Finnish
 06h	Spanish
 07h	Portugese
 08h	Italian
--------M-330023-----------------------------
INT 33 - MS MOUSE v6.0+ - GET LANGUAGE FOR MESSAGES
	AX = 0023h
Return: BX = language (see #03177)
Note:	the US version of the driver always returns zero
SeeAlso: AX=0022h
--------M-330024BX0000-----------------------
INT 33 - MS MOUSE v6.26+ - GET SOFTWARE VERSION, MOUSE TYPE, AND IRQ NUMBER
	AX = 0024h
	BX = 0000h to check for function's existence
Return: AX = FFFFh on error
	otherwise,
	    BH = major version
	    BL = minor version
	    CH = type (1=bus, 2=serial, 3=InPort, 4=PS/2, 5=HP)
	    CL = interrupt (0=PS/2, 2=IRQ2, 3=IRQ3,...,7=IRQ7,...,0Fh=IRQ15)
Note:	although current Microsoft documentation states that this function was
	  introduced in v6.26, it appears to have been present as early as
	  v6.02 (for earlier versions, use INT 33/AX=006Dh)
SeeAlso: AX=004Dh,AX=006Dh
--------M-330025-----------------------------
INT 33 - MS MOUSE v6.26+ - GET GENERAL DRIVER INFORMATION
	AX = 0025h
Return: AX = general information (see #03178)
	BX = cursor lock flag for OS/2 to prevent reentrancy problems
	CX = mouse code active flag (for OS/2)
	DX = mouse driver busy flag (for OS/2)

Bitfields for general mouse driver information:
Bit(s)	Description	(Table 03178)
 15	driver loaded as device driver rather than TSR
 14	driver is newer integrated type
 13,12	current cursor type
	00 software text cursor
	01 hardware text cursor (CRT Controller's cursor)
	1X graphics cursor
 11-8	interrupt rate (see #03176)
 7-0	count of currently-active Mouse Display Drivers (MDD), the newer
	  integrated driver type
--------M-330026-----------------------------
INT 33 - MS MOUSE v6.26+ - GET MAXIMUM VIRTUAL COORDINATES
	AX = 0026h
Return: BX = mouse-disabled flag (0000h mouse enabled, nonzero disabled)
	CX = maximum virtual X (for current video mode)
	DX = maximum virtual Y
Note:	for driver versions before 7.05, this call returns the currently-set
	  maximum coordinates; v7.05+ returns the absolute maximum coordinates
SeeAlso: AX=0031h
--------M-330027-----------------------------
INT 33 - MS MOUSE v7.01+ - GET SCREEN/CURSOR MASKS AND MICKEY COUNTS
	AX = 0027h
Return: AX = screen-mask value (or hardware cursor scan-line start for v7.02+)
	BX = cursor-mask value (or hardware cursor scan-line stop for v7.02+)
	CX = horizontal mickeys moved since last call
	DX = vertical mickeys moved since last call
SeeAlso: AX=000Bh
--------M-330028-----------------------------
INT 33 - MS MOUSE v7.0+ - SET VIDEO MODE
	AX = 0028h
	CX = new video mode (call is NOP if 0000h)
	DH = Y font size (00h = default)
	DL = X font size (00h = default)
Return: CL = status (00h = successful)
Notes:	DX is ignored unless the selected video mode supports font size control
	when CX=0000h, an internal flag that had been set by a previous call
	  is cleared; this is required before a mouse reset
SeeAlso: AX=0029h,INT 10/AH=00h
--------M-330029-----------------------------
INT 33 - MS MOUSE v7.0+ - ENUMERATE VIDEO MODES
	AX = 0029h
	CX = previous video mode
	    0000h get first supported video mode
	    other get next supported mode after mode CX
Return: CX = first/next video mode (0000h = no more video modes)
	DS:DX -> description of video mode or 0000h:0000h if none
Notes:	the enumerated video modes may be in any order and may repeat
	the description string (if available) is terminated by '$' followed by
	  a NUL byte
SeeAlso: AX=0028h
--------M-33002A-----------------------------
INT 33 - MS MOUSE v7.02+ - GET CURSOR HOT SPOT
	AX = 002Ah
Return: AX = internal counter controlling cursor visibility
	BX = cursor hot spot column
	CX = cursor hot spot row
	DX = mouse type (see #03179)
Note:	the hot spot location is relative to the upper left corner of the
	  cursor block and may range from -128 to +127 both horizontally and
	  vertically
SeeAlso: AX=0009h,AX=0012h,AX=0035h

(Table 03179)
Values for mouse type:
 00h	none
 01h	bus
 02h	serial
 03h	InPort
 04h	IBM
 05h	Hewlett-Packard
--------M-33002B-----------------------------
INT 33 - MS MOUSE v7.0+ - LOAD ACCELERATION PROFILES
	AX = 002Bh
	BX = active acceleration profile
	    0001h-0004h or FFFFh to restore default curves
	ES:SI -> buffer containing acceleration profile data (see #03180)
Return: AX = success flag
SeeAlso: AX=002Ch,AX=002Dh,AX=0033h

Format of acceleration profile data:
Offset	Size	Description	(Table 03180)
 00h	BYTE	length of acceleration profile 1
 01h	BYTE	length of acceleration profile 2
 02h	BYTE	length of acceleration profile 3
 03h	BYTE	length of acceleration profile 4
 04h 32 BYTEs	threshold speeds for acceleration profile 1
 24h 32 BYTEs	threshold speeds for acceleration profile 2
 44h 32 BYTEs	threshold speeds for acceleration profile 3
 64h 32 BYTEs	threshold speeds for acceleration profile 4
 84h 32 BYTEs	speedup factor for acceleration profile 1
		(10h = 1.0, 14h = 1.25, 20h = 2.0, etc)
 A4h 32 BYTEs	speedup factor for acceleration profile 2
		(10h = 1.0, 14h = 1.25, 20h = 2.0, etc)
 C4h 32 BYTEs	speedup factor for acceleration profile 3
		(10h = 1.0, 14h = 1.25, 20h = 2.0, etc)
 E4h 32 BYTEs	speedup factor for acceleration profile 4
		(10h = 1.0, 14h = 1.25, 20h = 2.0, etc)
104h 16 BYTEs	name of acceleration profile 1 (blank-padded)
114h 16 BYTEs	name of acceleration profile 2 (blank-padded)
124h 16 BYTEs	name of acceleration profile 3 (blank-padded)
134h 16 BYTEs	name of acceleration profile 4 (blank-padded)
Note:	unused bytes in the threshold speed fields are filled with 7Fh and
	  unused bytes in the speedup factor fields are filled with 10h
--------M-33002C-----------------------------
INT 33 - MS MOUSE v7.0+ - GET ACCELERATION PROFILES
	AX = 002Ch
Return: AX = status (0000h success)
	BX = currently-active acceleration profile
	ES:SI -> acceleration profile data (see #03180)
SeeAlso: AX=002Bh,AX=002Dh,AX=0033h
--------M-33002D-----------------------------
INT 33 - MS MOUSE v7.0+ - SELECT ACCELERATION PROFILE
	AX = 002Dh
	BX = acceleration level
	    0001h-0004h to set profile, or FFFFh to get current profile
Return: AX = status
	    0000h successful
		ES:SI -> 16-byte blank-padded name of acceleration profile
	    FFFEh invalid acceleration curve number
		ES:SI destroyed
	BX = active acceleration curve number
SeeAlso: AX=0013h,AX=002Bh,AX=002Ch,AX=002Eh
--------M-33002E-----------------------------
INT 33 - MS MOUSE v8.10+ - SET ACCELERATION PROFILE NAMES
	AX = 002Eh
	BL = flag (if nonzero, fill ES:SI buffer with default names on return)
	ES:SI -> 64-byte buffer containing profile names (16 bytes per name)
Return: AX = status (0000h success)
	    FFFEh error for ATI Mouse driver
	ES:SI buffer filled with default names if BL nonzero on entry
Notes:	not supported by Logitech driver v6.10
	supported by ATI Mouse driver v7.04
SeeAlso: AX=002Ch,AX=002Dh,AX=012Eh,AX=022Eh
--------M-33002F-----------------------------
INT 33 - MS MOUSE v7.02+ - MOUSE HARDWARE RESET
	AX = 002Fh
Return: AX = status
Note:	invoked by mouse driver v8.20 on being called with INT 2F/AX=530Bh
SeeAlso: INT 2F/AH=53h
--------M-330030-----------------------------
INT 33 - MS MOUSE v7.04+ - GET/SET BallPoint INFORMATION
	AX = 0030h
	CX = command
	    0000h get status of BallPoint device
	    other set rotation angle and masks
		BX = rotation angle (-32768 to 32767 degrees)
		CH = primary button mask
		CL = secondary button mask
Return: AX = button status (FFFFh if no BallPoint) (see #03181)
	BX = rotation angle (0-360 degrees)
	CH = primary button mask
	CL = secondary button mask
Note:	not supported by the ATI Mouse driver which calls itself v7.04

Bitfields for BallPoint mouse button status:
Bit(s)	Description	(Table 03181)
 5	button 1
 4	button 2
 3	button 3
 2	button 4
 other	zero
--------M-330031-----------------------------
INT 33 - MS MOUSE v7.05+ - GET CURRENT MINIMUM/MAXIMUM VIRTUAL COORDINATES
	AX = 0031h
Return: AX = virtual X minimum
	BX = virtual Y minimum
	CX = virtual X maximum
	DX = virtual Y maximum
Note:	the minimum and maximum values are those set by AX=0007h and AX=0008h;
	  the default is minimum = 0 and maximum = absolute maximum
	  (see AX=0026h)
SeeAlso: AX=0007h,AX=0008h,AX=0010h,AX=0026h
--------M-330032-----------------------------
INT 33 - MS MOUSE v7.05+ - GET ACTIVE ADVANCED FUNCTIONS
	AX = 0032h
Return: AX = active function flags (FFFFh for v8.10)
	    bit 15: function 0025h supported
	    bit 14: function 0026h supported
	    ...
	    bit 0:  function 0034h supported
	BX = ??? (0000h) officially unused
	CX = ??? (E000h) officially unused
	DX = ??? (0000h) officially unused
Note:	the Italian version of MS MOUSE v8.20 reportedly indicates that
	  functions 0033h and 0034h are not supported even though they are
--------M-330033-----------------------------
INT 33 - MS MOUSE v7.05+ - GET SWITCH SETTINGS AND ACCELERATION PROFILE DATA
	AX = 0033h
	CX = size of buffer
	    0000h get required buffer size
		Return: AX = 0000h
			CX = required size (0154h for Logitech v6.10, 0159h
				for MS v8.10-8.20)
	    other
		ES:DX -> buffer of CX bytes for mouse settings
		Return: AX = 0000h
			CX = number of bytes returned
			ES:DX buffer filled (see #03182)
SeeAlso: AX=002Bh

Format of mouse settings data buffer:
Offset	Size	Description	(Table 03182)
 00h	BYTE	mouse type
 01h	BYTE	current language
 02h	BYTE	horizontal sensitivity (00h-64h)
 03h	BYTE	vertical sensitivity (00h-64h)
 04h	BYTE	double-speed threshold (00h-64h)
 05h	BYTE	ballistic curve (01h-04h)
 06h	BYTE	interrupt rate (01h-04h)
 07h	BYTE	cursor override mask
 08h	BYTE	laptop adjustment
 09h	BYTE	memory type (00h-02h)
 0Ah	BYTE	SuperVGA support (00h,01h)
 0Bh	BYTE	rotation angle
 0Ch	BYTE	???
 0Dh	BYTE	primary button (01h-04h)
 0Eh	BYTE	secondary button (01h-04h)
 0Fh	BYTE	click lock enabled (00h,01h)
 10h 324 BYTEs	acceleration profile data (see #03180)
154h  5 BYTEs	??? (Microsoft driver, but not Logitech)
--------M-330034-----------------------------
INT 33 - MS MOUSE v8.0+ - GET INITIALIZATION FILE
	AX = 0034h
Return: AX = status (0000h successful)
	ES:DX -> ASCIZ initialization (.INI) file name
--------M-330035-----------------------------
INT 33 - MS MOUSE v8.10+ - LCD SCREEN LARGE POINTER SUPPORT
	AX = 0035h
	BX = function
	    FFFFh get current settings
		Return: AX = 0000h
			BH = style (see #03183)
			BL = size (see #03184)
			CH = threshold (00h-64h)
			CL = active flag (00h disabled, 01h enabled)
			DX = delay
	    other
		BH = pointer style (see #03183)
		BL = size (see #03184)
		CH = threshold (00h-64h)
		CL = active flag (00h disable size change, 01h enable)
		DX = delay (0000h-0064h)
		Return: AX = 0000h
Note:	not supported by Logitech driver v6.10
SeeAlso: AX=0012h,AX=002Ah

(Table 03183)
Values for pointer style:
 00h	normal
 01h	reverse
 02h	transparent
SeeAlso: #03184

(Table 03184)
Values for pointer size:
 00h	small ("1")
 01h	medium ("1.5")
 02h	large ("2")
SeeAlso: #03183
--------M-33004D-----------------------------
INT 33 - MS MOUSE - RETURN POINTER TO COPYRIGHT STRING
	AX = 004Dh
Return: ES:DI -> copyright message "*** This is Copyright 1983 Microsoft" or
		"Copyright 19XX...."
Notes:	also supported by Logitech, Kraft, Genius Mouse, and Mouse Systems
	  mouse drivers
	in the Genius Mouse 9.06 driver, the ASCIZ signature "KYE" immediately
	  follows the above copyright message (KYE Corp. manufactures the
	  driver)
SeeAlso: AX=0024h,AX=006Dh,AX=0666h
--------M-33006D-----------------------------
INT 33 - MS MOUSE - GET VERSION STRING
	AX = 006Dh 'm'
Return: ES:DI -> Microsoft version number of resident driver (see #03187)
Notes:	also supported by Logitech, Mouse Systems, Kraft, and Genius mouse
	  drivers
	the Mouse Systems 7.01 and Genius Mouse 9.06 drivers report their
	  Microsoft version as 7.00 even though they do not support any of the
	  functions from 0025h through 002Dh supported by the MS 7.00 driver
	  (the Genius Mouse driver supports function 0026h, but it differs
	  from the Microsoft function)
	the TRUEDOX 4.01 driver reports its version as 6.26 through this call,
	  but as 6.24 through AX=0024h
	There seems to be no reliable method to distinguish MS MOUSE before
	  3.00 from mouse drivers of other vendors.
	Some releases of the MS MOUSE 6.00 erroneously return 6.01 instead of
	  their true version number.  In this case, a DI value of 01ABh can
	  be used to still detect a 6.00 driver.
	For returned versions 6.02+, INT 33/AX=0024h should be used to retrieve
	  more accurate version data. 
	True MS MOUSE drivers can also be identified by magic numbers in
	  their copyright message, stored in the driver's segment (ES).
	  These can be found by scanning the first 2 Kb of the mouse 
	  driver's segment for a string like: [new since 7.00+] 
	  "** This is Copyright 1983[-19xx] Microsoft ***" with the
	  magic number stored one byte after the signature string.
SeeAlso: AX=0024h,AX=004Dh,AX=006Ah,AX=266Ch

Format of Microsoft version number:
Offset	Size	Description	(Table 03187)
 00h	BYTE	major version
 01h	BYTE	minor version (BCD)

(Table 04087)
Values for Microsoft MOUSE copyright string magic numbers:
 5564h	version 3.00..6.00	(for reported versions up to 5.03, and 6.00)
 557Ch	version 6.01Z..6.24	(for reported versions 6.01..6.24)
 E806h	version 6.25		(for reported version 6.25)
 EB02h	version 6.26..7.04	(for reported version 6.26..7.04)
 0800h	Integrated driver 1.0+	(for reported version 9.x+)
Note:	Versions above 7.04 (except for integrated mouse drivers) have a magic
	  number representing their version number, e.g. 0507h for version 7.05
timizations.
Paul Schubert: much faster PS/2 code.
All who helped with ideas and code.


Contacts:
---------

mailto:nagyd@users.sourceforge.net
http://cutemouse.sourceforge.net
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 
Notes on conversion of CTMOUSE 2.1beta4 from TASM to JWASM / MASM:

- TASM evendata pads with 0, JWASM even pads with 0fch
  I do not know how to change this, I just used "db 0".

- sbb ch,ch xchg dx,si xchg cl,bh xchg si,di sbb al,al
  xchg dh,bl xchg cx,si xchg cx,bx xchg dl,al xchg dl,ah
  xchg dx,si xchg ah,al (but not ALL "xchg" instructions)
  all swap the arguments when compiled with JWASM as
  compared to compiled with TASM - I used "db ..." here.

- cmp ax, valuebelow128 uses "cmp ax,word" in TASM but
  I cannot make JWASM do that - it uses "cmp ax,byte"

- adc ax,0 has the same problem as cmp ax,4 ...

- JWASM does not support testflag / setflag / maskflag
  which compile into test / or / and in an "intelligent"
  way. For example "testflag [bx],400h" would create a
  "test [bx+1],4" in a TASM made binary...

Differences between TASM and MASM:

- MASM needs double "::" after labels to make them globally
  visible, TASM has keyword "locals" to make all labels global
  ... however I had to use "::" at ONLY 28 places and having
  the global-hints explicit makes the code more readable ...

- MASM uses "even" where TASM uses "evendata"

- MASM uses "STRUCNAME ends" where TASM uses "ends"

- the size info in "MYLABEL label byte" can be optional in TASM

- JWASM / TASM do not understand "warn" and various "%settings"

- macro options can be of type "rest" and "vararg" only in TASM

- TASM allows push and pop with multiple arguments... Dunno about
  MASM but JWASM does not support this. I think NASM does...?

Other JWASM specifics I had to work around:

- JWASM seems to have pretty bad support for "record" bitfields,
  I had to remove most references to them to avoid broken code
  (later JWASM versions are a bit better with this)

- JWASM uses only 8 instead of 16 bytes for "foo db 8 dup (?,?)"
  before version 1.8 - this bug is fixed in later JWASM versions

- JWASM does not allow structures to be named OPTION ;-) It also
  can do less magic with macros compared to TASM... You can find
  all sorts of related simplifications I had to use in jw-tasm.*

- in TASM you can say "offset X" instead of "offset PAIR.X"
  in cases where this is not ambiguous (PAIR is a struct).
  You cannot say [si].foo either, only [si+offset WHAT.foo].
  You can also say "ends" instead of "STRUCTNAME ends" in
  TASM and "LABNAME label byte" does not need the "byte" in
  TASM if it can be inferred. Instead of ".model use16 tiny"
  I had to use the JWASM -mt command line option.

- to make a COM file with JWASM, several changes were needed:
  Instead of .startup I had to say: org 100h assume ds:DGROUP
  and start:: (and at the end: end start). Using tlink /x /t
  does not work, I have to use tlink /x and call exe2bin after
  that (Watcom exe2bin) for ctmouse. However, tlink /x /t did
  work for the utilities! Maybe related to the map info? The
  ctmouse binary had 14e4 bytes _text, 2 _data, 5b9h const in
  the version before I run exe2bin and com2exe. While exe to
  com via exe sounds odd, it has use - gives smaller headers.

- you cannot say ERRIF in JWASM and I could not get the "hll"
  (if_ loop_ etc) macros by Arkady nor the CODE_ or out_ ones
  to work in a syntax suitable for JWASM...

- instead of PS2WHEELCODE[1] I had to say byte ptr [PS2WHEELCODE+1]

Change stats: 15 files edited, 2 files removed (file.mac, hll.mac),
787 lines removed, 1538 lines added (this often means "replaced a
line by a comment and added a new line"). Sum of lines of makefiles,
include files and source files: 9317. Unified diff: 4981 lines.

ce conventional memory footprint.
  [proposed by Matthias Paul]
- COUNTRY settings may determine displayed messages coding.


Utilities:
----------

- Utility to install a handler for secondary mouse. This would be
  especially useful for notebooks with both built-in and external mice.
                                                                                                                                                       Serial mouse reset
------------------

1: Set UART to 'break line' state (set bit 6 in the LCR).
2: Clear the RTS and DTR (bits 0-1) in the MCR, wait a while.
3: Set the RTS and DTR bits again.


Serial mouse detection (identification bytes before optional PnP data)
----------------------------------------------------------------------

In Mouse Systems mode, mouse sends nothing.
In Microsoft mode, mouse sends 'M' after dropping and raising RTS.
In Logitech mode, mouse sends 'M3' after dropping and raising RTS.
In wheel mode, mouse sends 'MZ@',0,0,0 after dropping and raising RTS.


PS/2 pointing device ID (reported after 0F2h command)
-----------------------------------------------------

In standard mode, the device reports 0.
In wheel mode, the device reports 3. This mode is enabled by sending a
  Select Report Rate 200, a Rate 100 and finally a Rate 80 command sequence.
In extended mode, the device reports 4. This mode is enabled by sending a
  Select Report Rate 200, a Rate 200 and finally a Rate 80 command sequence.


===========================================================================
Serial Mouse Systems mode: 1200 bps, 8 data bits, 1 stop bit, no parity

	      1st byte		2nd byte	  3rd byte
	 +---------------+ +---------------+ +---------------+
	 |1|0|0|0|0|L|M|R| |X|X|X|X|X|X|X|X| |Y|Y|Y|Y|Y|Y|Y|Y|
	 +---------------+ +---------------+ +---------------+
		    | | |     Xa movement	Ya movement
		    | | |
		    | | |       4th byte 	 5th byte
  Left Button ------+ | |  +---------------+ +---------------+
Middle Button --------+ |  |X|X|X|X|X|X|X|X| |Y|Y|Y|Y|Y|Y|Y|Y|
 Right Button ----------+  +---------------+ +---------------+
(0 if pressed)		      Xb movement	Yb movement


Xa/Ya - movement of the mouse since last packet.
Xb/Yb - movement of the mouse since Xa/Ya.
Movement values are 8-bit signed twos complement integers.
Positive movement value indicates motion to the right/upward.


===========================================================================
Serial Microsoft mode: 1200 bps, 7 data bits, 1 stop bit, no parity

	      1st byte		2nd byte	  3rd byte
	 +---------------+ +---------------+ +---------------+
	 |0|1|L|R|Y|Y|X|X| |0|0|X|X|X|X|X|X| |0|0|Y|Y|Y|Y|Y|Y|
	 +---------------+ +---------------+ +---------------+
	      | | \ / \ /	\----+----/	  \----+----/
	      | |  |   |	     |		       |
	      | |  +---|-------------|---------+       |
	      | |      +-----+	     |	       |       |
	      | |	    / \ /----+----\   / \ /----+----\
	      | |	   +---------------+ +---------------+
 Left Button -+ |	   | | | | | | | | | | | | | | | | | |
Right Button ---+	   +---------------+ +---------------+
(1 if pressed)		       X movement	 Y movement


Movement values are 8-bit signed twos complement integers.
Positive movement value indicates motion to the right/downward.


===========================================================================
Serial Logitech mode: 1200 bps, 7 data bits, 1 stop bit, no parity

	      1st byte		2nd byte	  3rd byte
	 +---------------+ +---------------+ +---------------+
	 |0|1|L|R|Y|Y|X|X| |0|0|X|X|X|X|X|X| |0|0|Y|Y|Y|Y|Y|Y|
	 +---------------+ +---------------+ +---------------+
	      | | \ / \ /	\----+----/	  \----+----/
	      | |  |   |	     |		       |
	      | |  +---|-------------|---------+       |
	      | |      +-----+	     |	       |       |
	      | |	    / \ /----+----\   / \ /----+----\
	      | |	   +---------------+ +---------------+
 Left Button -+ |	   | | | | | | | | | | | | | | | | | |
Right Button ---+	   +---------------+ +---------------+
(1 if pressed)		       X movement	 Y movement


The extra byte (only when middle button is pressed)
---------------------------------------------------

	      4th byte
	 +---------------+
	 |0|0|M|0|0|0|0|0|
	 +---------------+
	      |
	Middle Button (1 if pressed)


First three bytes are equal to Mouse mode packet.
Movement values are 8-bit signed twos complement integers.
Positive movement value indicates motion to the right/downward.


===========================================================================
Serial Microsoft wheel mode: 1200 bps, 7 data bits, 1 stop bit, no parity

	      1st byte		2nd byte	  3rd byte	    4th byte
	 +---------------+ +---------------+ +---------------+ +---------------+
	 |0|1|L|R|Y|Y|X|X| |0|0|X|X|X|X|X|X| |0|0|Y|Y|Y|Y|Y|Y| |0|0|0|M|w|w|w|w|
	 +---------------+ +---------------+ +---------------+ +---------------+
	      | | \ / \ /	\----+----/	  \----+----/	      | \--+--/
	      | |  |   |	     |		       |	      |	   |
	      | |  +---|-------------|---------+       |	      |	   |
	      | |      +-----+	     |	       |       |	      |	 Wheel
	      | |	    / \ /----+----\   / \ /----+----\	      | Movement
	      | |	   +---------------+ +---------------+	      |
 Left Button -+ |	   | | | | | | | | | | | | | | | | | |	      |
Right Button ---+	   +---------------+ +---------------+	Middle Button
(1 if pressed)		       X movement	 Y movement	(1 if pressed)


First three bytes are equal to Mouse mode packet.
Movement values are 8-bit signed twos complement integers.
Positive movement value indicates motion to the right/downward.
Wheel movement is a 4-bit signed twos complement integer.
Positive wheel movement value indicates rotation downward.


===========================================================================
PS/2 standard mode protocol:

	      1st byte		2nd byte	  3rd byte
	 +---------------+ +---------------+ +---------------+
	 |?|?|Y|X|1|M|R|L| |X|X|X|X|X|X|X|X| |Y|Y|Y|Y|Y|Y|Y|Y|
	 +---------------+ +---------------+ +---------------+
	      | |   | | |   \------+------/   \------+------/
	      | |   | | |	   |		     |
	      +-|---|-|-|----------|-----------+     |
		+---|-|-|--+	   |	       |     |
		    | | |  | /-----+-------\   | /---+---------\
Middle Button ------+ | | +-----------------+ +-----------------+
 Right Button --------+ | | | | | | | | | | | | | | | | | | | | |
  Left Button ----------+ +-----------------+ +-----------------+
(1 if pressed)		       X movement	   Y movement


Two most significant bits in first byte indicate overflow (more than 9 bits
  of movement) in each direction. Usually ignored.
Movement values are 9-bit signed twos complement integers.
Positive movement value indicates motion to the right/upward.


===========================================================================
PS/2 wheel mode protocol:

	      1st byte		2nd byte	  3rd byte	    4th byte
	 +---------------+ +---------------+ +---------------+ +---------------+
	 |?|?|Y|X|1|M|R|L| |X|X|X|X|X|X|X|X| |Y|Y|Y|Y|Y|Y|Y|Y| |w|w|w|w|W|W|W|W|
	 +---------------+ +---------------+ +---------------+ +---------------+
	      | |   | | |   \------+------/   \------+------/	\-------+-----/
	      | |   | | |	   |		     |			|
	      +-|---|-|-|----------|-----------+     |			|
		+---|-|-|--+	   |	       |     |			|
		    | | |  | /-----+-------\   | /---+---------\	|
Middle Button ------+ | | +-----------------+ +-----------------+	|
 Right Button --------+ | | | | | | | | | | | | | | | | | | | | |	|
  Left Button ----------+ +-----------------+ +-----------------+     Wheel
(1 if pressed)		       X movement	   Y movement	     Movement


First three bytes are equal to PS/2 standard mode packet.
Two most significant bits in first byte indicate overflow (more than 9 bits
  of movement) in each direction. Usually ignored.
Movement values are 9-bit signed twos complement integers.
Positive movement value indicates motion to the right/upward.
Wheel movement is a 8-bit signed twos complement integer and usually
  limited by -8..+7 range (4-bit value).
Positive wheel movement value indicates rotation downward.


===========================================================================
PS/2 extended mode protocol:

	      1st byte		2nd byte	  3rd byte	    4th byte
	 +---------------+ +---------------+ +---------------+ +---------------+
	 |?|?|Y|X|1|M|R|L| |X|X|X|X|X|X|X|X| |Y|Y|Y|Y|Y|Y|Y|Y| |0|0|B|F|W|W|W|W|
	 +---------------+ +---------------+ +---------------+ +---------------+
	      | |   | | |   \------+------/   \------+------/	    | | \--+--/
	      | |   | | |	   |		     |		    | |	   |
	      +-|---|-|-|----------|-----------+     |		    | |	   |
		+---|-|-|--+	   |	       |     |		    | |	 Wheel
		    | | |  | /-----+-------\   | /---+---------\    | | Movement
Middle Button ------+ | | +-----------------+ +-----------------+   | |
 Right Button --------+ | | | | | | | | | | | | | | | | | | | | |   | +- Forward Button
  Left Button ----------+ +-----------------+ +-----------------+   +--- Back Button
(1 if pressed)		       X movement	   Y movement		 (1 if pressed)


First three bytes are equal to PS/2 standard mode packet.
Two most significant bits in first byte indicate overflow (more than 9 bits
  of movement) in each direction. Usually ignored.
Movement values are 9-bit signed twos complement integers.
Positive movement value indicates motion to the right/upward.
Wheel movement is a 4-bit signed twos complement integer.
Positive wheel movement value indicates rotation downward.
                                                                                                                                                                                                                                                                                                                                                                                                          *HP&E* PLl- P~Vblv&ClF&E*HP&u&uLF&M*+ȋF+PF&u&u^\lv&Cl$ tF&M$ t F&E*F&E&Eu3&u&uL~vvF&E*++F@P~~F&u&uj~F&E$  vF P,^&&? tivNQVR	TFF&DvWV6\li FPFP	mFF&DF&E*P~F&E$F&&? u 6#F&E vvp(<\3^_   V^F&w 
&Gu *&GP^&GPV~^l9Fufl`lMouse driver services
---------------------

Functions implemented in CTMOUSE:

INT 33/0000 - MS MOUSE - Reset driver and read status
INT 33/0001 - MS MOUSE v1.0+ - Show mouse cursor
INT 33/0002 - MS MOUSE v1.0+ - Hide mouse cursor
INT 33/0003 - WheelAPI v1.0+ - Get cursor position, buttons status and wheel counter
INT 33/0004 - MS MOUSE v1.0+ - Position mouse cursor
INT 33/0005 - WheelAPI v1.0+ - Get button press or wheel movement data
INT 33/0006 - WheelAPI v1.0+ - Get button release or wheel movement data
INT 33/0007 - MS MOUSE v1.0+ - Set horizontal cursor range
INT 33/0008 - MS MOUSE v1.0+ - Set vertical cursor range
INT 33/0009 - MS MOUSE v3.0+ - Define graphics cursor
INT 33/000A - MS MOUSE v3.0+ - Define text cursor
INT 33/000B - MS MOUSE v1.0+ - Get motion counters
INT 33/000C - MS MOUSE v1.0+ - Define User Interrupt Routine
INT 33/000F - MS MOUSE v1.0+ - Set mickeys/pixels ratios
INT 33/0010 - MS MOUSE v1.0+ - Define screen region for updating
INT 33/0011 - WheelAPI v1.0+ - Check wheel support and get capabilities flags
INT 33/0014 - MS MOUSE v3.0+ - Exchange User Interrupt Routines
INT 33/0015 - MS MOUSE v6.0+ - Get driver storage requirements
INT 33/0016 - MS MOUSE v6.0+ - Save driver state
INT 33/0017 - MS MOUSE v6.0+ - Restore driver state
INT 33/001A - MS MOUSE v6.0+ - Set mouse sensitivity
INT 33/001B - MS MOUSE v6.0+ - Get mouse sensitivity
INT 33/001E - MS MOUSE v6.0+ - Get display page
INT 33/001F - MS MOUSE v6.0+ - Disable mouse driver
INT 33/0020 - MS MOUSE v6.0+ - Enable mouse driver
INT 33/0021 - MS MOUSE v6.0+ - Software reset
INT 33/0023 - MS MOUSE v6.0+ - Get language for messages
INT 33/0024 - MS MOUSE v6.26+ - Get software version, mouse type and IRQ
INT 33/0026 - MS MOUSE v6.26+ - Get maximum virtual screen coordinates
INT 33/0027 - MS MOUSE v7.01+ - Get screen/cursor masks and mickey counters
INT 33/0028 - MS MOUSE v7.0+ - Set video mode
INT 33/002A - MS MOUSE v7.02+ - Get cursor hot spot
INT 33/0031 - MS MOUSE v7.05+ - Get current virtual cursor coordinates
INT 33/0032 - MS MOUSE v7.05+ - Get supported advanced functions flag
INT 33/004D - MS MOUSE - Get pointer to copyright string
INT 33/006D - MS MOUSE - Get pointer to version

Video functions implemented in CTMOUSE:

INT 10/F0 - EGA Register Interface Library - Read one register
INT 10/F1 - EGA Register Interface Library - Write one register
INT 10/F2 - EGA Register Interface Library - Read register range
INT 10/F3 - EGA Register Interface Library - Write register range
INT 10/F4 - EGA Register Interface Library - Read register set
INT 10/F5 - EGA Register Interface Library - Write register set
INT 10/F6 - EGA Register Interface Library - Revert registers to default
INT 10/F7 - EGA Register Interface Library - Define registers default
INT 10/FA - EGA Register Interface Library - Interrogate driver

The following functions are not implemented but they don't return
anything and can be counted as implemented:

INT 33/000D - MS MOUSE v1.0+ - Light pen emulation ON
INT 33/000E - MS MOUSE v1.0+ - Light pen emulation OFF
INT 33/0013 - MS MOUSE v5.0+ - Define double-speed threshold
INT 33/001C - MS MOUSE v6.0+ - Set interrupt rate
INT 33/001D - MS MOUSE v6.0+ - Set display page
INT 33/0022 - MS MOUSE v6.0+ - Set language for messages

The following functions are not implemented:

INT 10/04 - VIDEO - Get light pen position (except VGA)
INT 33/0012 - MS MOUSE - Set large graphics cursor block
INT 33/0018 - MS MOUSE v6.0+ - Set alternate User Interrupt Routine
INT 33/0019 - MS MOUSE v6.0+ - Get alternate User Interrupt Routine
INT 33/0025 - MS MOUSE v6.26+ - Get general driver information
INT 33/0029 - MS MOUSE v7.0+ - Enumerate video modes
INT 33/002B - MS MOUSE v7.0+ - Load acceleration profiles
INT 33/002C - MS MOUSE v7.0+ - Get acceleration profiles
INT 33/002D - MS MOUSE v7.0+ - Select acceleration profile
INT 33/002E - MS MOUSE v8.10+ - Set acceleration profile names
INT 33/002F - MS MOUSE v7.02+ - Mouse hardware reset
INT 33/0030 - MS MOUSE v7.04+ - Get/Set BallPoint information
INT 33/0033 - MS MOUSE v7.05+ - Get switch settings and acceleration profile data
INT 33/0034 - MS MOUSE v8.0+ - Get initialization file
INT 33/0035 - MS MOUSE v8.10+ - LCD screen large pointer support


Details of driver operation
---------------------------

CTMOUSE displays the cursor only in standard video modes of CGA, EGA and
  VGA; Hercules Graphics/InColor Card or SVGA/VESA extended video modes
  are not supported but an application can display the cursor by itself in
  a user interrupt routine (may be installed by INT 33/000C function) or
  when idle. Remember to remove calls to INT 33/0001 (Show cursor) and
  define cursor movement limits (INT 33/0007 and INT 33/0008).

Some applications call INT 33/0001 (Show cursor), INT 33/0009 (Define
  graphics cursor) and INT 33/000A (Define text cursor) in loops. To
  prevent cursor flickering INT 33/0001 function redraws cursor only if it
  was hidden before and INT 33/0004 (Position cursor), INT 33/0009 and
  INT 33/000A functions redraw cursor only if its position or pattern
  has changed.

Unlike many other mouse drivers, CTMOUSE doesn't require call INT 33/0002
  (Hide cursor) or INT 33/0010 (Define region for updating) before writing
  to the screen in text mode because screen under cursor isn't restored if
  cursor is overwritten. However CTMOUSE can't correct all cases of cursor
  overwriting: when a character is written at the cursor position without
  an attribute, (through INT 10/0E (Teletype output) or INT 21), then it
  gets the cursor's attribute. Also, if cursor is overwritten by character
  with attribute which is equal to cursor's character/attribute then
  CTMOUSE restores the old character/attribute.

Unlike Microsoft's specification, CTMOUSE always displays cursor on the
  active video page and doesn't require call INT 33/001D (Set display
  page) at all; this function is, anyway, a dummy.

Below is a table of virtual screen size, cursor movement granularity and
  minimum/maximum size of region on the screen, occupied by cursor (actual
  for INT 33/0010) for each video mode:
				 min	 max
	mode	 screen  cell	shape	shape
	 *0	640x200  16x8	16x8	16x8
	 *1	640x200  16x8	16x8	16x8
	 *2	640x200   8x8	 8x8	 8x8
	 *3	640x200   8x8	 8x8	 8x8
	  4	640x200   2x1	16x16	24x16
	  5	640x200   2x1	16x16	24x16
	  6	640x200   1x1	16x16	24x16
	 *7	640x200   8x8	 8x8	 8x8
	 0Dh	640x200   2x1	32x16	48x16
	 0Eh	640x200   1x1	16x16	24x16
	 0Fh	640x350   1x1	16x16	24x16
	 10h	640x350   1x1	16x16	24x16
	 11h	640x480   1x1	16x16	24x16
	 12h	640x480   1x1	16x16	24x16
	 13h	640x200   2x1	32x16	32x16
	other	640x200   1x1	  -	  -

  * for text modes, the virtual screen size is given for standard screen
  sizes 40x25 and 80x25; for other screen sizes the corresponding virtual
  screen size is changed accordingly.

In standard text modes, CTMOUSE supports any screen size beside 40x25 and
  80x25. It sets virtual screen size as [screen width in characters]*8 by
  [screen height in characters]*8 (except video modes 0-1, where width is
  multiplied by 16) each time when the video mode or the screen size is
  changed or INT 33/0000 (Reset driver), INT 33/0020 (Enable driver) or
  INT 33/0021 (Software reset) are called.

CTMOUSE intercepts only INT 10/0 (Set video mode), INT 10/111x (Load and
  activate font) and INT 10/4F02 (Set VESA/SVGA video mode) functions. If
  screen size in text mode changed by other functions like INT 10/1Ch (VGA
  state save/restore) or by direct hardware programming, then INT 33/0000
  (Reset driver), INT 33/0020 (Enable driver) or INT 33/0021 (Software
  reset) must be called to renew virtual screen size. If INT 33/0020 only
  is called then INT 33/0007 (Set horizontal range) and INT 33/0008 (Set
  vertical range) also should be called with min=0 and max=[8*screen
  width-1,8*screen height-1] to enable the complete screen for cursor
  movement.

INT 33/0007 (Set horizontal range) and INT 33/0008 (Set vertical range)
  functions setup cursor movement area but cursor will be seen on the
  screen only in standard video modes and when cursor shape intersects
  with virtual screen coordinates.

All driver's coordinates (ranges, cursor positions, regions) interpreted
  as signed values, also as cursor hot spot or mickey counts.


Notes for mouse driver services
-------------------------------

For bitmapped graphics modes 4-6 and 0Dh-12h a peculiarity of INT 33/0010
  (Define region for updating) function should be noted: horizontal cursor
  position is always aligned by modulo 8 or 16 and cursor occupies 24 or
  48 positions, unlike mode 13h, where start position is unchanged and
  cursor occupies 32 positions; i.e. for left limit L and right limit R in
  modes 4-6, 0Eh-12h cursor will be hidden between (L-L%8)-16 and
  [R/8+1]*8-1 positions, in mode 0Dh cursor will be hidden between
  (L-L%16)-32 and [R/16+1]*16-1 positions and in mode 13h cursor will be
  hidden between L-32 and R positions.

To set update region via INT 33/0010 in terms of character positions you
  must compute arguments as CX=left*W, DX=top*8, SI=(right+1)*W-1 and
  DI=(bottom+1)*W-1, where W=16 for modes 0-1, 4-5, 0Dh and 13h and W=8
  for all other modes.

Size of buffer, required to save driver state by INT 33/0016, in CTMOUSE
  is less than 180 bytes; exact buffer size is returned by INT 33/0015
  (Get driver storage requirements).

INT 33/0016 (Save driver state) and INT 33/0017 (Restore driver state)
  functions save and restore user defined variables (mickeys per 8 pixels,
  user interrupt routine call mask and address), cursor definition (cursor
  type, text and graphics shape, visibility, position, ranges and update
  region) and mouse access state (mickeys mouse moved, buttons press and
  release status since last access). These functions don't affect driver
  state (disabled flag, resolution level), mouse definition (mouse type,
  buttons count, IO address and interrupt), video mode definition (maximum
  virtual screen coordinates, EGA RIL register values) and dummy variables
  (lightpen emulation status and double speed threshold).

When the video mode after INT 10/0 or INT 10/4F02 or screen size after
  INT 10/111x is changed, CTMOUSE hides cursor so that it can be shown by
  next INT 33/0001, recalculates screen sizes, sets cursor ranges to
  virtual screen sizes and centers cursor.

INT 33/0000 (Reset driver) and INT 33/0021 (Software reset) functions hide
  cursor (so that it can be shown by next INT 33/0001), recalculate screen
  sizes, set cursor ranges to screen sizes, center cursor and clear mickey
  counts, user interrupt routine call mask, button press/release and wheel
  data. In addition, horizontal mickeys per 8 pixels ratio is set to 8,
  vertical mickeys per 8 pixels ratio is set to 16, software text mode
  cursor is set with reverse video shape (screen mask 77FFh, cursor mask
  7700h) and graphics mode cursor shape is set to arrow with zero hot spot.

INT 33/001F (Disable driver) function hides cursor so that it can be shown
  by next INT 33/0001, disables mouse, restores IRQ interrupt (for serial
  mouse) and returns in ES:BX the old INT 33 interrupt handler address. If
  INT 33 or INT 10 interrupt was intercepted by another program then on
  exit AX will contain -1, else if INT 10 interrupt handler was not
  restored yet then it will be restored.

INT 33/0020 (Enable driver) function installs IRQ handler (if serial mouse
  is active) and INT 10 handler (if it is not yet installed), enables
  mouse interrupts, recalculates screen sizes, sets cursor ranges to
  screen sizes and centers cursor.

CTMOUSE supports INT 33/0022 and 0023 (Set/get language for messages)
  functions, but only for English.

When you have to deal with RIL, keep in mind that RIL is unprotected from
  wrong user input - RIL functions should be called only in standard video
  modes and on EGA or later video adapters, and RIL doesn't check if group
  index, register number or count of registers are valid.


Asynchronous execution and User Interrupt Routine (UIR)
------------------------------------------------------

UIR installed via INT 33/000C (Define UIR) or INT 33/0014 (Exchange UIRs)
  must use far RET (not IRET) for return and it is not required to keep
  any register value except SS:SP.

Mouse interrupt handler (IH) redraws cursor on the screen only when the
  called UIR returns to IH. If new mouse events occur before UIR returns
  to IH, then IH will not redraw cursor and call UIR again (i.e. UIR is
  not required to be re-enterable). However, mouse events themselves
  will be parsed and reflected in driver state, so driver state (cursor
  position, buttons state) may be changed before UIR returns. Therefore,
  UIR should be aware of a possible difference between initial arguments
  and values returned by driver functions.

Driver functions will not hide or redraw cursor if they are called while
  cursor hidding or drawing routines in the driver are already working.
  This means that cursor will not be redrawn by requests from UIR or any
  other general purpose hardware interrupt handler, if they are executed
  while cursor redrawing was in progress (this will look like cursor on
  the screen freezes). But hidding or drawing routines will be called
  again when they finish their first request if new request comes in
  from interrupt handlers while they are working.

When bit 0 ("call if mouse moves") is set in the UIR call mask then UIR
  will be called when any mickey count is changed. Note: cursor position
  usually changes less often than mickey counts because mickeys per 8
  pixels ratios can reduce mickeys change to zero and cursor position
  change can be hidden by granulation (in text modes cursor positions are
  always factor of 8 or 16; in some graphics modes X cursor positions are
  always factor of two).


Used BIOS variables
-------------------

0:449h	bits 0-6 used to determine the current video mode (when driver
	enabled by INT 33/0020 or video mode changed)
0:44Ah	screen width in text columns (used to compute offset in video
	memory in text video modes)
0:44Eh	offset in video segment of active video memory page
0:462h	current video page (returned by INT 33/001E)
0:463h	used to compute CRTC base and Feature Control video ports addresses
	(when driver enabled by INT 33/0020 or video mode changed)
0:46Ch	timer used in mouse detection routine to make timing
0:487h	bits 5-6 used to determine RAM size on video adapter (when driver
	enabled by INT 33/0020 or video mode changed)
0:488h	bits 0-3 used to get video configuration switches (when driver
	enabled by INT 33/0020 or video mode changed)
0:4A8h	used to get default video registers values for RIL (when driver
	enabled by INT 33/0020 or video mode changed)


Used interrupts
---------------

INT 10/01	setup text-mode hardware cursor shape, when hardware
		cursor selected
INT 10/1A00	get DCC to check VGA presence
INT 15/C200	enable/disable PS/2 pointing device
INT 15/C203	set resolution of PS/2 pointing device [when PS/2 checking]
INT 15/C205	initialize PS/2 pointing device [when PS/2 checking]
INT 15/C207	set handler for PS/2 pointing device
INT 21/09	output all strings to standard output
INT 21/25	install interrupt handlers for INT 33, INT 10 and IRQ
		handler, also restore those interrupts
INT 21/26	create new PSP for driver image in the UMB [when trying	to
		install driver high]
INT 21/31	remain TSR when driver not copied to other UMB segment
INT 21/35	save old INT 33, INT 10 and IRQ handlers addresses
INT 21/48	allocate UMB memory [when trying to install driver high]
INT 21/49	free memory used by environment and by unloaded TSR
INT 21/4C	terminate program with nonzero errorlevel if some error
		found or with zero errorlevel when no errors
INT 21/58	modify memory allocation strategy [when trying to install
		driver high]
INT 2F/4310	get XMS driver entry [when trying to install driver high]
INT 33/001F	disable previous mouse driver, if one is present
INT 33/0020	enable previous mouse driver after unloading CuteMouse
INT 33/004D	check if installed driver is CuteMouse


Techniques used
---------------

1. Two writes to adjacent I/O ports are combined into one write "out dx,ax"
   (used for most video registers, divisor latch of COM port, etc).

2. For interrupt handler's address comparision only segment of address is
   used, because usually different programs reside in different segments
   and no one program is pointed to by zero segment.

3. CuteMouse uses a lot of self-modifying code and many variables are
   placed in the code instructions; most of code modification is grouped
   in the setupdriver and softreset_21 procedures.

4. To use free part of PSP and thus minimize memory footprint, CuteMouse
   source includes corresponding "ORG" statement before uninitialized
   variables, for which only offsets are computed and no data is generated.
   Note: in TASM 3.1, a structure instance with "DUP(?)" generates data
   (fixed in TASM 4.1), so buttpress and buttrelease arrays are defined
   without "DUP" as series of BUTTLASTSTATE structure insertions instead.

5. CuteMouse is written using TASM and makes use some of TASM features:
   for example, multiple "push" and "pop" in one line ("push ax bx") and
   shifts with an immediate value >1 ("shl ax,2"), which are converted
   into several opcodes valid for 8086/8088 CPUs (i.e. for shifts, TASM
   simply duplicates them - "shl ax,1/shl ax,1"), because there is no
   ".186" or higher statement.

6. Often instructions with shorter opcode but slightly different behavior
   than assumed instruction are used to minimize code; each such use is
   marked by "OPTIMIZE" comment. In addition, instructions for which
   functions are performed by previous code remain in the source as
   comments; this is done for greater readability and to ease code
   carrying.

7. To ease code pipelining in CPU, instructions which manipulate common
   registers or other resources are interspersed with other kinds of
   instructions whenever possible. For example:

	mov ax,cx		mov ax,cx
	add ax,bx		neg dx
	neg dx			add ax,bx

   here second variant is preferred.
e.
- Rewritten Mouse Systems initalization routine, now more Genius mice
  with 3 buttons will work.

1.0

- First public release.
                                                                                                                                                                                                                                                                   ؉^܌F&? u&F^_    WVvF  +&tHF&|-uF &|'&D#&T%FV&D)&T+FV&|0r&|9w&D,0FFuF+#ǉFF&dFvvJBFV~t>^*Ò^Gt(j RvFPFPvVv
^ov
F&DP&DPvvvj j Rvj j  F=u?F&| u5z&z=r)v
j&DPvvvj j vvj j < F~ u'F+FVF+ۋNڹ ^+~tF򣺤^_   WVFFu ^&GnA~ u' FVFVFFF
VFVFFVVW~u^	NV.                    ZY    ..                   ZY    SCENE   ORG!          S5;Rrv  SPONGY  COM!          lw3;Vr   SPONGY  NFO!          v3;Xrw                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  
cutemouse rs232 uart I/O access overview ctmouse 2.1beta4 6/2008:

irqhandler
	outb 20,20
	inb 3fd 	; LSR: get status
	inb 3f8		; RBR: fetch data, flush receive buffer
	; now check if LSR showed break / frame overrun
	; call mouse protocol parser

enableuart
	outb 3fb,80	; LCR: DLAB on
	outw 3f8,96	; divisor
	outw 3fb,0f02h	; LCR, MCR 7,8N1 DTR RTS OUTX
	inb 3f8		; RBR flush receive buffer
	outw 3f9,1	; IER, FCR: enable DR IRQ, disable FIFO
	inb 21
	outb 21, previous and not bit for our IRQ (enable IRQ)

disableuart
	inb 21
	outb 21, previous or bit for our IRQ (disable IRQ)
	; now keep DTR RTS on and disable driver, avoid PnP ID
	outw 3fb,300	; LCR, MCR: DLAB off DTR RTS on OUTx off
	outb 3f9,0	; IER: IRQ off

searchcom
	comloop
		checkcom
			call detectmouse for each addr
	; LCRSET is 3 here (LCR 0 - noparity 0 3)
	; default in enableuart is DLAB off, 7, 8N1 (00000010b)
	; ... and MCR 00001111b DTR/RTS/OUTx all on

checkuart
	inw 3fc		; MSR, LSR: modem control, line status
	inb 3fd		; LSR: backup
	cli
	inb 3fb		; LCR: line ctrl reg
	outb 3fb,10111111b	; LCR: DLAB on, 8S2
	inb 3fb
	outb 3fb,00000010b	; LCR: no DLAB, 7N1
	inb 3fb
	sti
	; now see if LCR bits actually changed as intended
	inb 3f9		; IER: IRQ enable reg (zap pending IRQ?)
	outb 3fb,...	; restore LCR

detectmouse
	checkuart	; takes addr si
	inw 3fb		; LCR, MCR: backup
	outw 3fb,0	; LCR, MCR: no DLAB, DTR/RTS/OUT2 off
	outw 3f9,0	; IER, FCR: IRQ off, FIFO off
	outw 3fb,80	; LCR: DLAB
	outw 3f8,96	; divisor 1200 baud
	outb 3fb,LCRSET	; usually 8N1 or 7N1, both with DLAB off
	inb 3f8		; RBR: flush receive buffer
	; now wait 1 tick
	outb 3fc,00000011b	; MCR: DTR/RTS on, OUT2 off
	; wait again, give mouse time to send pnp data
	inb 3fd		; LSR
	inb 3f8		; RBR: receive a byte
	; ... possibly more inb to receive some more bytes
	outw 3fb,...	; restore LCR, MCR

                                                                                                                                      
Wheel support in DOS real-mode mouse drivers

List of DOS applications which use the wheel API:

Thanks to Rugxulo and others for collecting this list :-)

- GVFM                          (graphical file manager)
- Mpxplay                       (.MP3, .OGG, etc. audio player)
- Arachne/GPL                   (graphical web browser / email suite)
- Star Commander                (file manager)
- PDCurses 3.x                  (console library)
- Necromancer's DOS Navigator   (file manager)
- Fred                          (text editor using graphics mode)
- Blocek                        (graphical Unicode text editor, image viewer)
- Hammer of Thyrion             (DOS port of Hexen II game)
- 4DOS                          (COMMAND.COM shell replacement)
- Deskwork                      (graphical user interface, StarTrek style)

---------------------------------------------------------------------

API version 1.0

Summary:

This document describes an extension to the commonly used INT 33h Mouse
API to add wheel (Z axis) support. This draft introduces extra functions
and additions to the standard INT 33 API. These new and changed functions
are mentioned in the technote.txt as the WheelAPI.

---------------------------------------------------------------------
New functions:

INT 33/0011 - Check wheel support and get capabilities flags
	AX = 0011h
Return:	AX = 574Dh ('WM' in assembly) if Wheel API is supported by driver
	BX = Capabilities flag (all bits reserved)
	CX = Capabilities flag
		Bit(s)	Description
		------	-----------
		 0	1=Pointing device supports wheel
		 1-15	Reserved
Note:	this function should be examined before accessing wheel features

---------------------------------------------------------------------
Changes in the original INT 33h functions:

INT 33/0000 - Reset driver and read status
Note:	this call clears the wheel movement counter

INT 33/0003 - Get cursor position, buttons status and wheel counter
	AX = 0003h
Return:	BL = buttons status
	BH = 8-bit signed counter of wheel movement since last call
	CX = column
	DX = row
Notes:	returned wheel counter contains all wheel movements accumulated since
	  the last call to INT 33/AX=0003h, INT 33/AX=0005h/BX=-1 or
	  INT 33/AX=0006h/BX=-1
	positive value of wheel counter means downward wheel movement
	this call clears the wheel movement counter

INT 33/0005 - Get button press or wheel movement data
	AX = 0005h
	BX = button number or -1 for wheel
Return:	AL = state of buttons
	AH = 8-bit signed counter of wheel movement
	---button info---
	BX = number of times specified button has been pressed since last call
	CX = column where specified button was last pressed
	DX = row where specified button was last pressed
	---wheel info---
	BX = 16-bit signed counter of wheel movement since last call
	CX = column where wheel was last moved
	DX = row where wheel was last moved
Notes:	returned wheel counters contain all wheel movements accumulated since
	  the last call to INT 33/AX=0003h, INT 33/AX=0005h/BX=-1 or
	  INT 33/AX=0006h/BX=-1
	positive value of wheel counter means downward wheel movement
	this call clears the wheel movement counter for BX=-1

INT 33/0006 - Get button release or wheel movement data
	AX = 0006h
	BX = button number or -1 for wheel
Return:	AL = state of buttons
	AH = 8-bit signed counter of wheel movement
	---button info---
	BX = number of times specified button has been released since last call
	CX = column where specified button was last released
	DX = row where specified button was last released
	---wheel info---
	BX = 16-bit signed counter of wheel movement since last call
	CX = column where wheel was last moved
	DX = row where wheel was last moved
Notes:	returned wheel counters contain all wheel movements accumulated since
	  the last call to INT 33/AX=0003h, INT 33/AX=0005h/BX=-1 or
	  INT 33/AX=0006h/BX=-1
	positive value of wheel counter means downward wheel movement
	this call clears the wheel movement counter for BX=-1

INT 33/000C - Define User Interrupt Routine
INT 33/0014 - Exchange User Interrupt Routines
Notes:	on entry, bit 7 of CX (call mask) indicates that the user routine
	  will be called on a wheel movement
	the user routine will be called with BH holding the 8-bit signed
	  counter of wheel movement since the last call to the routine

INT 33/0021 - Software reset
Note:	this call clears the wheel movement counter
 cc 6`Bc^_   V>3 u F v
Fu^*&G< FPvV?d~\u,~ u&|&
~&gPFhFPtcF&DF<	vF	F*FP~d~ t
&OP F~ t&PP F*PFP6\lFPvhuMc^*&G<+F- P~Rc^UVv sVd^
*&;t u ^3^ UWV9sVvF&D'&D&TRPvv
ǚ8@2dǊF&|'&\&A&D'&T) ^_UWV3~N
^F&8r&8wFr ^_ː^_ː3^_  FPF                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                CwWBfh9#ˉbkV?H vݱ tJ:yj.y'	00?uwT "E LE{$J@ڮx -w&8x=yɪ3L9F0aHDZ޽M `tJ`Σ{NvxQޢd
C@;n_g@t 0 W     (OH 3     OCAML\README.TXTy/KC/]	%=@|>L>_ԑ[=8LAiG` \ ^z|`yDw+}r#(TdvFmQ/$;4g*#"̅,s.M}Aoѭ_8IV}JCd 
J6xmo{FԬ/|IosyTMKi
p2\C/Uhj@8@U1nBW:O\cҮCfy]Xc9	e^!;YTwPGiifaƶ\;́6iK^C2Q;y/I^(s1eK2lrd
/&{)d'nyZpab,iL+N17m1b͇_6Y ]*Q@9]1yAC'!dr[t-~3
dwmǤi`9-$Һ_@ A;E	 DLŬ^ݧkKqɅ7E^Mi $)4K5EsVu/<TB:K-Y2>sm?;m$oMǘ1}toANyזmM	$'um-KX~Doeiuex<2'59ʉw*TF'gBC#2.AȂNlv:sD,T$p;[ PRz;!س²Ȫ-$ vݟ{-_ا؂F0R"%/Da}a`53t̯6h?+  ФrGePu3\0_bxO:b|(3YV_U*/ev|o0BF4o
|;rm_tܾ~|6A)7[P}[pkJ=974£\gH7o;xsTy%;ɿ05bKA>]"H~:{PP~1i `K% f\Cݚ _QD(39M\e4uӏ[ϒU2HL{b{*va6,:u/"V:aY:pLSud\`te_8`%Mf"#qUy9hBݹ Q'	ʭI4 	FHV榢&Z@<,H2$]Yh0*?!;t#KCɬfZA8jeaBf,O<YA^6b>xGi$ 毆g4$v* _e4uxiD5x#m36>c]Y}`n0!,!V:>(sD
nmMpۊފr%qRZoeөUSeojVy%/t\lDրcn)v
lRⅮQ6uT
%xcҊh0ϣm\wY(_lM
WDQ6>q6n&NM:j$E:B%ς6؛4IKN1 qw'Dخx$ɂKJvi#7#`yҺ*s3qY ï.#[e>c,o=cKEҥ[CN>u[Y]Mw<b]OA^:pl_g/gҺ^^:KoG8 ç)4llN?Tư\'3%Pn)lc0łHyNT".ܫВz&2hYVzxt 0 ;   C    ;ew 3     OCAML\SETENV.BAT'~GH rNyw[v 4O(/0b]<oUBgt 6   i^   3     OCAML\BIN\DUMPAPPR.EXEyՏ/R (U1Y^I^[*?-zXO/]Z\AN% B 
"}" g{}p"9Y>	"^gS7N(&/)"@~`3𣮎2!oo@Ajk	 Lafl'_ze1]NRZPF+Q_TS2&{׼>~[2 tĢ08S|HÿQnjAZYrNXS>QKn?y<W9Pd_V
tỸ]oW~p7q%U-p۞WN['4>ӂxͰeQ"RXW|Zj1o5&S&g;Z&Ɇ*mg^̾V%'oWw5;SL#
 `ZeIFO:y@1{FI~Heq9[?I}-hxbQ{j9Nj!WOwKGA~$w<S+^?y
23(t]|n	f%h_?6DKEQA.'X۪B
rv?F)S,^%''ߢ3 {<&Z?yZО(VΔ&q&_#F0LqZJb]+^.ϭEmՀ<]~].Rq
lE%%fG\n5 ߠABY.l9EwHGZSi",9qF.[LoMuwJn䂕hySk+)&70lvDdm'y4~{q9л At7{z|L{MJMgmQ8NY.R(WajM`uRx6dD*
`"}ϫbGM0{`cCSm%sN\l&维J _	mn+1IUTX7b~(Ӣ(︿Z
ͬ$'FOwiG`3׸9({]$`ė4i"oS@$-Ʒ꒥"7a4SߞQ&&'.$G]<DP L [ : 
"5^T	AW&.0|r+aR},kl`kB[uC@sCVnl.,tDP \㱠VEHqR" p	H(H	x,}muaBl`~]|}1D0T%#Jh~*:6	@ʘ&Tǹ{1q1jfL
+Aq.f
[+)I[#bP_7iCG&/rg4RZiglB6wOw6[itVj#@\$O1٨啃I/rvU?~\hzY&xz&nmxqYRr+jcƔ#񈁫]?G  5K3ۓ[;pW@#G"M7^4,|
=߾Pt){~DEʡ>RHtF;dNsc)]I7]+2	j3KۢD5(@echo off
if exist ctm-%1.msg goto makeone
if not "%1"=="" goto syntax
for %%i in (BR DE ES FR HU IT LV NL PL PT SK EN) do call %0 %%i
goto done

:makeone
echo building ctm-%1.exe...
make clean
copy ctm-%1.msg ctmouse.msg
make ctmouse.exe
del ctm-%1.exe
ren ctmouse.exe ctm-%1.exe
goto done

:syntax
echo Usage: %0 LANGUAGE builds ctm-LANGUAGE.exe using ctm-LANGUAGE.msg
echo Running %0 without options builds all default language ctm-*.exe

:done
                                            Pz3^_     FPFPFP:mzTRtR&G&u(XVtV&G&u\Zu	FVːFV؃> t  3 UWv|W~/\&:u&Gu_FV_    WV|3FFFFVWUNvV~^$t 3퐦t+3ЋIttOEJ3u
]v^ ]_^FV^_ U|N^ &8u&7C r  VvF&P%}tF&P}F
u{ ^ F&Pt(F&PFPFPFPCuC ^ F&Pq{tHF&F^ t.FPMk]zHu!FF.                    vTY    ..                   vTY	    DOC                  TY    TPPATCH EXE!          rRs                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  Tg 8!ۍE3d9ŘtɋnOx\,}J\DK)4Pfr
 axG!TV`!~|ϩ[-v_6!deܓ2$5%vWK$QgW@mIoP{  ؙ|@,!LKJ}2Ba#I\z6%X~F&VmZRd˝ɗnY[WTujDUa+yZ_FkC^%dSBBv8%a Mp<K<1=
Zys㰺F0yγ>\ 17$/~W)w6E1Љ7#lRo<(	~7E̍DN/ꐾ`|7UƮ_7SGˢ6n^ɏ bs$t5@N|X0TRK;B6WU`w%w0Hs_x̘ĶdOMxvȼI5ieNƚ9Ю|>:ƺ 䮩y~f'&tj?sV&TjZ@8 /Nr3~R0!ȞmMz	7T9]E`M|f<z~{m3
fpw.o,0;b3~ʣ0*+gl4Ԥ)10=w񊣓1gSTH]38F3:K	8&>ܞk!qZoO3abKF䯿zpوXC"`2|'r]Ch.38jن9ͼ4d>Aΰ/V:\hr_Q=/(r/7ϴH|`zn%[k֢-8XD2Q{cVQ>mof5m
.x}LHb
B6ԥB~8]L$|m1D5Jl.{1g[CAvWCzҋ[K
bľJm+zYhPEj'P%P\'	M8[Wԉ1Df+<*. G`Ih̅&"&,7Ӥ_qԙ!yahPёJaT	ɬXI<>I9=BKʼ<\o$6űXT.pi(A+SY1188ebh"Mq5G}aݿhfS˿9ŉ۔ښX44zn9_kn')4$7P9ORTԩ9<_1JWNwܑX_LvgؗJ|U%Vpy![ť<HC%:q|;")ia'/L%aj:_h8:lN)`I.U%G]y_|ϴ5|)rvU7@}&ُLC"3F1cpz%!r[9l?W	83x5Y@.2T-j"d<Άb8vb	X̒#bS7z3i%Qv'v\_0 Ǚ%3@-+iy_zLH6/ԗ^f)d3ZZQ/m^Ĵ]*⦓siҘl"FjJK-+m[(T)FfβfI[u)gg3z39wPs\4e8%x+1sJK9<mդE,C G%̑Bg_ny"Z2BŠ|μßE-YmaWbr8LخN)_S` J $Xz"ďL(cRЇ%(^Z.不
gpiėśd'0; Assembler source library
; Copyright (c) 2002 Arkady Belousov <ark@mos.ru>
;
; This library is free software; you can redistribute it and/or modify it
; under the terms of the GNU Lesser General Public License as published by
; the Free Software Foundation; either version 2.1 of the License, or (at
; your option) any later version.
;
; This library is distributed in the hope that it will be useful,
; but WITHOUT ANY WARRANTY; without even the implied warranty of
; MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
; GNU Lesser General Public License for more details.
;
; You should have received a copy of the GNU Lesser General Public
; License along with this library; if not, write to the Free Software
; Foundation, Inc., 59 Temple Place, Suite 330, Boston, MA  02111-1307  USA
;

; Import: MOVREG_ (macro.mac), MOVOFF_ (macro.mac), MOVSEG_ (macro.mac),
;	  MOVRR_ (macro.mac), MOVOO_ (macro.mac), MOVROO_ (macro.mac),
;	  MOVREG2 (macro.mac), MOVREGax_ (macro.mac)
; Export: j, saveFAR, MOVSEG, POPSEG, movadd, movsub, memcopy,
;	  movidx, out_, outw, inb, inw

j		equ	jmp short

saveFAR		macro	addr:req,segm:req,offs	; :rest
		mov	word ptr addr[0],offs
		mov	word ptr addr[2],segm
endm

MOVSEG		macro	segreg:req,val:req,temp,segname ; :rest
		MOVSEG_	<segreg>,<val>,<temp>,<segname>
endm

POPSEG		macro	segreg:req,segname ; :rest
		pop	segreg
		assume	segreg:segname
endm

;------------------------------------------------------------------------

movadd		macro	dst:req,base,index ; :vararg
	ifb <index>
		MOVREG_	<dst>,<base>		;; dst=base
		exitm
	elseifidni <index>,<dst>
	  ifb <base>
		shl	dst,1			;; dst+=dst
	  else
		movadd	<dst>,,<base>		;; dst=dst+base
	  endif
	  exitm
	elseif (.type index) eq 00100100b
	;; symbol is defined and expression is a constant value
	if index eq 0
		MOVREG_	<dst>,<base>		;; dst=base+0
		exitm
	endif
	endif

	ifnb <base>
	ifdifi <base>,<dst>
	  if (.type base) eq 00100100b
	    ;; symbol is defined and expression is a constant value
	    if (.type index) eq 00100100b
	      ;; symbol is defined and expression is a constant value
		MOVREG_ <dst>,<(base)+(index)>	;; dst=const+const
	    elseif base eq 0
		MOVREG_	<dst>,<index>		;; dst=0+index
	    else
		movadd	<dst>,<index>,<base>	;; dst=index+const
	    endif
	    exitm
	  endif

	  ??ASL instr <,ax,cx,dx,bx,sp,bp,si,di,eax,ecx,edx,ebx,esp,ebp,esi,edi,>,<,&dst&,>
	  if ??ASL
	  ??ASL instr <,bx,bp,si,di,>,<,&base&,>
	  if ??ASL
	    if ??ASL gt 6
		??ASL instr <,bx,bp,>,<,&index&,>
	    else
		??ASL instr <,si,di,>,<,&index&,>
	    endif
	    if (??ASL ne 0) or ((.type index) eq 00100100b)
		;; symbol is defined and expression is a constant value
		lea	dst,[(base)+(index)]
		exitm
	    endif
	  endif
	  endif

		mov	dst,base
	endif ;; ifdifi <base>,<dst>
	endif ;; ifnb <base>

	if (.type index) eq 00100100b
	;; symbol is defined and expression is a constant value
	if index eq 1
		inc	dst
		exitm
	elseif index eq -1
		dec	dst
		exitm
	elseif (index eq 2) or (index eq -2)
	  ??ASL instr <,ax,cx,dx,bx,sp,bp,si,di,>,<,&dst&,>
	  if ??ASL
	    if index eq 2
		inc	dst
		inc	dst
	    else
		dec	dst
		dec	dst
	    endif
	    exitm
	  endif
	endif
	endif
		add	dst,index
endm

movsub		macro	dst:req,base,index ; :vararg
	ifb <index>
		MOVREG_	<dst>,<base>		;; dst=base
		exitm
	elseifidni <index>,<base>
		MOVREG_	<dst>,0			;; dst=base-base
		exitm
	elseifidni <index>,<dst>
	  ifb <base>
		MOVREG_	<dst>,0			;; dst-=dst
	  else
		movsub	<dst>,,<base>		;; dst=base-dst=-(dst-base)
		neg	dst
	  endif
	  exitm
	elseif (.type index) eq 00100100b
	;; symbol is defined and expression is a constant value
	if index eq 0
		MOVREG_	<dst>,<base>		;; dst=base-0
		exitm
	endif
	endif

	ifnb <base>
	ifdifi <base>,<dst>
	  if (.type base) eq 00100100b
	    ;; symbol is defined and expression is a constant value
	    if (.type index) eq 00100100b
	      ;; symbol is defined and expression is a constant value
		MOVREG_ <dst>,<(base)-(index)>	;; dst=const-const
	    elseif base eq 0
		MOVREG_	<dst>,<index>
		neg	dst			;; dst=0-index=-index
	    elseif base eq -1
		MOVREG_	<dst>,<index>
		not	dst			;; dst=-1-index
	    else
		MOVREG_	<dst>,<base>
		sub	dst,index		;; dst=const-index
	    endif
	    exitm
	  endif

	  ??ASL instr <,ax,cx,dx,bx,sp,bp,si,di,eax,ecx,edx,ebx,esp,ebp,esi,edi,>,<,&dst&,>
	  if ??ASL
	  ??ASL instr <,bx,bp,si,di,>,<,&base&,>
	  if ??ASL
	  if (.type index) eq 00100100b
	  ;; symbol is defined and expression is a constant value
		lea	dst,[(base)-(index)]
		exitm
	  endif
	  endif
	  endif

		mov	dst,base
	endif ;; ifdifi <base>,<dst>
	endif ;; ifnb <base>

	if (.type index) eq 00100100b
	;; symbol is defined and expression is a constant value
	if index eq 1
		dec	dst
		exitm
	elseif index eq -1
		inc	dst
		exitm
	elseif (index eq 2) or (index eq -2)
	  ??ASL instr <,ax,cx,dx,bx,sp,bp,si,di,>,<,&dst&,>
	  if ??ASL
	    if index eq 2
		dec	dst
		dec	dst
	    else
		inc	dst
		inc	dst
	    endif
	    exitm
	  endif
	endif
	endif
		sub	dst,index
endm

;------------------------------------------------------------------------

memcopy		macro	cnt:=<cx>,dstseg,dstsegname,dstoff,srcseg,srcsegname,srcoff ; :vararg
	if (.type cnt) ne 00100100b
	  ;; symbol not defined or expression not a constant value
		MOVROO_	cx,<cnt>,di,<dstoff>,si,<srcoff>
		MOVSEG_	es,<dstseg>,,<dstsegname>
		MOVSEG_	ds,<srcseg>,,<srcsegname>
		rep	movsb
	else
		MOVOO_	di,<dstoff>,si,<srcoff>
		MOVSEG_	es,<dstseg>,,<dstsegname>
		MOVSEG_	ds,<srcseg>,,<srcsegname>
	  if (cnt) gt 10
		MOVREG_	cx,(cnt)/2
		rep	movsw
	  else
	    rept (cnt)/2
		movsw
	    endm
	  endif
	  if (cnt) mod 2
		movsb
	  endif
	endif
endm

;------------------------------------------------------------------------

movidx		macro	reg:req,index:req,base,oldindex ; :vararg
	ifb <oldindex>
		movadd	<reg>,<base>,<index>
	elseifb <base>
		movadd	<reg>,,<(index)-(oldindex)>
	elseif ((index)-(oldindex) lt -2) or \
		((index)-(oldindex) gt 2) or \
		((oldindex eq 2) or (oldindex eq -2)) and (index eq 0)
		movadd	<reg>,<base>,<index>
	else
		movadd	<reg>,,<(index)-(oldindex)>
	endif
endm

;------------------------------------------------------------------------

out_		macro	port:=<dx>,lo:=<al>,hi ; :vararg
	if (.type port) eq 00100100b
	;; symbol is defined and expression is a constant value
	if port lt 100h
		MOVREG2	ax,ah,al,<hi>,<lo>
	  ifb <hi>
		out	port,al
	  else
		out	port,ax
	  endif
		exitm
	endif
	endif
		MOVREGax_ dx,dh,dl,<port>,<hi>,<lo>
	ifb <hi>
		out	dx,al
	else
		out	dx,ax
	endif
endm

outw		macro	port:=<dx>,val ; :vararg
	if (.type port) eq 00100100b
	;; symbol is defined and expression is a constant value
	if port lt 100h
		MOVREG_	ax,<val>
		out	port,ax
		exitm
	endif
	endif
		MOVRR_	dx,<port>,ax,<val>
		out	dx,ax
endm

inb		macro	var,port ; :vararg
	ifnb <port>
	if (.type port) eq 00100100b
	;; symbol is defined and expression is a constant value
	if port lt 100h
		in	al,port
		MOVREG_	<var>,al
		exitm
	endif
	endif
	endif
		MOVREG_	dx,<port>
		in	al,dx
		MOVREG_	<var>,al
endm

inw		macro	var,port ; :vararg
	ifnb <port>
	if (.type port) eq 00100100b
	;; symbol is defined and expression is a constant value
	if port lt 100h
		in	ax,port
		MOVREG_	<var>,ax
		exitm
	endif
	endif
	endif
		MOVREG_	dx,<port>
		in	ax,dx
		MOVREG_	<var>,ax
endm
language ctm-*.exe

:done
                                            a %45g Install the files in: %40T3 %45gExplanation Enter the %3adrive:path%1a where you would like to install %s4. lhjVljwpjltjxj|jB	jljjjjB	jljlj  JB! -PajBj    Select Directory ^Enter the new path to install %s1 into: %40T2 ljQjzjlklk  JB!     k2h    ^Enter the path you are installing from: %40T1  lPkTkXkl\kljk  JB!     nkh    Couldn't create the directory %-32p1  lkk"klklLkError!    JB! >k*kk     This is the name of an existing fi}=6iFA#X}?l3WnVj*rEcc ?7=Ujܜ)jy{_Ax7r^7"YOL5MF?9B9؂Dimm]$̟.Df	wyI~쪕qxz(i7ܼZdhRu7jctt?<8?aORG/&u9:X3G*$1m)Ռ̋[36Ro%YV`ny!n
h5
1o$!i^ʟlj1Q$eIPv$32ͷԢI܍$gcHh%LjqL>\\EeџͯFwl`sNZ8T[=sm'\ھu@ vf1@os)P}Goj	MQEߝ@gaw[nKINtya=_>/u.Sܾ0z{mSd A %@q@sGZJTH8`RWc	~Zy[Ci6y	PRInI,ŰWraV2=Ո
3}8I/Cm=7]Lu2@`0Ʊvj_;jQ#PK::`\5&mI!#i#_ϸm8\3E?޸CY-$^Z}S>w06m.>1SDN_Ý7comˊs{6^7ͽ~c:qLt0hLyyp_J"	<fHwj۪К7>g39lI<cA\\mz?E\b2r~R9F{	\^'TxxT]+#)"{heaU˓8sQ?qj]Qz9W%0uWU9H{_BvGџjM~߮S\Oӵ<ׇ94oPC
oIz+yt^ ,24T7 gK
3exS#DŘm\%&ԭyM|{?7\^ wcv2S"mIY_:	6/}C 	E	k)G.Dώ!XsA~xk|^}ݙ? Ii5qDpei|b'TJ^-xp1-LA6:=_6D6GQ߆_|N'&3e4[ @~bs(d@pTF^PSEeRHB8ۈ.ܒvO0ߤqʝ4O{|QۡjzGqd8#=/5`hkˍ/)<z䍄
e_\6AjVZ?c/,}xaSal[hz$-\ޑ"ej)>SH<WlBR	13לi2PHdV[ݬi4P z;*cJJzp%γ qc	8pUtQF(Qu{Rl73ലq<:XntW3z&9xOǎֹ
Ҳ0Jh(yZ64֛|Lr;J>%0?( sކ
0Џ^k_kxi9;dfFD
'59`2A/þmu_˂&gf&)\ru;E>xIfش<Apw_KZ$o;n[	n	MdXC$28fP{; Assembler source library
; Copyright (c) 2002 Arkady Belousov <ark@mos.ru>
;
; This library is free software; you can redistribute it and/or modify it
; under the terms of the GNU Lesser General Public License as published by
; the Free Software Foundation; either version 2.1 of the License, or (at
; your option) any later version.
;
; This library is distributed in the hope that it will be useful,
; but WITHOUT ANY WARRANTY; without even the implied warranty of
; MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
; GNU Lesser General Public License for more details.
;
; You should have received a copy of the GNU Lesser General Public
; License along with this library; if not, write to the Free Software
; Foundation, Inc., 59 Temple Place, Suite 330, Boston, MA  02111-1307  USA
;

HWLIST	record	HW_LPT_cnt :2,	\; number of parallel ports
		HWLIST_13  :1,	\
		HW_gameport:1,	\; game port present
		HW_COM_cnt :3,	\; number of serial ports
		HWLIST_8   :1,	\
		HW_FDD_cnt :2,	\; number of floppy disk drives-1
		HW_vidmode :2,	\; initial video mode
				\; =00 EGA/VGA,   =01 40x25 CGA
				\; =10 80x25 CGA, =11 80x25 mono
		HWLIST_3   :1,	\
		HW_PS2	   :1,	\; PS/2 pointing device present
		HW_FPU	   :1,	\; math coprocessor present
		HW_FDD	   :1	; floppy disk drives present

;------------------------------------------------------------------------

KBDFLAGS record	KBD_INS_press	 :1,	\
		KBD_Caps_press	 :1,	\; Caps Lock pressed
		KBD_Num_press	 :1,	\; Num Lock pressed
		KBD_Scroll_press :1,	\; Scroll Lock pressed
		KBD_Pause	 :1,	\; Pause state active
		KBD_SysReq_press :1,	\
		KBD_LAlt_pressed :1,	\; Left Alt pressed
		KBD_LCtrl_pressed:1,	\; Left Ctrl pressed
		KBD_INSERT	 :1,	\
		KBD_CapsLock	 :1,	\
		KBD_NumLock	 :1,	\
		KBD_ScrollLock	 :1,	\
		KBD_Alt_press	 :1,	\; either Alt pressed
		KBD_Ctrl_press	 :1,	\; either Ctrl pressed
		KBD_LShift_press :1,	\; Left Shift pressed
		KBD_RShift_press :1	; Right Shift pressed

KBDSTATUS record			\
		KBD_Caps_LED	 :1,	\; Caps Lock LED
		KBD_Num_LED	 :1,	\; Num Lock LED
		KBD_Scroll_LED	 :1,	\; Scroll Lock LED
		KBDSTATUS_5	 :3,	\
		KBD_AT		 :1,	\; 101-key enhanced keyboard present
		KBD_RAlt_pressed :1,	\; Right Alt pressed
		KBD_RCtrl_pressed:1,	\; Right Ctrl pressed
		KBDSTATUS_0	 :2

;------------------------------------------------------------------------

VIDEOCONTROL record			\
		VCTRL_clear	:1,	\; high bit of video mode
					\; =1 screen is not cleared
		VCTRL_RAM_64K	:2,	\; RAM on adapter-1 in 64K
		VCTRL_4		:1,	\
		VCTRL_inactive	:1,	\; EGA/VGA video system inactive
		VCTRL_wait	:1,	\; wait for display enable
		VCTRL_mono	:1,	\; display is mono
		VCTRL_notemulate:1	; =0 cursor shape treated as CGA ones

VIDEOSWITCHES record			\; EGA/VGA video switches
		VIDSW_feature	:3,	\; power-on state of feature
					\; connector bits 3-1
		VIDSW_feature0	:1,	\; =0 enhanced color display (ECD)
		VIDSW_display	:4	; adapters+attached display
		;	primary			secondary
		; =00h	MDA			EGA+40x25 color display
		; =01h	MDA			EGA+80x25 color display
		; =02h	MDA			EGA+ECD (CGA emulation)
		; =03h	MDA			EGA+ECD
		; =04h	CGA+40x25 color display	EGA+mono display
		; =05h	CGA+80x25 color display	EGA+mono display
		; =06h	EGA+40x25 color display	MDA
		; =07h	EGA+80x25 color display	MDA
		; =08h	EGA+ECD (CGA emulation)	MDA
		; =09h	EGA+ECD			MDA
		; =0Ah	EGA+mono display	CGA+40x25 color display
		; =0Ah	EGA+mono display	CGA+80x25 color display

VGAOPTIONS record			\; MCGA/VGA mode set option control
		VGA_scan2	:1,	\; =0 350-line mode when VGA_scan=0
					\; =1 200-line mode when VGA_scan=0
		VGA_DCC_enabled	:1,	\; DCC display switching enabled
		VGAOPTIONS_1	:1,	\
		VGA_scan	:1,	\; =1 400-line mode at next mode set
					\; =0 350/200-line mode
		VGA_nopalette	:1,	\; default palette loading disabled
		VGA_grayscale	:1,	\; gray scale summing enabled
		VGA_active	:1	; =1 VGA active (MCGA always 0)

;------------------------------------------------------------------------

VIDEOSAVETBL	struc		; Video Save Pointer Table [EGA/VGA/MCGA]
VIDEO_paramtbl@		dd ?	; ptr to Video Parameter Table
VIDEO_dynsavearea	dd ?	; ptr to Parameter Dynamic Save Area
VIDEO_text_charset@	dd ?	; ptr to Text Character Set Override
VIDEO_graph_charset@	dd ?	; ptr to Graphics Character Set Override
VIDEO_savetbl2@		dd ?	; [VGA] ptr to Secondary Save Pointer Table
VIDEOSAVETBL ends

; Video Parameter Table:
;	VIDEOPARAM 4 dup(?)	; modes 0-3 in 200-line CGA emulation mode
;	VIDEOPARAM 11 dup(?)	; modes 4-0Eh
;	VIDEOPARAM 2 dup(?)	; modes 0Fh-10h when only 64K RAM on adapter
;	VIDEOPARAM 2 dup(?)	; modes 0Fh-10h when >64K RAM on adapter
;	VIDEOPARAM 4 dup(?)	; modes 0-3 in 350-line mode
;	VIDEOPARAM ?		; [VGA] modes 0 or 1 in 400-line mode
;	VIDEOPARAM ?		; [VGA] modes 2 or 3 in 400-line mode
;	VIDEOPARAM ?		; [VGA] modes 7 in 400-line mode
;	VIDEOPARAM 3 dup(?)	; [VGA] modes 11h-13h

VIDEOPARAM	struc
VPARAM_width	db ?		; screen width in text columns
VPARAM_height	db ?		; screen height in text rows-1
VPARAM_hchar	db ?		; character height in scan lines/bytes
VPARAM_pagesize	dw ?		; video page (regen buffer) size in bytes
VPARAM_SEQC	db ?,?,?,?	; values for Sequencer Registers 1-4 (3C4h)
VPARAM_MISC	db ?		; value for Miscellaneous Output Reg (3C2h)
VPARAM_CRTC	db 25 dup(?)	; values for CRTC Registers (3x4h)
VPARAM_ATC	db 20 dup(?)	; values for Attribute Controller Regs (3C0h)
VPARAM_GRC	db 9 dup(?)	; values for Graphics Controller Regs (3CEh)
VIDEOPARAM ends		; sizeof(VIDEOPARAM) == 64


;========================================================================

BIOS		segment use16 page at 0
IVT		dd 256 dup(?)	; Interrupt Vectors Table

COM_base	dw ?,?,?,?	; 400: base IO address of serial ports
LPT_base	dw ?,?,?	; 408: base IO address of parallel ports
XBDA_seg	dw ?		; 40E: segment of eXtended BIOS data area
HW_list		HWLIST ?	; 410: detected hardware/equipment list
		db ?
basemem_K	dw ?		; 413: base memory size in Kb
		dw ?

KBD_flags	KBDFLAGS ?	; 417: keyboard status flags
		db ?		; 419: Alt-nnn keypad workspace
KBD_bufhead@	dw ?		; 41A: pointer to next character in buffer
KBD_buftail@	dw ?		; 41C: pointer to free space in buffer
KBD_buffer	dw 16 dup(?)	; 41E: keyboard circular buffer
		db 11 dup(?)

VIDEO_mode	db ?		; 449: current video mode
VIDEO_width	dw ?		; 44A: screen width in text columns
VIDEO_pagesize	dw ?		; 44C: video page (regen buffer) size in bytes
VIDEO_pageoff	dw ?		; 44E: active page offset in video segment
; CURSOR_pos	db 8 dup(?,?)	; 450: cursor column/row on each video page
CURSOR_pos	db (8+8) dup (?)	; JWASM does not understand dup(?,?)
CURSOR_shape	db ?,?		; 460: cursor end/start scan lines
VIDEO_pageno	db ?		; 462: active page number
CRTC_base	dw ?		; 463: base IO address of CRT controller (3x4h)
CRT_MODE	db ?		; 465: value of CRT mode select register (3x8h)
CRT_PALETTE	db ?		; 466: value of CRT palette register (3x9h)
		db 5 dup(?)

BIOS_timer	dd ?		; 46C: timer ticks since midnight
BIOS_overflow	db ?		; 470: timer overflow flag (timer has counted
				;	past midnight)

BIOS_ctrlbreak	db ?		; 471: bit 7 set when Ctrl-Break has been pressed
BIOS_POSTreset	dw ?		; 472: specifies the action at POST when reboot
		db ?
BIOS_HD_cnt	db ?		; 475: number of fixed disk drives
		db ?,?
LPT_timeout	db ?,?,?	; 478: parallel device timeout counters
BIOS_4B_flags	db ?		; 47B: INT 4B flags
COM_timeout	db ?,?,?,?	; 47C: serial device timeout counters

KBD_buffer@	dw ?,?		; 480: keyboard buffer start/end+1 offsets in 40:0

VIDEO_lastrow	db ?		; 484: last text row on screen (count from 0)
VIDEO_hchar	dw ?		; 485: character height in scan lines/bytes
VIDEO_control	VIDEOCONTROL ?	; 487: EGA/VGA control
VIDEO_switches	VIDEOSWITCHES ?	; 488: EGA/VGA switches
VGA_options	VGAOPTIONS ?	; 489: MCGA/VGA mode set option control
VGA_DCC_index	db ?		; 48A: index into display combination code table
		db 11 dup(?)

KBD_status	KBDSTATUS ?	; 496: keyboard status flags

TIMER_waitflag@	dd ?		; 498: pointer to user wait flag
TIMER_waitmks	dd ?		; 49C: wait counter in mks
TIMER_active	db ?		; 4A0: =0 acknowledged, =1 busy, =80h elapsed
		db 7 dup(?)

VIDEO_ptrtable@	dd ?		; 4A8: pointer to video save pointer table

	org 04F0h
IAC		db 16 dup(?)	; Inter-Application Communication Area
BIOS		ends		; sizeof(BIOS) == 1024+256
                                                                                                                                                                                                                                                     l6l:cC>CBlFFCJCNCRB	VlZl^ll  ^Stop   Ct    CD
  s .	  p	 (	  s	  Scanning For Viruses   BB% 9DʖCΖD    %3aVirus Found!%1a  %s1 %s2 To remove the virus, do the following:      Put a DOS diskette into drive A:.     Reboot your computer.     Put disk #1 in and run NAV.EXE. ldDllxD|DlDDDDllYou should remove this virus before installing %s3. Do you wish to continue installing %s4? ldDllxD"|D&l*D.D2D6D:l>@EBdEF                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                ; Assembler source library
; Copyright (c) 2002 Arkady Belousov <ark@mos.ru>
;
; This library is free software; you can redistribute it and/or modify it
; under the terms of the GNU Lesser General Public License as published by
; the Free Software Foundation; either version 2.1 of the License, or (at
; your option) any later version.
;
; This library is distributed in the hope that it will be useful,
; but WITHOUT ANY WARRANTY; without even the implied warranty of
; MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
; GNU Lesser General Public License for more details.
;
; You should have received a copy of the GNU Lesser General Public
; License along with this library; if not, write to the Free Software
; Foundation, Inc., 59 Temple Place, Suite 330, Boston, MA  02111-1307  USA
;

OPCODE_MOV_AL	equ <db 0B0h>
OPCODE_MOV_CL	equ <db 0B1h>
OPCODE_MOV_DL	equ <db 0B2h>
OPCODE_MOV_BL	equ <db 0B3h>
OPCODE_MOV_AH	equ <db 0B4h>
OPCODE_MOV_CH	equ <db 0B5h>
OPCODE_MOV_DH	equ <db 0B6h>
OPCODE_MOV_BH	equ <db 0B7h>
OPCODE_MOV_AX	equ <db 0B8h>
OPCODE_MOV_CX	equ <db 0B9h>
OPCODE_MOV_DX	equ <db 0BAh>
OPCODE_MOV_BX	equ <db 0BBh>

OPCODE_ADD_AX	equ <db 05h>
OPCODE_AND_AX	equ <db 25h>
OPCODE_XOR_AX	equ <db 35h>
OPCODE_OR_AL	equ <db 0Ch>
OPCODE_AND_AL	equ <db 24h>
OPCODE_XOR_AL	equ <db 34h>
OPCODE_CMP_AL	equ <db 3Ch>

OPCODE_CMP_DI	equ <db 81h,0FFh>
                                                                                                                                     B  Kilobytes   Megabytes  Insufficient memory Select drive letter and press OK to continue. Not enough memory to run  Free %l1 bytes and try again.
   Error   Save   Wait... windir BW sQ
  LCD Q
 
 HERC  Q
  NOZOOM  Q
  G0  Q*
  G1  Q>
  G2  QR
  M0  Rf
  M1  R
  MULTITASK ,Rz
  NOHELP  FRؤ
  USEINT9 ^R
  NONETWARE vR

  NOVINES R
  NOLANMAN  R@
  NOLANTASTIC R
     >     >      @`px|~|xp`@      ; Assembler source library
; Copyright (c) 2002 Arkady Belousov <ark@mos.ru>
;
; This library is free software; you can redistribute it and/or modify it
; under the terms of the GNU Lesser General Public License as published by
; the Free Software Foundation; either version 2.1 of the License, or (at
; your option) any later version.
;
; This library is distributed in the hope that it will be useful,
; but WITHOUT ANY WARRANTY; without even the implied warranty of
; MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
; GNU Lesser General Public License for more details.
;
; You should have received a copy of the GNU Lesser General Public
; License along with this library; if not, write to the Free Software
; Foundation, Inc., 59 Temple Place, Suite 330, Boston, MA  02111-1307  USA
;

CODE_		macro	op:req,name,def ; :vararg
		OPCODE_&op
name		def
endm

;------------------------------------------------------------------------

call_		macro	name:req,value ; :vararg
		db	0E8h		; CALL NEAR word
name		dw	value-$-2
endm

jmp_		macro	name:req,value ; :vararg
		db	0E9h		; JMP NEAR word
name		dw	value-$-2
endm

call_far	macro	name ; :vararg
		db	09Ah		; CALL FAR dword
name		dd	?
endm

jmp_far		macro	name ; :vararg
		db	0EAh		; JMP FAR dword
name		dd	?
endm

;------------------------------------------------------------------------

fixnear		macro	name:req,value ; :vararg
		mov	[name],value-name-2
endm

fixcode		macro	offs:req,op,arg ; :vararg
	ifb <arg>
		mov	[offs],op
	elseifb <op>
		mov	byte ptr offs[1],arg
	else
		mov	word ptr [offs],((arg) shl 8)+op
	endif
endm
    !Y    ASMLIB  CFG Y     A-   COM2EXE EXE {Y     ;)R  COPYING     Y     G  CTM-BR  MSG Y    +8
  CTM-DE  MSG Y    8o  CTM-EN  MSG {Y    ,8j	  CTM-ES  MSG Y    (8
  CTM-FR  MSG Y    8   CTM-HU  MSG Y    *8i
  CTM-IT  MSG Y    |8  CTM-LV  MSG Y    +8
  CTM-NL  MSG Y    ӽ8
  p~"\*r(uIˠˏKn-lG7K̪-]l8rnK4/źcxl sz8FbzW,\f;C!\!R@bs4GH
m9A-`7siAҼ!Sˤ՘3y˷ĶwJ9(Uya%7CNN;wɞl147ıKrΣ%JY7[&IÈbo1 W-\S]
8֜=;HNiǔAK)3=fyZO{ק{M)Ccq`Zme\Sr/Sx'X]|]Tt>6)"Kvm<*ї*-4W93{y*՚,b[7bdʲ%z~J!bUIs=6Aܘd?o&Km~S8%e-gPyӔ;'-&8I(H$N=Qdeu:q8iE)k]1@.֟VlZ|@dmPO'&+V5"Aj<׳5x6Ec=C{uH&[8=CfL;᥍2Ϻ63+'0?Bcm}Ѕ*t<̩<YKa}	;$ҹ{gZ?M_ RUDeKӪm	Fz/JhKw'k*S26sKcEy?ިR^Pp6x>j/hD?R:RyP/{j1b])KH\JމsN9x=iw1ù0Lg8+qQb/t葑zuQqY'n}ܾL\nFAcQp8
MKEFŁ{vq(xn[m2Q&cGȯ
\2pgMkP7T	i9qQfu3Qhl\tLqU4qvQ+h7/[57QKa2l$ Jjפ0wEX~6wҥQ|Mg맟Ya-r0T"~Z67c|"z!O-RPŸ^	5Hlh1.뛑)soE穯FLHI\}W[ռ\"iNLrP0aKW\?]ȕi	(gAoMt:.#Jp\aTPUș:8YVQ1e3B.1i&ϡsr}RY'|cl&50GBYsvזׯ٨:aǼPC05ܦB$?BKv@HvNf5YIL?a 1./YQ%u/(cfY$(\PZQR_HWQ ½mqA$}Xuw	/4t)aԾ>@n/<S9KE&Jg+>|QX ׂg*QI44jZ=sP[x.tKu2_1TU)10)+n2\sʶw;0@doEv;C&zJs5X45n%?Jl pPqMva0O]u{(Hu͏(yֹlM8ŖvPiԠ(SFKT날)sesݍRyep,%U)?W:wJ>TT^ xICHr~?ꘄ^>sWaxX; Assembler source library
; Copyright (c) 2002 Arkady Belousov <ark@mos.ru>
;
; This library is free software; you can redistribute it and/or modify it
; under the terms of the GNU Lesser General Public License as published by
; the Free Software Foundation; either version 2.1 of the License, or (at
; your option) any later version.
;
; This library is distributed in the hope that it will be useful,
; but WITHOUT ANY WARRANTY; without even the implied warranty of
; MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
; GNU Lesser General Public License for more details.
;
; You should have received a copy of the GNU Lesser General Public
; License along with this library; if not, write to the Free Software
; Foundation, Inc., 59 Temple Place, Suite 330, Boston, MA  02111-1307  USA
;

; Import: MOVREG_ (macro.mac), _digit2ch (digit.mac)
; Export: _byte_hex_AX, _word_hex

;
;		Convert byte to 2 hexadecimal ASCII digits
;
;
; In:	none
; Arg:	<val>			(value; default AL)
;	<case>			(0-uppercase/20h-lowercase; default 0)
;	<shift>			(shift counter: 4 or CL=4; default 4)
; Out:	AX			(ASCII digits: AL=hi digit, AH=lo digit)
; Use:	MOVREG_, _digit2ch
; Modf:	none
; Call:	none
; Hint: AX may be immediately stored into memory to get 2-digit ASCII
;	string (with leading zero, if input value less than 10h).
;
_byte_hex_AX	macro	val:=<al>,case,shift ; :vararg
	ifnb <shift>
	ifdifi <shift>,<4>
	ifdifi <shift>,<cl>
		err "<shift> should be 4 or CL"
		exitm
	endif
	endif
	endif
	ifidni <shift>,<cl>
		MOVREG_	ah,<val>
		shr	ax,cl
		shr	al,cl
	else
		MOVREG_	al,<val>
	  ifdifi <val>,<ah>
		mov	ah,al
	  endif
		and	al,0Fh
		shr	ah,4
	endif
		_digit2ch 16,<case>
;		xchg	ah,al
	xchg al,ah	; TASM and JWASM use opposite encodings
		_digit2ch 16,<case>
endm

;
;		Get hexadecimal binary digits from word value
;
;
; In:	none
; Arg:	<val>			(value; default AX)
;	<code>			(instructions to handle each binary digit;
;				 default <<_digit2ch 16>,stosb>)
; Out:	none
; Use:	MOVREG_, _digit2ch
; Modf:	AX, CL
; Call:	none
; Note:	if <val>=AX/CX then AX pushed/poped in the loop, else <val>
;	assigned to AX at each iteration.
; Note:	<code> shouldn't rely on values of AH/CL and should preserve CX
;	and <val> (if <val> not AX/CX).
; Note:	all four digits generated from higher to lower (including all
;	leading zero).
;
_word_hex	macro	val:=<ax>,code ; :rest
	local loop
	ifidni <val>,<cx>
		MOVREG_	ax,<val>
	endif
		mov	cl,12
loop:
	ifidni <val>,<ax>
		push	ax
	elseifidni <val>,<cx>
		push	ax
	else
		MOVREG_	ax,<val>
	endif
		shr	ax,cl
		and	al,0Fh
	ifb <code>
		_digit2ch 16
		stosb
	else
	  irp c,<code>
		c
	  endm
	endif
	ifidni <val>,<ax>
		pop	ax
	elseifidni <val>,<cx>
		pop	ax
	endif
		sub	cl,4
		 jae	loop
endm
N                  |Y    DOC                  |Y    SOURCE               |Y                                                                                                                                                                                                                                                                                                                                                                    ion Screen  %3a%10d1%1a : Total Allocations %3a%10d2%1a : Allocations That Are Locked %3a%10d3%1a : Allocations in Memory %3a%10d4%1a : Allocations in EMS %3a%10d5%1a : Allocations in XMS %3a%10d6%1a : Allocations on Disk %3a%10l7%1a : Largest Free Block %3a%10l8%1a : Largest Freeable region %3a%10l9%1a : Total Free Space %3a%10m10%1a : Freespace EMS %3a%10m11%1a : Freespace XMS %3a%10m12%1a : Freespace Disk %3a%10d13%1a : Total Handles %3a%10m14%1a : Location of Handle Table  l>ѨlB|F}J<}N`}Rс}VѢ}; Assembler source library
; Copyright (c) 2002 Arkady Belousov <ark@mos.ru>
;
; This library is free software; you can redistribute it and/or modify it
; under the terms of the GNU Lesser General Public License as published by
; the Free Software Foundation; either version 2.1 of the License, or (at
; your option) any later version.
;
; This library is distributed in the hope that it will be useful,
; but WITHOUT ANY WARRANTY; without even the implied warranty of
; MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
; GNU Lesser General Public License for more details.
;
; You should have received a copy of the GNU Lesser General Public
; License along with this library; if not, write to the Free Software
; Foundation, Inc., 59 Temple Place, Suite 330, Boston, MA  02111-1307  USA
;

; Export: _ch2digit, _digit2ch

;
;	Convert ASCII character digit at any radix into binary value
;
;
; In:	AL			(character digit)
; Out:	AL			(value)
; Use:	none
; Modf:	none
; Call:	none
; Hint:	if on input AL will contain too big digit or no valid digit/letter
;	then on output AL will be greater than radix 
;
_ch2digit	macro
	local done
		cmp	al,'9'
		jbe	done
		dec	ax		; OPTIMIZE: instead DEC AL
		and	al,not 20h	; upper case
		sub	al,'A'-'0'-11
done:		sub	al,'0'
endm

;
;	Convert binary digit at any radix into ASCII character digit
;
;
; In:	AL			(value)
; Arg:	<maxradix>		(maximum/precise radix value; by default
;				 greatest possible radix)
;	<case>			(0-uppercase/20h-lowercase; default 0)
; Out:	AL			(character digit)
; Use:	none
; Modf:	none
; Call:	none
; Note:	for <case> may be used register or memory pointer, but their value
;	will not be checked for validness
; Note:	for <maxradix> in ranges [2..10] and [11..16] and for other values
;	(including missing or nonconstant value) generated different code 
;
_digit2ch	macro	maxradix,case:=<0>
	local done

	if (.type case) eq 00100100b
	;; symbol is defined and expression is a constant value
	if case ne 0 and case ne 20h
		err "Bad case argument!"
		exitm
	endif
	endif

	ifnb <maxradix>
	if (.type maxradix) eq 00100100b
	;; symbol is defined and expression is a constant value
	if (maxradix ge 2) and (maxradix le 16)
	  if maxradix le 10
		add	al,'0'
	  else
		cmp	al,10
		sbb	al,69h
		das
	    if (.type case) ne 00100100b
	      ;; symbol isn't defined or expression isn't a constant value
		or	al,case		; 0-uppercase/20h-lowercase
	    elseif case
		or	al,case		; 20h-lowercase
	    endif
	  endif
	  exitm
	endif
	endif
	endif

		add	al,'0'
		cmp	al,'9'
		jbe	done
	if (.type case) eq 00100100b
	  ;; symbol is defined and expression is a constant value
		add	al,('A' or case)-'9'-1
	else
		add	al,'A'-'9'-1
		or	al,case		; 0-uppercase/20h-lowercase
	endif
done:
endm
T           8  ASMLIB               |Y                                                                                                                                                                                                                                                                                                                                                                                                      BB!     X0f    YNst  nd  rd  th  ‏
ℏ∏`*.* File ^Name: %T1 Directory: %O2 %B6 %L3  %L4 Dri^ves: %X5  lTlXl\⤏`Ⰿdlhⴏl⿏pltlxÏ||llllǏlˏ|lЏl  ^OK   ^Cancel   2:BPFi^les  ^Directories    !QR     ;n@  p	 "  ,J    ;        bf  DXR
  BB! bf\ޏ! q%a1 %c4%c5 %12s2 %a3  %c1:%s2 %s1%s3%s2 . ..  Error: Too many files   l#llD Error: Invalid file name   lLll Browse: No memory  lxl[%8⤿uIX?y*S#
5jdcn φLv6H_}2rЍx<g@K߆dxJ	'RNE͙9^|Rn:ctQ:_FepЛU,<I6P
-=0qs*;-Z4aOB1&)%2WdG	u3C#P'e_~Xs%AJI]&>ZCNSP"%6<_arS l |vxWoJJMHgQa-)̑
/L\<dϢ<Ps	1W_/ηT|/\ ֬ {5˖u9ƜZ$xK$g	hȣN?%NԊ rEW Bv6p[ oh`na	Y;J[`lͥ:?bSRZ%#qs0bb=8=1J1QG#OmܴrS-%0i)JNJi7i%f {5LoRioZJKIL|J+KIF^D*.73	kh	~`> X7x-Ϥ<W$\yfu #T \`y3@@āOU&UY?zrJw^Z/h&R92[-5Ғyjfrͨy%$>nҧۣ5I=)K*#+UYJ**lG_4KHh%v,LO/2WL0S7)aDm俸,jLJ$JU%^}`PG'$o̔}D	Zg$KMReRQ%3~]*HR5W!osdtײ$".d~@uaax9#8~r@yɕ Oef_y)Ev~sC$MmZ4&J`tEY-eB$a"R[-Q41£Kx~Tv;]%-G(!@R8(nT~&{~7uʤRqyjr>۩/2QJbש"[OWlpSklnhH`9JJs,ёM[)%m \.6D8'*g\O܆ w(7sP"%<4<AԒ4 i\JjYJq4њRr;+  /G܄ȉ@B"O&961@gӸ%\'qjI".D8OȔ1D]E?S|NV1
L#]E+
)) el4
OJ)j&Bܨ}l)F>ɢ3u%u\cf?WAdBedCo<c.6snjёIç"`fg3W+	nN'7V҄#S׺3kmi>K`#ˋW?finH(eR@01UR<UXΗ={繣M|@fs(VsE?ȍ( |k( [p4{8/]fHF[sZ(Lw}u+7̬q'5h,虜U.? ؛#6?f_yܼdBXlwDQEA(spJA>cbՙ7Ъ/a#usF+VJkKAfJ+<+۝'ui-uy6,Rcy,DlI2'
Y80=ZuC<I¦,lMΖQIT/2~wsG޶dqo; Assembler source library
; Copyright (c) 2002 Arkady Belousov <ark@mos.ru>
;
; This library is free software; you can redistribute it and/or modify it
; under the terms of the GNU Lesser General Public License as published by
; the Free Software Foundation; either version 2.1 of the License, or (at
; your option) any later version.
;
; This library is distributed in the hope that it will be useful,
; but WITHOUT ANY WARRANTY; without even the implied warranty of
; MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
; GNU Lesser General Public License for more details.
;
; You should have received a copy of the GNU Lesser General Public
; License along with this library; if not, write to the Free Software
; Foundation, Inc., 59 Temple Place, Suite 330, Boston, MA  02111-1307  USA
;

; Import: MOVREG_ (macro.mac), MOVOFF_ (macro.mac), MOVSEG_ (macro.mac)
; Export: DOSWriteC, DOSWriteS

;
;			Write character to stdout
;
;
; In:	none
; Arg:	<char>			(character to write; default DL)
; Out:	none
; Use:	MOVREG_
; Modf:	AH
; Call:	INT 21/02
;
DOSWriteC	macro	char ; :vararg
		MOVREG_	dl,<char>
		mov	ah,2
		int	21h		; write character to stdout
endm

;
;		Write '$'-terminated string to stdout
;
;
; In:	none
; Arg:	<strseg>:<stroff>	('$'-terminated string; default DS:DX)
;	<strsegname>		(segment name for ASSUME DS:)
; Out:	none
; Use:	MOVOFF_, MOVSEG_
; Modf:	AH
; Call:	INT 21/09
;
DOSWriteS	macro	strseg,strsegname,stroff ; :vararg
		MOVOFF_	dx,<stroff>
		MOVSEG_	ds,<strseg>,,<strsegname>
		mov	ah,9
		int	21h		; write string to stdout
endm
                                                                                                                                          ; Assembler source library
; Copyright (c) 2002 Arkady Belousov <ark@mos.ru>
;
; This library is free software; you can redistribute it and/or modify it
; under the terms of the GNU Lesser General Public License as published by
; the Free Software Foundation; either version 2.1 of the License, or (at
; your option) any later version.
;
; This library is distributed in the hope that it will be useful,
; but WITHOUT ANY WARRANTY; without even the implied warranty of
; MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
; GNU Lesser General Public License for more details.
;
; You should have received a copy of the GNU Lesser General Public
; License along with this library; if not, write to the Free Software
; Foundation, Inc., 59 Temple Place, Suite 330, Boston, MA  02111-1307  USA
;

MCB		segment use16 para at 0
MCB_ID		db ?		; 0: 'M'=valid, 'Z'=last block in list
ownerID		dw ?		; 1: PSP seg of owner (0=free) or special flag
			; (6=DR-DOS XMS UMB, 7=DR-DOS excluded upper memory,
			; 8=belongs to DOS, 0xfffx=386MAX)
MCB_size	dw ?		; 3: size in paragraphs (without MCB itself)
		db 3 dup(?)
ownername	db 8 dup(?)
MCB		ends		; sizeof(MCB) == 16
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   ; Assembler source library
; Copyright (c) 2002 Arkady Belousov <ark@mos.ru>
;
; This library is free software; you can redistribute it and/or modify it
; under the terms of the GNU Lesser General Public License as published by
; the Free Software Foundation; either version 2.1 of the License, or (at
; your option) any later version.
;
; This library is distributed in the hope that it will be useful,
; but WITHOUT ANY WARRANTY; without even the implied warranty of
; MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
; GNU Lesser General Public License for more details.
;
; You should have received a copy of the GNU Lesser General Public
; License along with this library; if not, write to the Free Software
; Foundation, Inc., 59 Temple Place, Suite 330, Boston, MA  02111-1307  USA
;

; Import: MOVREG_ (macro.mac), MOVOFF_ (macro.mac), MOVSEG_ (macro.mac),
;	  MOVREG2 (macro.mac), MOVOFFax_ (macro.mac)
;
; Export: LOW_FIRSTFIT, LOW_BESTFIT, LOW_LASTFIT, HI_FIRSTFIT, HI_BESTFIT
;	  HI_LASTFIT, HILOW_FIRSTFIT, HILOW_BESTFIT, HILOW_LASTFIT,
;	  UMB_UNLINK, UMB_LINK
;
; Export: DOSGetIntr, DOSSetIntr, DOSAlloc, DOSRealloc, DOSFreeMem,
;	  DOSGetUMBlink, DOSSetUMBlink

;------------------------------------------------------------------------

LOW_FIRSTFIT	equ 0		; memory allocation strategy
LOW_BESTFIT	equ 1
LOW_LASTFIT	equ 2
HI_FIRSTFIT	equ 40h
HI_BESTFIT	equ 41h
HI_LASTFIT	equ 42h
HILOW_FIRSTFIT	equ 80h
HILOW_BESTFIT	equ 81h
HILOW_LASTFIT	equ 82h

UMB_UNLINK	equ 0		; UMB link state
UMB_LINK	equ 1

;
;			Get interrupt vector
;
;
; In:	none
; Arg:	<intrno>		(interrupt #; default AL)
; Out:	ES:BX			(interrupt vector)
; Use:	MOVREG2
; Modf:	AH
; Call:	INT 21/35
;
DOSGetIntr	macro	intrno ; :vararg
		MOVREG2	ax,ah,al,35h,<intrno>
		int	21h		; get INT in ES:BX
		assume	es:nothing
endm

;
;			Set interrupt vector
;
;
; In:	none
; Arg:	<intrno>		(interrupt #; default AL)
;	<hseg>:<hoff>		(new interrupt handler; default DS:DX)
;	<hsegname>		(segment name for ASSUME DS:)
; Out:	none
; Use:	MOVOFFax_, MOVSEG_
; Modf:	AH
; Call:	INT 21/25
;
DOSSetIntr	macro	intrno,hseg,hsegname,hoff ; :vararg
		MOVOFFax_ dx,dh,dl,<hoff>,25h,<intrno>
		MOVSEG_	ds,<hseg>,,<hsegname>
		int	21h		; set INT in DS:DX
endm

;
;			Allocate memory
;
;
; In:	none
; Arg:	<size>			(numbers of paragraphs to allocate; default BX)
;	<message>		(error string to load into DX)
;	<errlabel>		(where to go if error)
; Out:	Carry flag		(set if error)
;	AX			(segment of allocated block;
;				 errcode {7,8} if Carry set)
;	BX			(size of largest availabl